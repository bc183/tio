_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{Aiso:function(e,t,n){e.exports=n("dQHF")},FOu3:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var i=n("o0o1"),c=n.n(i),s=n("HaE+"),r=n("nKUr"),a=n("8Kt/"),o=n.n(a),l=n("YFqc"),d=n.n(l),u=n("nOHt"),b=n("VtrM"),j=n("Aiso"),m=n.n(j),x=n("Wgwc"),h=n.n(x),f=n("QgiU"),p=n.n(f),v=n("TSYQ"),O=n.n(v),g=n("rREq"),y=n("vDqi"),w=n.n(y),N=n("M0WP"),A=n("BH0o"),k=n("q1tI"),S=n("+ryr");function z(){var e=Object(k.useState)(""),t=e[0],n=e[1],i=Object(N.c)(),a=i.authenticated,l=i.user,j=Object(k.useState)(""),x=j[0],f=j[1],p=Object(u.useRouter)(),v=p.query,y=v.identifier,z=v.sub,_=v.slug,q=Object(b.b)(y&&_?"/posts/".concat(y,"/").concat(_):null),E=q.data,C=q.error,D=q.revalidate,I=Object(b.b)(y&&_?"/posts/".concat(y,"/").concat(_,"/comments"):null),R=I.data,U=I.revalidate;Object(k.useEffect)((function(){if(E){var e=E.body||E.title;e=e.substr(0,158).concat("..."),f(e)}}),[E]),C&&p.push("/");var V=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||p.push("/login"),(!n&&t===E.userVote||n&&n.userVote===t)&&(t=0),e.prev=2,e.next=5,w.a.post("/misc/vote",{identifier:y,slug:_,commentIdentifier:null===n||void 0===n?void 0:n.identifier,value:t});case 5:e.sent,U&&D(),n&&U(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(c.a.mark((function e(i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),""!==t.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,w.a.post("/posts/".concat(E.identifier,"/").concat(E.slug,"/comments"),{body:t});case 6:n(""),U&&U(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(o.a,{children:[Object(r.jsx)("title",{children:null===E||void 0===E?void 0:E.title}),Object(r.jsx)("meta",{name:"description",content:x}),Object(r.jsx)("meta",{property:"og:description",content:x}),Object(r.jsx)("meta",{property:"og:title",content:null===E||void 0===E?void 0:E.title}),Object(r.jsx)("meta",{property:"twitter:title",content:null===E||void 0===E?void 0:E.title}),Object(r.jsx)("meta",{property:"twitter:description",content:x})]}),Object(r.jsx)(d.a,{href:"/r/".concat(z),children:Object(r.jsx)("a",{children:Object(r.jsx)("div",{className:"flex items-center w-full h-20 p-8 bg-blue-500",children:Object(r.jsxs)("div",{className:"container flex",children:[E&&Object(r.jsx)("div",{className:"w-8 h-8 mr-2 overflow-hidden rounded-full",children:Object(r.jsx)(m.a,{src:E.sub.imageUrl,height:32,width:32})}),Object(r.jsxs)("p",{className:"text-xl font-semibold text-white",children:["/r/",z]})]})})})}),Object(r.jsxs)("div",{className:"container flex pt-5",children:[Object(r.jsx)("div",{className:"w-160",children:Object(r.jsx)("div",{className:"bg-white rounded",children:E&&Object(r.jsxs)(k.Fragment,{children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsxs)("div",{className:"flex-shrink-0 w-10 py-2 text-center rounded-l",children:[Object(r.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500",onClick:function(){return V(1)},children:Object(r.jsx)("i",{className:O()("icon-arrow-up",{"text-red-500":1===E.userVote})})}),Object(r.jsx)("p",{className:"text-xs font-bold",children:E.voteScore}),Object(r.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600",onClick:function(){return V(-1)},children:Object(r.jsx)("i",{className:O()("icon-arrow-down",{"text-blue-600":-1===E.userVote})})})]}),Object(r.jsxs)("div",{className:"py-2 pr-2",children:[Object(r.jsx)("div",{className:"flex items-center",children:Object(r.jsxs)("p",{className:"text-xs text-gray-500",children:["Posted by",Object(r.jsx)(d.a,{href:"/u/".concat(E.username),children:Object(r.jsxs)("a",{className:"mx-1 hover:underline",children:["/u/",E.username]})}),Object(r.jsx)(d.a,{href:E.url,children:Object(r.jsx)("a",{className:"mx-1 hover:underline",children:h()(E.createdAt).fromNow()})})]})}),Object(r.jsx)("h1",{className:"my-1 text-xl font-medium",children:E.title}),null!==E.imageUrl&&Object(r.jsx)("img",{src:E.imageUrl}),E.body&&"Languages"!==E.language?Object(r.jsx)(S.a,{className:"my-1 text-sm",language:E.language,children:E.body}):Object(r.jsx)("p",{className:"my-1 text-sm",children:E.body}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(d.a,{href:E.url,children:Object(r.jsx)("a",{children:Object(r.jsxs)(A.a,{children:[Object(r.jsx)("i",{className:"mr-1 fas fa-comment-alt fa-xs"}),Object(r.jsxs)("span",{className:"font-bold",children:[E.commentCount," Comments"]})]})})}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)("i",{className:"mr-1 fas fa-share fa-xs"}),Object(r.jsx)("span",{className:"font-bold",children:"Share"})]}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)("i",{className:"mr-1 fas fa-bookmark fa-xs"}),Object(r.jsx)("span",{className:"font-bold",children:"Save"})]})]})]})]}),Object(r.jsx)("div",{className:"pl-10 pr-6 mb-4",children:a?Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{className:"mb-1 text-xs",children:["Comment as",Object(r.jsx)(d.a,{href:"/u/".concat(l.username),children:Object(r.jsx)("a",{className:"ml-1 font-semibold text-blue-500",children:l.username})})]}),Object(r.jsxs)("form",{onSubmit:W,children:[Object(r.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-gray-600",onChange:function(e){return n(e.target.value)},value:t}),Object(r.jsx)("div",{className:"flex justify-end",children:Object(r.jsx)("button",{className:"px-3 py-1 blue button",disabled:""===t.trim(),children:"Comment"})})]})]}):Object(r.jsxs)("div",{className:"flex items-center justify-between px-2 py-4 border border-gray-200",children:[Object(r.jsx)("p",{className:"font-semibold text-gray-400",children:"Log in or Sign up to leave a comment"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(d.a,{href:"/login",children:Object(r.jsx)("a",{className:"px-4 py-1 mr-4 hollow blue button",children:"Login"})}),Object(r.jsx)(d.a,{href:"/register",children:Object(r.jsx)("a",{className:"px-4 py-1 blue button",children:"Sign up"})})]})]})}),Object(r.jsx)("hr",{}),null===R||void 0===R?void 0:R.map((function(e){return Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsxs)("div",{className:"flex-shrink-0 w-10 py-2 text-center rounded-l",children:[Object(r.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500",onClick:function(){return V(1,e)},children:Object(r.jsx)("i",{className:O()("icon-arrow-up",{"text-red-500":1===e.userVote})})}),Object(r.jsx)("p",{className:"text-xs font-bold",children:e.voteScore}),Object(r.jsx)("div",{className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600",onClick:function(){return V(-1,e)},children:Object(r.jsx)("i",{className:O()("icon-arrow-down",{"text-blue-600":-1===e.userVote})})})]}),Object(r.jsxs)("div",{className:"py-2 pr-2",children:[Object(r.jsxs)("p",{className:"mb-1 text-xs leading-none",children:[Object(r.jsx)(d.a,{href:"/u/".concat(e.username),children:Object(r.jsx)("a",{className:"mr-1 font-bold hover:underline",children:e.username})}),Object(r.jsx)("span",{className:"text-gray-600",children:"\n                                ".concat(e.voteScore,"\n                                points .\n                                ").concat(h()(e.createdAt).fromNow(),"\n                            ")})]}),Object(r.jsx)("p",{children:e.body})]})]},e.identifier)}))]})})}),E&&Object(r.jsx)(g.a,{sub:E.sub})]})]})}h.a.extend(p.a)},UWYU:function(e,t,n){"use strict";t.__esModule=!0,t.imageConfigDefault=t.VALID_LOADERS=void 0;t.VALID_LOADERS=["default","imgix","cloudinary","akamai"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",domains:[]}},dEHY:function(e,t,n){"use strict";t.__esModule=!0,t.toBase64=function(e){return window.btoa(e)}},dQHF:function(e,t,n){"use strict";var i=n("J4zp"),c=n("RIqP"),s=n("TqRt");t.__esModule=!0,t.default=function(e){var t=e.src,n=e.sizes,s=e.unoptimized,a=void 0!==s&&s,d=e.priority,b=void 0!==d&&d,j=e.loading,x=e.className,h=e.quality,f=e.width,g=e.height,y=e.objectFit,w=e.objectPosition,N=(0,r.default)(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","objectFit","objectPosition"]),A=n?"responsive":"intrinsic",k=!1;"unsized"in N?(k=Boolean(N.unsized),delete N.unsized):"layout"in N&&(N.layout&&(A=N.layout),delete N.layout);0;var S=!b&&("lazy"===j||"undefined"===typeof j);t&&t.startsWith("data:")&&(a=!0,S=!1);var z,_,q,E=(0,u.useIntersection)({rootMargin:"200px",disabled:!S}),C=i(E,2),D=C[0],I=C[1],R=!S||I,U=O(f),V=O(g),W=O(h),F={visibility:R?"visible":"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:y,objectPosition:w};if("undefined"!==typeof U&&"undefined"!==typeof V&&"fill"!==A){var L=V/U,M=isNaN(L)?"100%":"".concat(100*L,"%");"responsive"===A?(z={display:"block",overflow:"hidden",position:"relative",boxSizing:"border-box",margin:0},_={display:"block",boxSizing:"border-box",paddingTop:M}):"intrinsic"===A?(z={display:"inline-block",maxWidth:"100%",overflow:"hidden",position:"relative",boxSizing:"border-box",margin:0},_={boxSizing:"border-box",display:"block",maxWidth:"100%"},q='<svg width="'.concat(U,'" height="').concat(V,'" xmlns="http://www.w3.org/2000/svg" version="1.1"/>')):"fixed"===A&&(z={overflow:"hidden",boxSizing:"border-box",display:"inline-block",position:"relative",width:U,height:V})}else"undefined"===typeof U&&"undefined"===typeof V&&"fill"===A&&(z={display:"block",overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",margin:0});var P={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};R&&(P=function(e){var t=e.src,n=e.unoptimized,i=e.layout,s=e.width,r=e.quality,a=e.sizes;if(n)return{src:t};var o=function(e,t){if("number"!==typeof e||"fill"===t||"responsive"===t)return{widths:m,kind:"w"};return{widths:c(new Set([e,2*e,3*e].map((function(e){return p.find((function(t){return t>=e}))||p[p.length-1]})))),kind:"x"}}(s,i),l=o.widths,d=o.kind,u=l.length-1,b=l.map((function(e,n){return"".concat(v({src:t,quality:r,width:e})," ").concat("w"===d?e:n+1).concat(d)})).join(", ");a||"w"!==d||(a=l.map((function(e,t){return t===u?"".concat(e,"px"):"(max-width: ".concat(e,"px) ").concat(e,"px")})).join(", "));return{src:t=v({src:t,quality:r,width:l[u]}),sizes:a,srcSet:b}}({src:t,unoptimized:a,layout:A,width:U,quality:W,sizes:n}));k&&(z=void 0,_=void 0,F=void 0);return o.default.createElement("div",{style:z},_?o.default.createElement("div",{style:_},q?o.default.createElement("img",{style:{maxWidth:"100%",display:"block"},alt:"","aria-hidden":!0,role:"presentation",src:"data:image/svg+xml;base64,".concat((0,l.toBase64)(q))}):null):null,o.default.createElement("img",Object.assign({},N,P,{decoding:"async",className:x,ref:D,style:F})))};var r=s(n("8OQS")),a=s(n("pVnL")),o=s(n("q1tI")),l=n("dEHY"),d=n("UWYU"),u=n("vNVm");var b=new Map([["imgix",function(e){var t=e.root,n=e.src,i=e.width,c=e.quality,s=["auto=format","fit=max","w="+i],r="";c&&s.push("q="+c);s.length&&(r="?"+s.join("&"));return"".concat(t).concat(g(n)).concat(r)}],["cloudinary",function(e){var t=e.root,n=e.src,i=e.width,c=e.quality,s=["f_auto","c_limit","w_"+i],r="";c&&s.push("q_"+c);s.length&&(r=s.join(",")+"/");return"".concat(t).concat(r).concat(g(n))}],["akamai",function(e){var t=e.root,n=e.src,i=e.width;return"".concat(t).concat(g(n),"?imwidth=").concat(i)}],["default",function(e){var t=e.root,n=e.src,i=e.width,c=e.quality;0;return"".concat(t,"?url=").concat(encodeURIComponent(n),"&w=").concat(i,"&q=").concat(c||75)}]]),j={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default"}||d.imageConfigDefault,m=j.deviceSizes,x=j.imageSizes,h=j.loader,f=j.path,p=(j.domains,[].concat(c(m),c(x)));function v(e){var t=b.get(h);if(t)return t((0,a.default)({root:f},e));throw new Error('Unknown "loader" found in "next.config.js". Expected: '.concat(d.VALID_LOADERS.join(", "),". Received: ").concat(h))}function O(e){return"number"===typeof e?e:"string"===typeof e?parseInt(e,10):void 0}function g(e){return"/"===e[0]?e.slice(1):e}m.sort((function(e,t){return e-t})),p.sort((function(e,t){return e-t}))},hqGe:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/r/[sub]/[identifier]/[slug]",function(){return n("FOu3")}])},rREq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("nKUr"),c=n("Wgwc"),s=n.n(c),r=n("YFqc"),a=n.n(r),o=n("M0WP");function l(e){var t=e.sub,n=Object(o.c)().authenticated;return Object(i.jsx)("div",{className:"w-40 ml-6 md:w-80",children:Object(i.jsxs)("div",{className:"bg-white rounded",children:[Object(i.jsx)("div",{className:"p-3 bg-blue-500 rounded-t",children:Object(i.jsx)("p",{className:"font-semibold text-white",children:"About Community"})}),Object(i.jsxs)("div",{className:"p-3",children:[Object(i.jsx)("p",{className:"mb-3 text-md",children:t.description}),Object(i.jsxs)("div",{className:"flex mb-3 text-sm font-medium",children:[Object(i.jsxs)("div",{className:"w-1/2",children:[Object(i.jsx)("p",{children:"5.2k"}),Object(i.jsx)("p",{children:"members"})]}),Object(i.jsxs)("div",{className:"w-1/2",children:[Object(i.jsx)("p",{children:"150"}),Object(i.jsx)("p",{children:"Online"})]})]}),Object(i.jsxs)("p",{className:"my-3",children:[Object(i.jsx)("i",{className:"mr-2 fas fa-birthday-cake"}),"Created ",s()(t.createdAt).format("D MMM YYYY")]}),n&&Object(i.jsx)(a.a,{href:"/r/".concat(t.name,"/submit"),children:Object(i.jsx)("a",{className:"w-full py-1 text-sm blue button",children:"Create Post"})})]})]})})}}},[["hqGe",0,2,1,3,4,5,6]]]);