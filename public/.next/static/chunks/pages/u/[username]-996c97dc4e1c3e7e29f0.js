_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{A3jn:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/u/[username]",function(){return r("Jpkz")}])},Jpkz:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var s=r("o0o1"),c=r.n(s),a=r("HaE+"),n=r("nKUr"),i=r("vDqi"),l=r.n(i),o=r("Wgwc"),d=r.n(o),u=r("8Kt/"),j=r.n(u),m=r("YFqc"),b=r.n(m),x=r("nOHt"),h=r("q1tI"),f=r("VtrM"),O=r("ikY9"),p=r("M0WP"),v=r("TSYQ"),N=r.n(v);function g(){var e=Object(x.useRouter)(),t=Object(p.c)().user,r=e.query.username,s=Object(f.b)(r?"/users/".concat(r):null),i=s.data,o=s.error,u=s.revalidate;o&&e.push("/");var m=(null===t||void 0===t?void 0:t.username)===r,v=Object(h.createRef)(),g=function(){var e=Object(a.a)(c.a.mark((function e(r){var s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.target.files[0],(a=new FormData).append("file",s),e.prev=3,e.next=6,l.a.post("/users/".concat(null===t||void 0===t?void 0:t.username,"/profile"),a,{headers:{"Content-Type":"multipart/form-data"}});case 6:u(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(h.Fragment,{children:[Object(n.jsx)(j.a,{children:Object(n.jsx)("title",{children:null===i||void 0===i?void 0:i.user.username})}),i&&Object(n.jsxs)("div",{className:"container flex pt-5",children:[Object(n.jsx)("input",{type:"file",hidden:!0,ref:v,onChange:g}),Object(n.jsx)("div",{className:"w-160",children:i.submissions.map((function(e){if("Post"===e.type){var t=e;return Object(n.jsx)(O.a,{post:t,revalidate:u},e.identifier)}var r=e;return Object(n.jsxs)("div",{className:"flex my-4 bg-white rounded",children:[Object(n.jsx)("div",{className:"flex-shrink-0 w-10 py-4 text-center bg-gray-200 rounded-l",children:Object(n.jsx)("i",{className:"text-gray-500 fas fa-comment-alt fa-xs"})}),Object(n.jsxs)("div",{className:"w-full p-2",children:[Object(n.jsxs)("p",{className:"mb-2 text-xs text-gray-500",children:[r.username,Object(n.jsx)("span",{children:" commented on "}),Object(n.jsx)(b.a,{href:r.post.url,children:Object(n.jsx)("a",{href:"",className:"font-semibold cursor-pointer hover:underline",children:r.post.title})}),Object(n.jsx)("span",{className:"mx-1",children:"."}),Object(n.jsx)(b.a,{href:"/r/".concat(r.post.subName),children:Object(n.jsxs)("a",{href:"",className:"text-black cursor-pointer hover:underline",children:["/r/",r.post.subName]})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:r.body})]})]},r.identifier)}))}),Object(n.jsx)("div",{className:"ml-6 w-80",children:Object(n.jsxs)("div",{className:"bg-white rounded",children:[Object(n.jsx)("div",{className:"p-3 bg-blue-500 rounded-t",children:Object(n.jsx)("img",{src:i.user.imageUrl,alt:"user-profile",className:N()("w-16 h-16 mx-auto border-2 border-white rounded-full",{"cursor-pointer":m}),onClick:function(){return e="image",void(m&&(v.current.name=e,v.current.click()));var e}})}),Object(n.jsxs)("div",{className:"p-3 text-center",children:[Object(n.jsx)("h1",{className:"mb-3 text-xl",children:i.user.username}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"mt-3",children:["Joined ",d()(i.user.createdAt).format("MMM YYYY")]})]})]})})]})]})}},ikY9:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var s=r("o0o1"),c=r.n(s),a=r("HaE+"),n=r("nKUr"),i=r("vDqi"),l=r.n(i),o=r("TSYQ"),d=r.n(o),u=r("Wgwc"),j=r.n(u),m=r("QgiU"),b=r.n(m),x=r("YFqc"),h=r.n(x),f=r("nOHt"),O=r("q1tI"),p=r("M0WP"),v=r("BH0o"),N=r("+ryr");function g(e){var t=e.post,r=e.revalidate,s=e.setVote,i=e.setDummy,o=Object(p.c)().authenticated,u=Object(f.useRouter)(),m="/r/[sub]"===u.pathname,b=function(){var e=Object(a.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o||u.push("/login"),console.log("hi vote"),a===t.userVote&&(a=0),e.prev=3,e.next=6,l.a.post("/misc/vote",{identifier:t.identifier,slug:t.slug,value:a});case 6:e.sent,r&&r(),s(a,t),i({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{id:t.identifier,className:"flex mb-4 bg-white rounded",children:[Object(n.jsxs)("div",{className:"w-10 py-3 text-center bg-gray-200 rounded-l",children:[Object(n.jsx)("div",{onClick:function(){return b(1)},className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500",children:Object(n.jsx)("i",{className:d()("icon-arrow-up",{"text-red-500":1===t.userVote})})}),Object(n.jsx)("p",{children:t.voteScore}),Object(n.jsx)("div",{onClick:function(){return b(-1)},className:"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600",children:Object(n.jsx)("i",{className:d()("icon-arrow-down",{"text-blue-600":-1===t.userVote})})})]}),Object(n.jsxs)("div",{className:"w-full p-2",children:[Object(n.jsxs)("div",{className:"flex items-center ",children:[!m&&Object(n.jsxs)(O.Fragment,{children:[Object(n.jsx)(h.a,{href:"/r/".concat(t.subName),children:Object(n.jsx)("img",{src:t.sub.imageUrl||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",className:"w-6 h-6 mr-1 rounded-full cursor-pointer"})}),Object(n.jsx)(h.a,{href:"/r/".concat(t.subName),children:Object(n.jsxs)("a",{className:"text-xs font-bold cursor-pointer hover:underline",children:["/r/",t.subName]})})]}),Object(n.jsxs)("p",{className:"text-xs text-gray-600",children:[". Posted by",Object(n.jsx)(h.a,{href:"/u/".concat(t.username),children:Object(n.jsxs)("a",{className:"mx-1 hover:underline",children:["/u/",t.username]})}),Object(n.jsx)(h.a,{href:t.url,children:Object(n.jsx)("a",{className:"mx-1 hover:underline",children:j()(t.createdAt).fromNow()})})]})]}),Object(n.jsx)(h.a,{href:t.url,children:Object(n.jsx)("a",{className:"my-1 text-lg font-medium",children:t.title})}),null!==t.imageUrl&&Object(n.jsx)("img",{src:t.imageUrl}),t.body&&t.language?Object(n.jsx)(N.a,{className:"my-1 text-sm",language:t.language,children:t.body}):Object(n.jsx)("p",{className:"my-1 text-sm",children:t.body}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(h.a,{href:t.url,children:Object(n.jsx)("a",{children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-comment-alt fa-xs"}),Object(n.jsxs)("span",{className:"font-bold",children:[t.commentCount," Comments"]})]})})}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-share fa-xs"}),Object(n.jsx)("span",{className:"font-bold",children:"Share"})]}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)("i",{className:"mr-1 fas fa-bookmark fa-xs"}),Object(n.jsx)("span",{className:"font-bold",children:"Save"})]})]})]})]},t.identifier)}j.a.extend(b.a)}},[["A3jn",0,2,1,3,4,5,6]]]);