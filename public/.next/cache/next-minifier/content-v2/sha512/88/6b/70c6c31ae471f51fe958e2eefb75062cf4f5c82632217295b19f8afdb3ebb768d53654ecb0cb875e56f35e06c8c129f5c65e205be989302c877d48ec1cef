{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{\"/EDR\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"23aj\")}])},\"23aj\":function(e,t,n){\"use strict\";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}n.r(t),n.d(t,\"default\",(function(){return g}));var a=n(\"nKUr\"),o=n(\"8Kt/\"),c=n.n(o),s=n(\"YFqc\"),l=n.n(s),d=n(\"Wgwc\"),u=n.n(d),f=n(\"QgiU\"),m=n.n(f),h=n(\"q1tI\"),b=n(\"ikY9\"),p=n(\"VtrM\"),j=n(\"Aiso\"),x=n.n(j),v=n(\"M0WP\");function g(){var e,t=Object(p.b)(\"/misc/top-subs\").data,n=Object(h.useState)(\"\"),r=n[0],o=n[1],s=Object(p.c)((function(e){return\"/posts?page=\".concat(e)})),d=s.data,u=s.error,f=(s.mutate,s.size),m=s.setSize,j=s.isValidating,g=s.revalidate,y=d?(e=[]).concat.apply(e,i(d)):[],O=!d&&!u,w=\"TIO: Talk It Out\",N=\"Talk It Out is a platorm where people gather together as a communtiy to talk about the stuffs they like.\";Object(h.useEffect)((function(){if(y&&0!==y.length){var e=y[y.length-1].identifier;e!==r&&(o(e),A(document.getElementById(e)))}}),[y]);var A=function(e){if(e){var t=new IntersectionObserver((function(n){!0===n[0].isIntersecting&&(console.log(\"hii\"),m(f+1),t.unobserve(e))}),{threshold:1});t.observe(e)}},S=Object(v.c)().authenticated;return Object(a.jsxs)(h.Fragment,{children:[Object(a.jsxs)(c.a,{children:[Object(a.jsx)(\"title\",{children:w}),Object(a.jsx)(\"meta\",{name:\"description\",content:N}),Object(a.jsx)(\"meta\",{property:\"og:description\",content:N}),Object(a.jsx)(\"meta\",{property:\"og:title\",content:w}),Object(a.jsx)(\"meta\",{property:\"twitter:title\",content:w}),Object(a.jsx)(\"meta\",{property:\"twitter:description\",content:N})]}),Object(a.jsxs)(\"div\",{className:\"container flex pt-4\",children:[Object(a.jsxs)(\"div\",{className:\"w-full md:w-160\",children:[O&&Object(a.jsx)(\"p\",{className:\"text-lg text-center\",children:\"Loading...\"}),null===y||void 0===y?void 0:y.map((function(e){return Object(a.jsx)(b.a,{post:e,revalidate:g},e.identifier)})),j&&y.length>0&&Object(a.jsx)(\"p\",{className:\"text-lg text-center\",children:\"Loading more...\"})]}),Object(a.jsx)(\"div\",{className:\"hidden px-4 ml-6 md:block md:p-0 w-80\",children:Object(a.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(a.jsx)(\"div\",{className:\"p-4 border-b-2\",children:Object(a.jsx)(\"p\",{className:\"text-lg font-semibold text-center\",children:\"Top Communities\"})}),Object(a.jsx)(\"div\",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsxs)(\"div\",{className:\"flex items-center px-4 py-2 text-xs border-b\",children:[Object(a.jsx)(l.a,{href:\"/r/\".concat(e.name),children:Object(a.jsx)(\"a\",{children:Object(a.jsx)(x.a,{className:\"rounded-full cursor-pointer\",src:e.imageUrl,alt:\"sub\",width:24,height:24})})}),Object(a.jsx)(l.a,{href:\"/r/\".concat(e.name),children:Object(a.jsxs)(\"a\",{className:\"ml-2 font-bold hover:cursor-pointer\",children:[\"/r/\",e.name]})}),Object(a.jsx)(\"p\",{className:\"ml-auto font-medium\",children:e.postCount})]},e.name)}))}),S&&Object(a.jsx)(\"div\",{className:\"p-4 border-t-2\",children:Object(a.jsx)(l.a,{href:\"/subs/create\",children:Object(a.jsx)(\"a\",{className:\"w-full px-2 py-1 blue button\",children:\"Create Community\"})})})]})})]})]})}u.a.extend(m.a)},\"8OQS\":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},Aiso:function(e,t,n){e.exports=n(\"dQHF\")},BH0o:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(\"nKUr\");function i(e){var t=e.children;return Object(r.jsx)(\"div\",{className:\"px-1 py-1 mr-2 text-xs text-gray-400 rounded cursor-pointer hover:bg-gray-200\",children:t})}},QgiU:function(e,t,n){e.exports=function(){\"use strict\";return function(e,t,n){e=e||{};var r=t.prototype,i={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};n.en.relativeTime=i;var a=function(t,r,a,o){for(var c,s,l,d=a.$locale().relativeTime||i,u=e.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],f=u.length,m=0;m<f;m+=1){var h=u[m];h.d&&(c=o?n(t).diff(a,h.d,!0):a.diff(t,h.d,!0));var b=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,b<=h.r||!h.r){b<=1&&m>0&&(h=u[m-1]);var p=d[h.l];s=\"string\"==typeof p?p.replace(\"%d\",b):p(b,r,h.l,l);break}}if(r)return s;var j=l?d.future:d.past;return\"function\"==typeof j?j(s):j.replace(\"%s\",s)};r.to=function(e,t){return a(e,t,this,!0)},r.from=function(e,t){return a(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},TSYQ:function(e,t,n){var r;!function(){\"use strict\";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if(\"string\"===a||\"number\"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if(\"object\"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(\" \")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},UWYU:function(e,t,n){\"use strict\";t.__esModule=!0,t.imageConfigDefault=t.VALID_LOADERS=void 0;t.VALID_LOADERS=[\"default\",\"imgix\",\"cloudinary\",\"akamai\"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",domains:[]}},dEHY:function(e,t,n){\"use strict\";t.__esModule=!0,t.toBase64=function(e){return window.btoa(e)}},dQHF:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),i=n(\"RIqP\"),a=n(\"TqRt\");t.__esModule=!0,t.default=function(e){var t=e.src,n=e.sizes,a=e.unoptimized,c=void 0!==a&&a,d=e.priority,f=void 0!==d&&d,m=e.loading,b=e.className,p=e.quality,j=e.width,y=e.height,O=e.objectFit,w=e.objectPosition,N=(0,o.default)(e,[\"src\",\"sizes\",\"unoptimized\",\"priority\",\"loading\",\"className\",\"quality\",\"width\",\"height\",\"objectFit\",\"objectPosition\"]),A=n?\"responsive\":\"intrinsic\",S=!1;\"unsized\"in N?(S=Boolean(N.unsized),delete N.unsized):\"layout\"in N&&(N.layout&&(A=N.layout),delete N.layout);0;var k=!f&&(\"lazy\"===m||\"undefined\"===typeof m);t&&t.startsWith(\"data:\")&&(c=!0,k=!1);var z,_,E,I=(0,u.useIntersection)({rootMargin:\"200px\",disabled:!k}),q=r(I,2),M=q[0],U=q[1],C=!k||U,D=g(j),T=g(y),P=g(p),R={visibility:C?\"visible\":\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",padding:0,border:\"none\",margin:\"auto\",display:\"block\",width:0,height:0,minWidth:\"100%\",maxWidth:\"100%\",minHeight:\"100%\",maxHeight:\"100%\",objectFit:O,objectPosition:w};if(\"undefined\"!==typeof D&&\"undefined\"!==typeof T&&\"fill\"!==A){var W=T/D,H=isNaN(W)?\"100%\":\"\".concat(100*W,\"%\");\"responsive\"===A?(z={display:\"block\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={display:\"block\",boxSizing:\"border-box\",paddingTop:H}):\"intrinsic\"===A?(z={display:\"inline-block\",maxWidth:\"100%\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={boxSizing:\"border-box\",display:\"block\",maxWidth:\"100%\"},E='<svg width=\"'.concat(D,'\" height=\"').concat(T,'\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>')):\"fixed\"===A&&(z={overflow:\"hidden\",boxSizing:\"border-box\",display:\"inline-block\",position:\"relative\",width:D,height:T})}else\"undefined\"===typeof D&&\"undefined\"===typeof T&&\"fill\"===A&&(z={display:\"block\",overflow:\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",margin:0});var L={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"};C&&(L=function(e){var t=e.src,n=e.unoptimized,r=e.layout,a=e.width,o=e.quality,c=e.sizes;if(n)return{src:t};var s=function(e,t){if(\"number\"!==typeof e||\"fill\"===t||\"responsive\"===t)return{widths:h,kind:\"w\"};return{widths:i(new Set([e,2*e,3*e].map((function(e){return x.find((function(t){return t>=e}))||x[x.length-1]})))),kind:\"x\"}}(a,r),l=s.widths,d=s.kind,u=l.length-1,f=l.map((function(e,n){return\"\".concat(v({src:t,quality:o,width:e}),\" \").concat(\"w\"===d?e:n+1).concat(d)})).join(\", \");c||\"w\"!==d||(c=l.map((function(e,t){return t===u?\"\".concat(e,\"px\"):\"(max-width: \".concat(e,\"px) \").concat(e,\"px\")})).join(\", \"));return{src:t=v({src:t,quality:o,width:l[u]}),sizes:c,srcSet:f}}({src:t,unoptimized:c,layout:A,width:D,quality:P,sizes:n}));S&&(z=void 0,_=void 0,R=void 0);return s.default.createElement(\"div\",{style:z},_?s.default.createElement(\"div\",{style:_},E?s.default.createElement(\"img\",{style:{maxWidth:\"100%\",display:\"block\"},alt:\"\",\"aria-hidden\":!0,role:\"presentation\",src:\"data:image/svg+xml;base64,\".concat((0,l.toBase64)(E))}):null):null,s.default.createElement(\"img\",Object.assign({},N,L,{decoding:\"async\",className:b,ref:M,style:R})))};var o=a(n(\"8OQS\")),c=a(n(\"pVnL\")),s=a(n(\"q1tI\")),l=n(\"dEHY\"),d=n(\"UWYU\"),u=n(\"vNVm\");var f=new Map([[\"imgix\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,a=[\"auto=format\",\"fit=max\",\"w=\"+r],o=\"\";i&&a.push(\"q=\"+i);a.length&&(o=\"?\"+a.join(\"&\"));return\"\".concat(t).concat(y(n)).concat(o)}],[\"cloudinary\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,a=[\"f_auto\",\"c_limit\",\"w_\"+r],o=\"\";i&&a.push(\"q_\"+i);a.length&&(o=a.join(\",\")+\"/\");return\"\".concat(t).concat(o).concat(y(n))}],[\"akamai\",function(e){var t=e.root,n=e.src,r=e.width;return\"\".concat(t).concat(y(n),\"?imwidth=\").concat(r)}],[\"default\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality;0;return\"\".concat(t,\"?url=\").concat(encodeURIComponent(n),\"&w=\").concat(r,\"&q=\").concat(i||75)}]]),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\"}||d.imageConfigDefault,h=m.deviceSizes,b=m.imageSizes,p=m.loader,j=m.path,x=(m.domains,[].concat(i(h),i(b)));function v(e){var t=f.get(p);if(t)return t((0,c.default)({root:j},e));throw new Error('Unknown \"loader\" found in \"next.config.js\". Expected: '.concat(d.VALID_LOADERS.join(\", \"),\". Received: \").concat(p))}function g(e){return\"number\"===typeof e?e:\"string\"===typeof e?parseInt(e,10):void 0}function y(e){return\"/\"===e[0]?e.slice(1):e}h.sort((function(e,t){return e-t})),x.sort((function(e,t){return e-t}))},ikY9:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return y}));var r=n(\"o0o1\"),i=n.n(r),a=n(\"HaE+\"),o=n(\"nKUr\"),c=n(\"vDqi\"),s=n.n(c),l=n(\"TSYQ\"),d=n.n(l),u=n(\"Wgwc\"),f=n.n(u),m=n(\"QgiU\"),h=n.n(m),b=n(\"YFqc\"),p=n.n(b),j=n(\"nOHt\"),x=n(\"q1tI\"),v=n(\"M0WP\"),g=n(\"BH0o\");function y(e){var t=e.post,n=e.revalidate,r=Object(v.c)().authenticated,c=Object(j.useRouter)(),l=\"/r/[sub]\"===c.pathname,u=function(){var e=Object(a.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r||c.push(\"/login\"),a===t.userVote&&(a=0),e.prev=2,e.next=5,s.a.post(\"/misc/vote\",{identifier:t.identifier,slug:t.slug,value:a});case 5:e.sent,n&&n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(\"div\",{id:t.identifier,className:\"flex mb-4 bg-white rounded\",children:[Object(o.jsxs)(\"div\",{className:\"w-10 py-3 text-center bg-gray-200 rounded-l\",children:[Object(o.jsx)(\"div\",{onClick:function(){return u(1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",children:Object(o.jsx)(\"i\",{className:d()(\"icon-arrow-up\",{\"text-red-500\":1===t.userVote})})}),Object(o.jsx)(\"p\",{children:t.voteScore}),Object(o.jsx)(\"div\",{onClick:function(){return u(-1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",children:Object(o.jsx)(\"i\",{className:d()(\"icon-arrow-down\",{\"text-blue-600\":-1===t.userVote})})})]}),Object(o.jsxs)(\"div\",{className:\"w-full p-2\",children:[Object(o.jsxs)(\"div\",{className:\"flex items-center \",children:[!l&&Object(o.jsxs)(x.Fragment,{children:[Object(o.jsx)(p.a,{href:\"/r/\".concat(t.subName),children:Object(o.jsx)(\"img\",{src:t.sub.imageUrl||\"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\",className:\"w-6 h-6 mr-1 rounded-full cursor-pointer\"})}),Object(o.jsx)(p.a,{href:\"/r/\".concat(t.subName),children:Object(o.jsxs)(\"a\",{className:\"text-xs font-bold cursor-pointer hover:underline\",children:[\"/r/\",t.subName]})})]}),Object(o.jsxs)(\"p\",{className:\"text-xs text-gray-600\",children:[\". Posted by\",Object(o.jsx)(p.a,{href:\"/u/\".concat(t.username),children:Object(o.jsxs)(\"a\",{className:\"mx-1 hover:underline\",children:[\"/u/\",t.username]})}),Object(o.jsx)(p.a,{href:t.url,children:Object(o.jsx)(\"a\",{className:\"mx-1 hover:underline\",children:f()(t.createdAt).fromNow()})})]})]}),Object(o.jsx)(p.a,{href:t.url,children:Object(o.jsx)(\"a\",{className:\"my-1 text-lg font-medium\",children:t.title})}),null!==t.imageUrl&&Object(o.jsx)(\"img\",{src:t.imageUrl}),t.body&&Object(o.jsx)(\"p\",{className:\"my-1 text-sm\",children:t.body}),Object(o.jsxs)(\"div\",{className:\"flex\",children:[Object(o.jsx)(p.a,{href:t.url,children:Object(o.jsx)(\"a\",{children:Object(o.jsxs)(g.a,{children:[Object(o.jsx)(\"i\",{className:\"mr-1 fas fa-comment-alt fa-xs\"}),Object(o.jsxs)(\"span\",{className:\"font-bold\",children:[t.commentCount,\" Comments\"]})]})})}),Object(o.jsxs)(g.a,{children:[Object(o.jsx)(\"i\",{className:\"mr-1 fas fa-share fa-xs\"}),Object(o.jsx)(\"span\",{className:\"font-bold\",children:\"Share\"})]}),Object(o.jsxs)(g.a,{children:[Object(o.jsx)(\"i\",{className:\"mr-1 fas fa-bookmark fa-xs\"}),Object(o.jsx)(\"span\",{className:\"font-bold\",children:\"Save\"})]})]})]})]},t.identifier)}f.a.extend(h.a)},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n}},[[\"/EDR\",0,2,1,3,4,5]]]);","extractedComments":[]}