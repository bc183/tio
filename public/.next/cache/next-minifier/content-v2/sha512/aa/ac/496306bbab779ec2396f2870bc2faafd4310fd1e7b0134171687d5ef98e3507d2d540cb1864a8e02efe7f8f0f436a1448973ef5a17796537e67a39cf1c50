{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{A3jn:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/u/[username]\",function(){return t(\"Jpkz\")}])},BH0o:function(e,r,t){\"use strict\";t.d(r,\"a\",(function(){return s}));var n=t(\"nKUr\");function s(e){var r=e.children;return Object(n.jsx)(\"div\",{className:\"px-1 py-1 mr-2 text-xs text-gray-400 rounded cursor-pointer hover:bg-gray-200\",children:r})}},Jpkz:function(e,r,t){\"use strict\";t.r(r),t.d(r,\"default\",(function(){return g}));var n=t(\"o0o1\"),s=t.n(n),a=t(\"HaE+\"),c=t(\"nKUr\"),i=t(\"vDqi\"),o=t.n(i),l=t(\"Wgwc\"),u=t.n(l),d=t(\"8Kt/\"),j=t.n(d),m=t(\"YFqc\"),h=t.n(m),f=t(\"nOHt\"),x=t(\"q1tI\"),b=t(\"VtrM\"),p=t(\"ikY9\"),v=t(\"M0WP\"),O=t(\"TSYQ\"),N=t.n(O);function g(){var e=Object(f.useRouter)(),r=Object(v.c)().user,t=e.query.username,n=Object(b.b)(t?\"/users/\".concat(t):null),i=n.data,l=n.error,d=n.revalidate;l&&e.push(\"/\"),i&&console.log(i);var m=(null===r||void 0===r?void 0:r.username)===t,O=Object(x.createRef)(),g=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(a=new FormData).append(\"file\",n),e.prev=3,e.next=6,o.a.post(\"/users/\".concat(null===r||void 0===r?void 0:r.username,\"/profile\"),a,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 6:d(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[3,9]])})));return function(r){return e.apply(this,arguments)}}();return Object(c.jsxs)(x.Fragment,{children:[Object(c.jsx)(j.a,{children:Object(c.jsx)(\"title\",{children:null===i||void 0===i?void 0:i.user.username})}),i&&Object(c.jsxs)(\"div\",{className:\"container flex pt-5\",children:[Object(c.jsx)(\"input\",{type:\"file\",hidden:!0,ref:O,onChange:g}),Object(c.jsx)(\"div\",{className:\"w-160\",children:i.submissions.map((function(e){if(\"Post\"===e.type){var r=e;return Object(c.jsx)(p.a,{post:r,revalidate:d},e.identifier)}var t=e;return Object(c.jsxs)(\"div\",{className:\"flex my-4 bg-white rounded\",children:[Object(c.jsx)(\"div\",{className:\"flex-shrink-0 w-10 py-4 text-center bg-gray-200 rounded-l\",children:Object(c.jsx)(\"i\",{className:\"text-gray-500 fas fa-comment-alt fa-xs\"})}),Object(c.jsxs)(\"div\",{className:\"w-full p-2\",children:[Object(c.jsxs)(\"p\",{className:\"mb-2 text-xs text-gray-500\",children:[t.username,Object(c.jsx)(\"span\",{children:\" commented on \"}),Object(c.jsx)(h.a,{href:t.post.url,children:Object(c.jsx)(\"a\",{href:\"\",className:\"font-semibold cursor-pointer hover:underline\",children:t.post.title})}),Object(c.jsx)(\"span\",{className:\"mx-1\",children:\".\"}),Object(c.jsx)(h.a,{href:\"/r/\".concat(t.post.subName),children:Object(c.jsxs)(\"a\",{href:\"\",className:\"text-black cursor-pointer hover:underline\",children:[\"/r/\",t.post.subName]})})]}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"p\",{children:t.body})]})]},t.identifier)}))}),Object(c.jsx)(\"div\",{className:\"ml-6 w-80\",children:Object(c.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(c.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(c.jsx)(\"img\",{src:i.user.imageUrl,alt:\"user-profile\",className:N()(\"w-16 h-16 mx-auto border-2 border-white rounded-full\",{\"cursor-pointer\":m}),onClick:function(){return e=\"image\",void(m&&(O.current.name=e,O.current.click()));var e}})}),Object(c.jsxs)(\"div\",{className:\"p-3 text-center\",children:[Object(c.jsx)(\"h1\",{className:\"mb-3 text-xl\",children:i.user.username}),Object(c.jsx)(\"hr\",{}),Object(c.jsxs)(\"p\",{className:\"mt-3\",children:[\"Joined \",u()(i.user.createdAt).format(\"MMM YYYY\")]})]})]})})]})]})}},QgiU:function(e,r,t){e.exports=function(){\"use strict\";return function(e,r,t){e=e||{};var n=r.prototype,s={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};t.en.relativeTime=s;var a=function(r,n,a,c){for(var i,o,l,u=a.$locale().relativeTime||s,d=e.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],j=d.length,m=0;m<j;m+=1){var h=d[m];h.d&&(i=c?t(r).diff(a,h.d,!0):a.diff(r,h.d,!0));var f=(e.rounding||Math.round)(Math.abs(i));if(l=i>0,f<=h.r||!h.r){f<=1&&m>0&&(h=d[m-1]);var x=u[h.l];o=\"string\"==typeof x?x.replace(\"%d\",f):x(f,n,h.l,l);break}}if(n)return o;var b=l?u.future:u.past;return\"function\"==typeof b?b(o):b.replace(\"%s\",o)};n.to=function(e,r){return a(e,r,this,!0)},n.from=function(e,r){return a(e,r,this)};var c=function(e){return e.$u?t.utc():t()};n.toNow=function(e){return this.to(c(this),e)},n.fromNow=function(e){return this.from(c(this),e)}}}()},TSYQ:function(e,r,t){var n;!function(){\"use strict\";var t={}.hasOwnProperty;function s(){for(var e=[],r=0;r<arguments.length;r++){var n=arguments[r];if(n){var a=typeof n;if(\"string\"===a||\"number\"===a)e.push(n);else if(Array.isArray(n)&&n.length){var c=s.apply(null,n);c&&e.push(c)}else if(\"object\"===a)for(var i in n)t.call(n,i)&&n[i]&&e.push(i)}}return e.join(\" \")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(r,[]))||(e.exports=n)}()},ikY9:function(e,r,t){\"use strict\";t.d(r,\"a\",(function(){return N}));var n=t(\"o0o1\"),s=t.n(n),a=t(\"HaE+\"),c=t(\"nKUr\"),i=t(\"vDqi\"),o=t.n(i),l=t(\"TSYQ\"),u=t.n(l),d=t(\"Wgwc\"),j=t.n(d),m=t(\"QgiU\"),h=t.n(m),f=t(\"YFqc\"),x=t.n(f),b=t(\"nOHt\"),p=t(\"q1tI\"),v=t(\"M0WP\"),O=t(\"BH0o\");function N(e){var r=e.post,t=e.revalidate,n=Object(v.c)().authenticated,i=Object(b.useRouter)(),l=\"/r/[sub]\"===i.pathname,d=function(){var e=Object(a.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||i.push(\"/login\"),a===r.userVote&&(a=0),e.prev=2,e.next=5,o.a.post(\"/misc/vote\",{identifier:r.identifier,slug:r.slug,value:a});case 5:e.sent,t&&t(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(r){return e.apply(this,arguments)}}();return Object(c.jsxs)(\"div\",{id:r.identifier,className:\"flex mb-4 bg-white rounded\",children:[Object(c.jsxs)(\"div\",{className:\"w-10 py-3 text-center bg-gray-200 rounded-l\",children:[Object(c.jsx)(\"div\",{onClick:function(){return d(1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",children:Object(c.jsx)(\"i\",{className:u()(\"icon-arrow-up\",{\"text-red-500\":1===r.userVote})})}),Object(c.jsx)(\"p\",{children:r.voteScore}),Object(c.jsx)(\"div\",{onClick:function(){return d(-1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",children:Object(c.jsx)(\"i\",{className:u()(\"icon-arrow-down\",{\"text-blue-600\":-1===r.userVote})})})]}),Object(c.jsxs)(\"div\",{className:\"w-full p-2\",children:[Object(c.jsxs)(\"div\",{className:\"flex items-center \",children:[!l&&Object(c.jsxs)(p.Fragment,{children:[Object(c.jsx)(x.a,{href:\"/r/\".concat(r.subName),children:Object(c.jsx)(\"img\",{src:r.sub.imageUrl||\"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\",className:\"w-6 h-6 mr-1 rounded-full cursor-pointer\"})}),Object(c.jsx)(x.a,{href:\"/r/\".concat(r.subName),children:Object(c.jsxs)(\"a\",{className:\"text-xs font-bold cursor-pointer hover:underline\",children:[\"/r/\",r.subName]})})]}),Object(c.jsxs)(\"p\",{className:\"text-xs text-gray-600\",children:[\". Posted by\",Object(c.jsx)(x.a,{href:\"/u/\".concat(r.username),children:Object(c.jsxs)(\"a\",{className:\"mx-1 hover:underline\",children:[\"/u/\",r.username]})}),Object(c.jsx)(x.a,{href:r.url,children:Object(c.jsx)(\"a\",{className:\"mx-1 hover:underline\",children:j()(r.createdAt).fromNow()})})]})]}),Object(c.jsx)(x.a,{href:r.url,children:Object(c.jsx)(\"a\",{className:\"my-1 text-lg font-medium\",children:r.title})}),null!==r.imageUrl&&Object(c.jsx)(\"img\",{src:r.imageUrl}),r.body&&Object(c.jsx)(\"p\",{className:\"my-1 text-sm\",children:r.body}),Object(c.jsxs)(\"div\",{className:\"flex\",children:[Object(c.jsx)(x.a,{href:r.url,children:Object(c.jsx)(\"a\",{children:Object(c.jsxs)(O.a,{children:[Object(c.jsx)(\"i\",{className:\"mr-1 fas fa-comment-alt fa-xs\"}),Object(c.jsxs)(\"span\",{className:\"font-bold\",children:[r.commentCount,\" Comments\"]})]})})}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)(\"i\",{className:\"mr-1 fas fa-share fa-xs\"}),Object(c.jsx)(\"span\",{className:\"font-bold\",children:\"Share\"})]}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)(\"i\",{className:\"mr-1 fas fa-bookmark fa-xs\"}),Object(c.jsx)(\"span\",{className:\"font-bold\",children:\"Save\"})]})]})]})]},r.identifier)}j.a.extend(h.a)}},[[\"A3jn\",0,2,1,3,4,5]]]);","extractedComments":[]}