{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{\"/kGb\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return y}));var i=n(\"o0o1\"),a=n.n(i),c=n(\"HaE+\"),s=n(\"nKUr\"),r=n(\"8Kt/\"),o=n.n(r),l=n(\"nOHt\"),d=n(\"q1tI\"),u=n(\"VtrM\"),b=n(\"ikY9\"),m=n(\"rREq\"),j=n(\"Aiso\"),h=n.n(j),x=n(\"M0WP\"),f=n(\"TSYQ\"),p=n.n(f),g=n(\"vDqi\"),v=n.n(g),O=n(\"YFqc\"),w=n.n(O);function y(){var e=Object(d.useState)(null),t=e[0],n=e[1],i=Object(l.useRouter)(),r=Object(x.c)(),j=r.authenticated,f=r.user,g=Object(d.createRef)(),O=i.query.sub,y=Object(u.b)(O?\"/subs/\".concat(O):null),N=y.data,A=y.error,k=y.revalidate;Object(d.useEffect)((function(){N&&n(j&&f.username===N.username)}),[N]);var S,z=function(e){t&&(g.current.name=e,g.current.click())},_=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(i=new FormData).append(\"file\",n),i.append(\"type\",g.current.name),e.prev=4,e.next=7,v.a.post(\"/subs/\".concat(N.name,\"/image\"),i,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 7:k(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return A&&i.push(\"/\"),S=N?0===N.posts.length?Object(s.jsx)(\"p\",{className:\"text-lg text-center\",children:\"No posts submitted yet\"}):N.posts.map((function(e){return Object(s.jsx)(b.a,{post:e,revalidate:k},e.identifier)})):Object(s.jsx)(\"p\",{className:\"text-lg text-center\",children:\"Loading..\"}),Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(o.a,{children:Object(s.jsx)(\"title\",{children:null===N||void 0===N?void 0:N.title})}),N&&Object(s.jsxs)(d.Fragment,{children:[Object(s.jsx)(\"input\",{type:\"file\",hidden:!0,ref:g,onChange:_}),Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(\"div\",{className:p()(\"bg-blue-500\",{\"cursor-pointer\":t}),onClick:function(){return z(\"banner\")},children:N.bannerUrl?Object(s.jsx)(\"div\",{className:\"h-56 bg-blue-500\",style:{backgroundImage:\"url(\".concat(N.bannerUrl,\")\"),backgroundRepeat:\"no-repeat\",backgroundSize:\"cover\",backgroundPosition:\"center\"}}):Object(s.jsx)(\"div\",{className:\"h-20 bg-blue-500\"})}),Object(s.jsx)(\"div\",{className:\"h-20 bg-white\",children:Object(s.jsxs)(\"div\",{className:\"container relative flex\",children:[Object(s.jsx)(\"div\",{className:\"absolute\",style:{top:-15},children:Object(s.jsx)(h.a,{src:N.imageUrl,alt:\"sub image\",className:p()(\"rounded-full\",{\"cursor-pointer\":t}),width:70,height:70,onClick:function(){return z(\"image\")}})}),Object(s.jsxs)(\"div\",{className:\"pt-1 pl-24\",children:[Object(s.jsx)(\"div\",{className:\"flex items-center\",children:Object(s.jsx)(\"h1\",{className:\"mb-1 text-3xl font-bold\",children:N.title})}),Object(s.jsxs)(\"p\",{className:\"text-sm font-bold text-gray-500\",children:[\"/r/\",N.name,\" . \",N.subOfCommunity?\"Sub community of \".concat(N.subOfCommunity):\"\"]})]})]})})]}),Object(s.jsxs)(\"div\",{className:\"container flex pt-5\",children:[Object(s.jsx)(\"div\",{className:\"w-160\",children:S}),Object(s.jsxs)(\"div\",{className:\"flex flex-col\",children:[Object(s.jsx)(m.a,{sub:N}),null===N.subOfCommunity&&Object(s.jsx)(\"div\",{className:\"w-40 m-6 md:w-80\",children:Object(s.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(s.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(s.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"Sub Communities\"})}),Object(s.jsxs)(\"div\",{className:\"p-3\",children:[0===N.subCommunities.length?\"No sub Communities\":N.subCommunities.map((function(e){return Object(s.jsx)(w.a,{href:\"/r/\".concat(e.name),children:Object(s.jsx)(\"p\",{className:\"mb-3 text-md hover:bg-gray-300 hover:cursor-pointer\",children:e.name})},e.name)})),j&&t&&Object(s.jsx)(w.a,{href:\"/r/\".concat(N.name,\"/subCommunity\"),children:Object(s.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Sub community\"})})]})]})})]})]})]})]})}},Aiso:function(e,t,n){e.exports=n(\"dQHF\")},OZLW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/r/[sub]\",function(){return n(\"/kGb\")}])},UWYU:function(e,t,n){\"use strict\";t.__esModule=!0,t.imageConfigDefault=t.VALID_LOADERS=void 0;t.VALID_LOADERS=[\"default\",\"imgix\",\"cloudinary\",\"akamai\"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",domains:[]}},dEHY:function(e,t,n){\"use strict\";t.__esModule=!0,t.toBase64=function(e){return window.btoa(e)}},dQHF:function(e,t,n){\"use strict\";var i=n(\"J4zp\"),a=n(\"RIqP\"),c=n(\"TqRt\");t.__esModule=!0,t.default=function(e){var t=e.src,n=e.sizes,c=e.unoptimized,r=void 0!==c&&c,d=e.priority,b=void 0!==d&&d,m=e.loading,h=e.className,x=e.quality,f=e.width,O=e.height,w=e.objectFit,y=e.objectPosition,N=(0,s.default)(e,[\"src\",\"sizes\",\"unoptimized\",\"priority\",\"loading\",\"className\",\"quality\",\"width\",\"height\",\"objectFit\",\"objectPosition\"]),A=n?\"responsive\":\"intrinsic\",k=!1;\"unsized\"in N?(k=Boolean(N.unsized),delete N.unsized):\"layout\"in N&&(N.layout&&(A=N.layout),delete N.layout);0;var S=!b&&(\"lazy\"===m||\"undefined\"===typeof m);t&&t.startsWith(\"data:\")&&(r=!0,S=!1);var z,_,q,C=(0,u.useIntersection)({rootMargin:\"200px\",disabled:!S}),E=i(C,2),U=E[0],D=E[1],R=!S||D,W=v(f),Y=v(O),I=v(x),P={visibility:R?\"visible\":\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",padding:0,border:\"none\",margin:\"auto\",display:\"block\",width:0,height:0,minWidth:\"100%\",maxWidth:\"100%\",minHeight:\"100%\",maxHeight:\"100%\",objectFit:w,objectPosition:y};if(\"undefined\"!==typeof W&&\"undefined\"!==typeof Y&&\"fill\"!==A){var H=Y/W,M=isNaN(H)?\"100%\":\"\".concat(100*H,\"%\");\"responsive\"===A?(z={display:\"block\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={display:\"block\",boxSizing:\"border-box\",paddingTop:M}):\"intrinsic\"===A?(z={display:\"inline-block\",maxWidth:\"100%\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={boxSizing:\"border-box\",display:\"block\",maxWidth:\"100%\"},q='<svg width=\"'.concat(W,'\" height=\"').concat(Y,'\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>')):\"fixed\"===A&&(z={overflow:\"hidden\",boxSizing:\"border-box\",display:\"inline-block\",position:\"relative\",width:W,height:Y})}else\"undefined\"===typeof W&&\"undefined\"===typeof Y&&\"fill\"===A&&(z={display:\"block\",overflow:\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",margin:0});var F={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"};R&&(F=function(e){var t=e.src,n=e.unoptimized,i=e.layout,c=e.width,s=e.quality,r=e.sizes;if(n)return{src:t};var o=function(e,t){if(\"number\"!==typeof e||\"fill\"===t||\"responsive\"===t)return{widths:j,kind:\"w\"};return{widths:a(new Set([e,2*e,3*e].map((function(e){return p.find((function(t){return t>=e}))||p[p.length-1]})))),kind:\"x\"}}(c,i),l=o.widths,d=o.kind,u=l.length-1,b=l.map((function(e,n){return\"\".concat(g({src:t,quality:s,width:e}),\" \").concat(\"w\"===d?e:n+1).concat(d)})).join(\", \");r||\"w\"!==d||(r=l.map((function(e,t){return t===u?\"\".concat(e,\"px\"):\"(max-width: \".concat(e,\"px) \").concat(e,\"px\")})).join(\", \"));return{src:t=g({src:t,quality:s,width:l[u]}),sizes:r,srcSet:b}}({src:t,unoptimized:r,layout:A,width:W,quality:I,sizes:n}));k&&(z=void 0,_=void 0,P=void 0);return o.default.createElement(\"div\",{style:z},_?o.default.createElement(\"div\",{style:_},q?o.default.createElement(\"img\",{style:{maxWidth:\"100%\",display:\"block\"},alt:\"\",\"aria-hidden\":!0,role:\"presentation\",src:\"data:image/svg+xml;base64,\".concat((0,l.toBase64)(q))}):null):null,o.default.createElement(\"img\",Object.assign({},N,F,{decoding:\"async\",className:h,ref:U,style:P})))};var s=c(n(\"8OQS\")),r=c(n(\"pVnL\")),o=c(n(\"q1tI\")),l=n(\"dEHY\"),d=n(\"UWYU\"),u=n(\"vNVm\");var b=new Map([[\"imgix\",function(e){var t=e.root,n=e.src,i=e.width,a=e.quality,c=[\"auto=format\",\"fit=max\",\"w=\"+i],s=\"\";a&&c.push(\"q=\"+a);c.length&&(s=\"?\"+c.join(\"&\"));return\"\".concat(t).concat(O(n)).concat(s)}],[\"cloudinary\",function(e){var t=e.root,n=e.src,i=e.width,a=e.quality,c=[\"f_auto\",\"c_limit\",\"w_\"+i],s=\"\";a&&c.push(\"q_\"+a);c.length&&(s=c.join(\",\")+\"/\");return\"\".concat(t).concat(s).concat(O(n))}],[\"akamai\",function(e){var t=e.root,n=e.src,i=e.width;return\"\".concat(t).concat(O(n),\"?imwidth=\").concat(i)}],[\"default\",function(e){var t=e.root,n=e.src,i=e.width,a=e.quality;0;return\"\".concat(t,\"?url=\").concat(encodeURIComponent(n),\"&w=\").concat(i,\"&q=\").concat(a||75)}]]),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\"}||d.imageConfigDefault,j=m.deviceSizes,h=m.imageSizes,x=m.loader,f=m.path,p=(m.domains,[].concat(a(j),a(h)));function g(e){var t=b.get(x);if(t)return t((0,r.default)({root:f},e));throw new Error('Unknown \"loader\" found in \"next.config.js\". Expected: '.concat(d.VALID_LOADERS.join(\", \"),\". Received: \").concat(x))}function v(e){return\"number\"===typeof e?e:\"string\"===typeof e?parseInt(e,10):void 0}function O(e){return\"/\"===e[0]?e.slice(1):e}j.sort((function(e,t){return e-t})),p.sort((function(e,t){return e-t}))},ikY9:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return w}));var i=n(\"o0o1\"),a=n.n(i),c=n(\"HaE+\"),s=n(\"nKUr\"),r=n(\"vDqi\"),o=n.n(r),l=n(\"TSYQ\"),d=n.n(l),u=n(\"Wgwc\"),b=n.n(u),m=n(\"QgiU\"),j=n.n(m),h=n(\"YFqc\"),x=n.n(h),f=n(\"nOHt\"),p=n(\"q1tI\"),g=n(\"M0WP\"),v=n(\"BH0o\"),O=n(\"+ryr\");function w(e){var t=e.post,n=e.revalidate,i=e.setVote,r=e.setDummy,l=Object(g.c)().authenticated,u=Object(f.useRouter)(),m=\"/r/[sub]\"===u.pathname,j=function(){var e=Object(c.a)(a.a.mark((function e(c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l||u.push(\"/login\"),console.log(\"hi vote\"),c===t.userVote&&(c=0),e.prev=3,e.next=6,o.a.post(\"/misc/vote\",{identifier:t.identifier,slug:t.slug,value:c});case 6:e.sent,n&&n(),i(c,t),r({}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)(\"div\",{id:t.identifier,className:\"flex mb-4 bg-white rounded\",children:[Object(s.jsxs)(\"div\",{className:\"w-10 py-3 text-center bg-gray-200 rounded-l\",children:[Object(s.jsx)(\"div\",{onClick:function(){return j(1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",children:Object(s.jsx)(\"i\",{className:d()(\"icon-arrow-up\",{\"text-red-500\":1===t.userVote})})}),Object(s.jsx)(\"p\",{children:t.voteScore}),Object(s.jsx)(\"div\",{onClick:function(){return j(-1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",children:Object(s.jsx)(\"i\",{className:d()(\"icon-arrow-down\",{\"text-blue-600\":-1===t.userVote})})})]}),Object(s.jsxs)(\"div\",{className:\"w-full p-2\",children:[Object(s.jsxs)(\"div\",{className:\"flex items-center \",children:[!m&&Object(s.jsxs)(p.Fragment,{children:[Object(s.jsx)(x.a,{href:\"/r/\".concat(t.subName),children:Object(s.jsx)(\"img\",{src:t.sub.imageUrl||\"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\",className:\"w-6 h-6 mr-1 rounded-full cursor-pointer\"})}),Object(s.jsx)(x.a,{href:\"/r/\".concat(t.subName),children:Object(s.jsxs)(\"a\",{className:\"text-xs font-bold cursor-pointer hover:underline\",children:[\"/r/\",t.subName]})})]}),Object(s.jsxs)(\"p\",{className:\"text-xs text-gray-600\",children:[\". Posted by\",Object(s.jsx)(x.a,{href:\"/u/\".concat(t.username),children:Object(s.jsxs)(\"a\",{className:\"mx-1 hover:underline\",children:[\"/u/\",t.username]})}),Object(s.jsx)(x.a,{href:t.url,children:Object(s.jsx)(\"a\",{className:\"mx-1 hover:underline\",children:b()(t.createdAt).fromNow()})})]})]}),Object(s.jsx)(x.a,{href:t.url,children:Object(s.jsx)(\"a\",{className:\"my-1 text-lg font-medium\",children:t.title})}),null!==t.imageUrl&&Object(s.jsx)(\"img\",{src:t.imageUrl}),t.body&&t.language?Object(s.jsx)(O.a,{className:\"my-1 text-sm\",language:t.language,children:t.body}):Object(s.jsx)(\"p\",{className:\"my-1 text-sm\",children:t.body}),Object(s.jsxs)(\"div\",{className:\"flex\",children:[Object(s.jsx)(x.a,{href:t.url,children:Object(s.jsx)(\"a\",{children:Object(s.jsxs)(v.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-comment-alt fa-xs\"}),Object(s.jsxs)(\"span\",{className:\"font-bold\",children:[t.commentCount,\" Comments\"]})]})})}),Object(s.jsxs)(v.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-share fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Share\"})]}),Object(s.jsxs)(v.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-bookmark fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Save\"})]})]})]})]},t.identifier)}b.a.extend(j.a)},rREq:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(\"nKUr\"),a=n(\"Wgwc\"),c=n.n(a),s=n(\"YFqc\"),r=n.n(s),o=n(\"M0WP\");function l(e){var t=e.sub,n=Object(o.c)().authenticated;return Object(i.jsx)(\"div\",{className:\"w-40 ml-6 md:w-80\",children:Object(i.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(i.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(i.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"About Community\"})}),Object(i.jsxs)(\"div\",{className:\"p-3\",children:[Object(i.jsx)(\"p\",{className:\"mb-3 text-md\",children:t.description}),Object(i.jsxs)(\"div\",{className:\"flex mb-3 text-sm font-medium\",children:[Object(i.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(i.jsx)(\"p\",{children:\"5.2k\"}),Object(i.jsx)(\"p\",{children:\"members\"})]}),Object(i.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(i.jsx)(\"p\",{children:\"150\"}),Object(i.jsx)(\"p\",{children:\"Online\"})]})]}),Object(i.jsxs)(\"p\",{className:\"my-3\",children:[Object(i.jsx)(\"i\",{className:\"mr-2 fas fa-birthday-cake\"}),\"Created \",c()(t.createdAt).format(\"D MMM YYYY\")]}),n&&Object(i.jsx)(r.a,{href:\"/r/\".concat(t.name,\"/submit\"),children:Object(i.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Post\"})})]})]})})}}},[[\"OZLW\",0,2,1,3,4,5,6]]]);","extractedComments":[]}