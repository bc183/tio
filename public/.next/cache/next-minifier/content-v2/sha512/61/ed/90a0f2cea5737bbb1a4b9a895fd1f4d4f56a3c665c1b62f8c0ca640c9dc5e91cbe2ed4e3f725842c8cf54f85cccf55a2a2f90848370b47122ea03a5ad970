{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{\"8OQS\":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},Aiso:function(e,t,n){e.exports=n(\"dQHF\")},BH0o:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(\"nKUr\");function i(e){var t=e.children;return Object(r.jsx)(\"div\",{className:\"px-1 py-1 mr-2 text-xs text-gray-400 rounded cursor-pointer hover:bg-gray-200\",children:t})}},FOu3:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return S}));var r=n(\"o0o1\"),i=n.n(r),c=n(\"HaE+\"),s=n(\"nKUr\"),a=n(\"8Kt/\"),o=n.n(a),l=n(\"YFqc\"),d=n.n(l),u=n(\"nOHt\"),b=n(\"VtrM\"),m=n(\"Aiso\"),j=n.n(m),h=n(\"Wgwc\"),f=n.n(h),x=n(\"QgiU\"),p=n.n(x),v=n(\"TSYQ\"),O=n.n(v),g=n(\"rREq\"),y=n(\"vDqi\"),w=n.n(y),N=n(\"M0WP\"),A=n(\"BH0o\"),k=n(\"q1tI\");function S(){var e=Object(k.useState)(\"\"),t=e[0],n=e[1],r=Object(N.c)(),a=r.authenticated,l=r.user,m=Object(k.useState)(\"\"),h=m[0],x=m[1],p=Object(u.useRouter)(),v=p.query,y=v.identifier,S=v.sub,z=v.slug,_=Object(b.b)(y&&z?\"/posts/\".concat(y,\"/\").concat(z):null),q=_.data,E=_.error,M=_.revalidate,C=Object(b.b)(y&&z?\"/posts/\".concat(y,\"/\").concat(z,\"/comments\"):null),U=C.data,D=C.revalidate;Object(k.useEffect)((function(){if(q){var e=q.body||q.title;e=e.substr(0,158).concat(\"...\"),x(e)}}),[q]),E&&p.push(\"/\");var P=function(){var e=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||p.push(\"/login\"),(!n&&t===q.userVote||n&&n.userVote===t)&&(t=0),e.prev=2,e.next=5,w.a.post(\"/misc/vote\",{identifier:y,slug:z,commentIdentifier:null===n||void 0===n?void 0:n.identifier,value:t});case 5:e.sent,D&&M(),n&&D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),\"\"!==t.trim()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.prev=3,e.next=6,w.a.post(\"/posts/\".concat(q.identifier,\"/\").concat(q.slug,\"/comments\"),{body:t});case 6:n(\"\"),D&&D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(o.a,{children:[Object(s.jsx)(\"title\",{children:null===q||void 0===q?void 0:q.title}),Object(s.jsx)(\"meta\",{name:\"description\",content:h}),Object(s.jsx)(\"meta\",{property:\"og:description\",content:h}),Object(s.jsx)(\"meta\",{property:\"og:title\",content:null===q||void 0===q?void 0:q.title}),Object(s.jsx)(\"meta\",{property:\"twitter:title\",content:null===q||void 0===q?void 0:q.title}),Object(s.jsx)(\"meta\",{property:\"twitter:description\",content:h})]}),Object(s.jsx)(d.a,{href:\"/r/\".concat(S),children:Object(s.jsx)(\"a\",{children:Object(s.jsx)(\"div\",{className:\"flex items-center w-full h-20 p-8 bg-blue-500\",children:Object(s.jsxs)(\"div\",{className:\"container flex\",children:[q&&Object(s.jsx)(\"div\",{className:\"w-8 h-8 mr-2 overflow-hidden rounded-full\",children:Object(s.jsx)(j.a,{src:q.sub.imageUrl,height:32,width:32})}),Object(s.jsxs)(\"p\",{className:\"text-xl font-semibold text-white\",children:[\"/r/\",S]})]})})})}),Object(s.jsxs)(\"div\",{className:\"container flex pt-5\",children:[Object(s.jsx)(\"div\",{className:\"w-160\",children:Object(s.jsx)(\"div\",{className:\"bg-white rounded\",children:q&&Object(s.jsxs)(k.Fragment,{children:[Object(s.jsxs)(\"div\",{className:\"flex\",children:[Object(s.jsxs)(\"div\",{className:\"flex-shrink-0 w-10 py-2 text-center rounded-l\",children:[Object(s.jsx)(\"div\",{className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",onClick:function(){return P(1)},children:Object(s.jsx)(\"i\",{className:O()(\"icon-arrow-up\",{\"text-red-500\":1===q.userVote})})}),Object(s.jsx)(\"p\",{className:\"text-xs font-bold\",children:q.voteScore}),Object(s.jsx)(\"div\",{className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",onClick:function(){return P(-1)},children:Object(s.jsx)(\"i\",{className:O()(\"icon-arrow-down\",{\"text-blue-600\":-1===q.userVote})})})]}),Object(s.jsxs)(\"div\",{className:\"py-2 pr-2\",children:[Object(s.jsx)(\"div\",{className:\"flex items-center\",children:Object(s.jsxs)(\"p\",{className:\"text-xs text-gray-500\",children:[\"Posted by\",Object(s.jsx)(d.a,{href:\"/u/\".concat(q.username),children:Object(s.jsxs)(\"a\",{className:\"mx-1 hover:underline\",children:[\"/u/\",q.username]})}),Object(s.jsx)(d.a,{href:q.url,children:Object(s.jsx)(\"a\",{className:\"mx-1 hover:underline\",children:f()(q.createdAt).fromNow()})})]})}),Object(s.jsx)(\"h1\",{className:\"my-1 text-xl font-medium\",children:q.title}),null!==q.imageUrl&&Object(s.jsx)(\"img\",{src:q.imageUrl}),Object(s.jsx)(\"p\",{className:\"my-3 text-sm\",children:q.body}),Object(s.jsxs)(\"div\",{className:\"flex\",children:[Object(s.jsx)(d.a,{href:q.url,children:Object(s.jsx)(\"a\",{children:Object(s.jsxs)(A.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-comment-alt fa-xs\"}),Object(s.jsxs)(\"span\",{className:\"font-bold\",children:[q.commentCount,\" Comments\"]})]})})}),Object(s.jsxs)(A.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-share fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Share\"})]}),Object(s.jsxs)(A.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-bookmark fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Save\"})]})]})]})]}),Object(s.jsx)(\"div\",{className:\"pl-10 pr-6 mb-4\",children:a?Object(s.jsxs)(\"div\",{children:[Object(s.jsxs)(\"p\",{className:\"mb-1 text-xs\",children:[\"Comment as\",Object(s.jsx)(d.a,{href:\"/u/\".concat(l.username),children:Object(s.jsx)(\"a\",{className:\"ml-1 font-semibold text-blue-500\",children:l.username})})]}),Object(s.jsxs)(\"form\",{onSubmit:V,children:[Object(s.jsx)(\"textarea\",{className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-gray-600\",onChange:function(e){return n(e.target.value)},value:t}),Object(s.jsx)(\"div\",{className:\"flex justify-end\",children:Object(s.jsx)(\"button\",{className:\"px-3 py-1 blue button\",disabled:\"\"===t.trim(),children:\"Comment\"})})]})]}):Object(s.jsxs)(\"div\",{className:\"flex items-center justify-between px-2 py-4 border border-gray-200\",children:[Object(s.jsx)(\"p\",{className:\"font-semibold text-gray-400\",children:\"Log in or Sign up to leave a comment\"}),Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(d.a,{href:\"/login\",children:Object(s.jsx)(\"a\",{className:\"px-4 py-1 mr-4 hollow blue button\",children:\"Login\"})}),Object(s.jsx)(d.a,{href:\"/register\",children:Object(s.jsx)(\"a\",{className:\"px-4 py-1 blue button\",children:\"Sign up\"})})]})]})}),Object(s.jsx)(\"hr\",{}),null===U||void 0===U?void 0:U.map((function(e){return Object(s.jsxs)(\"div\",{className:\"flex\",children:[Object(s.jsxs)(\"div\",{className:\"flex-shrink-0 w-10 py-2 text-center rounded-l\",children:[Object(s.jsx)(\"div\",{className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",onClick:function(){return P(1,e)},children:Object(s.jsx)(\"i\",{className:O()(\"icon-arrow-up\",{\"text-red-500\":1===e.userVote})})}),Object(s.jsx)(\"p\",{className:\"text-xs font-bold\",children:e.voteScore}),Object(s.jsx)(\"div\",{className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",onClick:function(){return P(-1,e)},children:Object(s.jsx)(\"i\",{className:O()(\"icon-arrow-down\",{\"text-blue-600\":-1===e.userVote})})})]}),Object(s.jsxs)(\"div\",{className:\"py-2 pr-2\",children:[Object(s.jsxs)(\"p\",{className:\"mb-1 text-xs leading-none\",children:[Object(s.jsx)(d.a,{href:\"/u/\".concat(e.username),children:Object(s.jsx)(\"a\",{className:\"mr-1 font-bold hover:underline\",children:e.username})}),Object(s.jsx)(\"span\",{className:\"text-gray-600\",children:\"\\n                                \".concat(e.voteScore,\"\\n                                points .\\n                                \").concat(f()(e.createdAt).fromNow(),\"\\n                            \")})]}),Object(s.jsx)(\"p\",{children:e.body})]})]},e.identifier)}))]})})}),q&&Object(s.jsx)(g.a,{sub:q.sub})]})]})}f.a.extend(p.a)},QgiU:function(e,t,n){e.exports=function(){\"use strict\";return function(e,t,n){e=e||{};var r=t.prototype,i={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};n.en.relativeTime=i;var c=function(t,r,c,s){for(var a,o,l,d=c.$locale().relativeTime||i,u=e.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],b=u.length,m=0;m<b;m+=1){var j=u[m];j.d&&(a=s?n(t).diff(c,j.d,!0):c.diff(t,j.d,!0));var h=(e.rounding||Math.round)(Math.abs(a));if(l=a>0,h<=j.r||!j.r){h<=1&&m>0&&(j=u[m-1]);var f=d[j.l];o=\"string\"==typeof f?f.replace(\"%d\",h):f(h,r,j.l,l);break}}if(r)return o;var x=l?d.future:d.past;return\"function\"==typeof x?x(o):x.replace(\"%s\",o)};r.to=function(e,t){return c(e,t,this,!0)},r.from=function(e,t){return c(e,t,this)};var s=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(s(this),e)},r.fromNow=function(e){return this.from(s(this),e)}}}()},TSYQ:function(e,t,n){var r;!function(){\"use strict\";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if(\"string\"===c||\"number\"===c)e.push(r);else if(Array.isArray(r)&&r.length){var s=i.apply(null,r);s&&e.push(s)}else if(\"object\"===c)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(\" \")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},UWYU:function(e,t,n){\"use strict\";t.__esModule=!0,t.imageConfigDefault=t.VALID_LOADERS=void 0;t.VALID_LOADERS=[\"default\",\"imgix\",\"cloudinary\",\"akamai\"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",domains:[]}},dEHY:function(e,t,n){\"use strict\";t.__esModule=!0,t.toBase64=function(e){return window.btoa(e)}},dQHF:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),i=n(\"RIqP\"),c=n(\"TqRt\");t.__esModule=!0,t.default=function(e){var t=e.src,n=e.sizes,c=e.unoptimized,a=void 0!==c&&c,d=e.priority,b=void 0!==d&&d,m=e.loading,h=e.className,f=e.quality,x=e.width,g=e.height,y=e.objectFit,w=e.objectPosition,N=(0,s.default)(e,[\"src\",\"sizes\",\"unoptimized\",\"priority\",\"loading\",\"className\",\"quality\",\"width\",\"height\",\"objectFit\",\"objectPosition\"]),A=n?\"responsive\":\"intrinsic\",k=!1;\"unsized\"in N?(k=Boolean(N.unsized),delete N.unsized):\"layout\"in N&&(N.layout&&(A=N.layout),delete N.layout);0;var S=!b&&(\"lazy\"===m||\"undefined\"===typeof m);t&&t.startsWith(\"data:\")&&(a=!0,S=!1);var z,_,q,E=(0,u.useIntersection)({rootMargin:\"200px\",disabled:!S}),M=r(E,2),C=M[0],U=M[1],D=!S||U,P=O(x),V=O(g),I=O(f),R={visibility:D?\"visible\":\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",padding:0,border:\"none\",margin:\"auto\",display:\"block\",width:0,height:0,minWidth:\"100%\",maxWidth:\"100%\",minHeight:\"100%\",maxHeight:\"100%\",objectFit:y,objectPosition:w};if(\"undefined\"!==typeof P&&\"undefined\"!==typeof V&&\"fill\"!==A){var W=V/P,Y=isNaN(W)?\"100%\":\"\".concat(100*W,\"%\");\"responsive\"===A?(z={display:\"block\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={display:\"block\",boxSizing:\"border-box\",paddingTop:Y}):\"intrinsic\"===A?(z={display:\"inline-block\",maxWidth:\"100%\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={boxSizing:\"border-box\",display:\"block\",maxWidth:\"100%\"},q='<svg width=\"'.concat(P,'\" height=\"').concat(V,'\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>')):\"fixed\"===A&&(z={overflow:\"hidden\",boxSizing:\"border-box\",display:\"inline-block\",position:\"relative\",width:P,height:V})}else\"undefined\"===typeof P&&\"undefined\"===typeof V&&\"fill\"===A&&(z={display:\"block\",overflow:\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",margin:0});var F={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"};D&&(F=function(e){var t=e.src,n=e.unoptimized,r=e.layout,c=e.width,s=e.quality,a=e.sizes;if(n)return{src:t};var o=function(e,t){if(\"number\"!==typeof e||\"fill\"===t||\"responsive\"===t)return{widths:j,kind:\"w\"};return{widths:i(new Set([e,2*e,3*e].map((function(e){return p.find((function(t){return t>=e}))||p[p.length-1]})))),kind:\"x\"}}(c,r),l=o.widths,d=o.kind,u=l.length-1,b=l.map((function(e,n){return\"\".concat(v({src:t,quality:s,width:e}),\" \").concat(\"w\"===d?e:n+1).concat(d)})).join(\", \");a||\"w\"!==d||(a=l.map((function(e,t){return t===u?\"\".concat(e,\"px\"):\"(max-width: \".concat(e,\"px) \").concat(e,\"px\")})).join(\", \"));return{src:t=v({src:t,quality:s,width:l[u]}),sizes:a,srcSet:b}}({src:t,unoptimized:a,layout:A,width:P,quality:I,sizes:n}));k&&(z=void 0,_=void 0,R=void 0);return o.default.createElement(\"div\",{style:z},_?o.default.createElement(\"div\",{style:_},q?o.default.createElement(\"img\",{style:{maxWidth:\"100%\",display:\"block\"},alt:\"\",\"aria-hidden\":!0,role:\"presentation\",src:\"data:image/svg+xml;base64,\".concat((0,l.toBase64)(q))}):null):null,o.default.createElement(\"img\",Object.assign({},N,F,{decoding:\"async\",className:h,ref:C,style:R})))};var s=c(n(\"8OQS\")),a=c(n(\"pVnL\")),o=c(n(\"q1tI\")),l=n(\"dEHY\"),d=n(\"UWYU\"),u=n(\"vNVm\");var b=new Map([[\"imgix\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,c=[\"auto=format\",\"fit=max\",\"w=\"+r],s=\"\";i&&c.push(\"q=\"+i);c.length&&(s=\"?\"+c.join(\"&\"));return\"\".concat(t).concat(g(n)).concat(s)}],[\"cloudinary\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,c=[\"f_auto\",\"c_limit\",\"w_\"+r],s=\"\";i&&c.push(\"q_\"+i);c.length&&(s=c.join(\",\")+\"/\");return\"\".concat(t).concat(s).concat(g(n))}],[\"akamai\",function(e){var t=e.root,n=e.src,r=e.width;return\"\".concat(t).concat(g(n),\"?imwidth=\").concat(r)}],[\"default\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality;0;return\"\".concat(t,\"?url=\").concat(encodeURIComponent(n),\"&w=\").concat(r,\"&q=\").concat(i||75)}]]),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\"}||d.imageConfigDefault,j=m.deviceSizes,h=m.imageSizes,f=m.loader,x=m.path,p=(m.domains,[].concat(i(j),i(h)));function v(e){var t=b.get(f);if(t)return t((0,a.default)({root:x},e));throw new Error('Unknown \"loader\" found in \"next.config.js\". Expected: '.concat(d.VALID_LOADERS.join(\", \"),\". Received: \").concat(f))}function O(e){return\"number\"===typeof e?e:\"string\"===typeof e?parseInt(e,10):void 0}function g(e){return\"/\"===e[0]?e.slice(1):e}j.sort((function(e,t){return e-t})),p.sort((function(e,t){return e-t}))},hqGe:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/r/[sub]/[identifier]/[slug]\",function(){return n(\"FOu3\")}])},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},rREq:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(\"nKUr\"),i=n(\"Wgwc\"),c=n.n(i),s=n(\"YFqc\"),a=n.n(s),o=n(\"M0WP\");function l(e){var t=e.sub,n=Object(o.c)().authenticated;return Object(r.jsx)(\"div\",{className:\"w-40 ml-6 md:w-80\",children:Object(r.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(r.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(r.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"About Community\"})}),Object(r.jsxs)(\"div\",{className:\"p-3\",children:[Object(r.jsx)(\"p\",{className:\"mb-3 text-md\",children:t.description}),Object(r.jsxs)(\"div\",{className:\"flex mb-3 text-sm font-medium\",children:[Object(r.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(r.jsx)(\"p\",{children:\"5.2k\"}),Object(r.jsx)(\"p\",{children:\"members\"})]}),Object(r.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(r.jsx)(\"p\",{children:\"150\"}),Object(r.jsx)(\"p\",{children:\"Online\"})]})]}),Object(r.jsxs)(\"p\",{className:\"my-3\",children:[Object(r.jsx)(\"i\",{className:\"mr-2 fas fa-birthday-cake\"}),\"Created \",c()(t.createdAt).format(\"D MMM YYYY\")]}),n&&Object(r.jsx)(a.a,{href:\"/r/\".concat(t.name,\"/submit\"),children:Object(r.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Post\"})})]})]})})}}},[[\"hqGe\",0,2,1,3,4,5]]]);","extractedComments":[]}