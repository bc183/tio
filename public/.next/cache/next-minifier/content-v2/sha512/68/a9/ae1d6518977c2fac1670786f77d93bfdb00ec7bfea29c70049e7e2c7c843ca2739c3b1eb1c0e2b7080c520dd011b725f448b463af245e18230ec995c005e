{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"/kGb\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return w}));var r=n(\"o0o1\"),i=n.n(r),a=n(\"HaE+\"),s=n(\"nKUr\"),c=n(\"8Kt/\"),o=n.n(c),l=n(\"nOHt\"),d=n(\"q1tI\"),u=n(\"VtrM\"),m=n(\"ikY9\"),b=n(\"rREq\"),h=n(\"Aiso\"),f=n.n(h),j=n(\"M0WP\"),x=n(\"TSYQ\"),p=n.n(x),v=n(\"vDqi\"),g=n.n(v),O=n(\"YFqc\"),y=n.n(O);function w(){var e=Object(d.useState)(null),t=e[0],n=e[1],r=Object(l.useRouter)(),c=Object(j.c)(),h=c.authenticated,x=c.user,v=Object(d.createRef)(),O=r.query.sub,w=Object(u.b)(O?\"/subs/\".concat(O):null),N=w.data,A=w.error,k=w.revalidate;Object(d.useEffect)((function(){N&&n(h&&x.username===N.username)}),[N]);var S,z=function(e){t&&(v.current.name=e,v.current.click())},_=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append(\"file\",n),r.append(\"type\",v.current.name),e.prev=4,e.next=7,g.a.post(\"/subs/\".concat(N.name,\"/image\"),r,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 7:k(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return A&&r.push(\"/\"),S=N?0===N.posts.length?Object(s.jsx)(\"p\",{className:\"text-lg text-center\",children:\"No posts submitted yet\"}):N.posts.map((function(e){return Object(s.jsx)(m.a,{post:e,revalidate:k},e.identifier)})):Object(s.jsx)(\"p\",{className:\"text-lg text-center\",children:\"Loading..\"}),Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(o.a,{children:Object(s.jsx)(\"title\",{children:null===N||void 0===N?void 0:N.title})}),N&&Object(s.jsxs)(d.Fragment,{children:[Object(s.jsx)(\"input\",{type:\"file\",hidden:!0,ref:v,onChange:_}),Object(s.jsxs)(\"div\",{children:[Object(s.jsx)(\"div\",{className:p()(\"bg-blue-500\",{\"cursor-pointer\":t}),onClick:function(){return z(\"banner\")},children:N.bannerUrl?Object(s.jsx)(\"div\",{className:\"h-56 bg-blue-500\",style:{backgroundImage:\"url(\".concat(N.bannerUrl,\")\"),backgroundRepeat:\"no-repeat\",backgroundSize:\"cover\",backgroundPosition:\"center\"}}):Object(s.jsx)(\"div\",{className:\"h-20 bg-blue-500\"})}),Object(s.jsx)(\"div\",{className:\"h-20 bg-white\",children:Object(s.jsxs)(\"div\",{className:\"container relative flex\",children:[Object(s.jsx)(\"div\",{className:\"absolute\",style:{top:-15},children:Object(s.jsx)(f.a,{src:N.imageUrl,alt:\"sub image\",className:p()(\"rounded-full\",{\"cursor-pointer\":t}),width:70,height:70,onClick:function(){return z(\"image\")}})}),Object(s.jsxs)(\"div\",{className:\"pt-1 pl-24\",children:[Object(s.jsx)(\"div\",{className:\"flex items-center\",children:Object(s.jsx)(\"h1\",{className:\"mb-1 text-3xl font-bold\",children:N.title})}),Object(s.jsxs)(\"p\",{className:\"text-sm font-bold text-gray-500\",children:[\"/r/\",N.name,\" . \",N.subOfCommunity?\"Sub community of \".concat(N.subOfCommunity):\"\"]})]})]})})]}),Object(s.jsxs)(\"div\",{className:\"container flex pt-5\",children:[Object(s.jsx)(\"div\",{className:\"w-160\",children:S}),Object(s.jsxs)(\"div\",{className:\"flex flex-col\",children:[Object(s.jsx)(b.a,{sub:N}),null===N.subOfCommunity&&Object(s.jsx)(\"div\",{className:\"w-40 m-6 md:w-80\",children:Object(s.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(s.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(s.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"Sub Communities\"})}),Object(s.jsxs)(\"div\",{className:\"p-3\",children:[0===N.subCommunities.length?\"No sub Communities\":N.subCommunities.map((function(e){return Object(s.jsx)(y.a,{href:\"/r/\".concat(e.name),children:Object(s.jsx)(\"p\",{className:\"mb-3 text-md hover:bg-gray-300 hover:cursor-pointer\",children:e.name})},e.name)})),h&&t&&Object(s.jsx)(y.a,{href:\"/r/\".concat(N.name,\"/subCommunity\"),children:Object(s.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Sub community\"})})]})]})})]})]})]})]})}},\"8OQS\":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},Aiso:function(e,t,n){e.exports=n(\"dQHF\")},BH0o:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(\"nKUr\");function i(e){var t=e.children;return Object(r.jsx)(\"div\",{className:\"px-1 py-1 mr-2 text-xs text-gray-400 rounded cursor-pointer hover:bg-gray-200\",children:t})}},OZLW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/r/[sub]\",function(){return n(\"/kGb\")}])},QgiU:function(e,t,n){e.exports=function(){\"use strict\";return function(e,t,n){e=e||{};var r=t.prototype,i={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};n.en.relativeTime=i;var a=function(t,r,a,s){for(var c,o,l,d=a.$locale().relativeTime||i,u=e.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=u.length,b=0;b<m;b+=1){var h=u[b];h.d&&(c=s?n(t).diff(a,h.d,!0):a.diff(t,h.d,!0));var f=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,f<=h.r||!h.r){f<=1&&b>0&&(h=u[b-1]);var j=d[h.l];o=\"string\"==typeof j?j.replace(\"%d\",f):j(f,r,h.l,l);break}}if(r)return o;var x=l?d.future:d.past;return\"function\"==typeof x?x(o):x.replace(\"%s\",o)};r.to=function(e,t){return a(e,t,this,!0)},r.from=function(e,t){return a(e,t,this)};var s=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(s(this),e)},r.fromNow=function(e){return this.from(s(this),e)}}}()},TSYQ:function(e,t,n){var r;!function(){\"use strict\";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if(\"string\"===a||\"number\"===a)e.push(r);else if(Array.isArray(r)&&r.length){var s=i.apply(null,r);s&&e.push(s)}else if(\"object\"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(\" \")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},UWYU:function(e,t,n){\"use strict\";t.__esModule=!0,t.imageConfigDefault=t.VALID_LOADERS=void 0;t.VALID_LOADERS=[\"default\",\"imgix\",\"cloudinary\",\"akamai\"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",domains:[]}},dEHY:function(e,t,n){\"use strict\";t.__esModule=!0,t.toBase64=function(e){return window.btoa(e)}},dQHF:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),i=n(\"RIqP\"),a=n(\"TqRt\");t.__esModule=!0,t.default=function(e){var t=e.src,n=e.sizes,a=e.unoptimized,c=void 0!==a&&a,d=e.priority,m=void 0!==d&&d,b=e.loading,f=e.className,j=e.quality,x=e.width,O=e.height,y=e.objectFit,w=e.objectPosition,N=(0,s.default)(e,[\"src\",\"sizes\",\"unoptimized\",\"priority\",\"loading\",\"className\",\"quality\",\"width\",\"height\",\"objectFit\",\"objectPosition\"]),A=n?\"responsive\":\"intrinsic\",k=!1;\"unsized\"in N?(k=Boolean(N.unsized),delete N.unsized):\"layout\"in N&&(N.layout&&(A=N.layout),delete N.layout);0;var S=!m&&(\"lazy\"===b||\"undefined\"===typeof b);t&&t.startsWith(\"data:\")&&(c=!0,S=!1);var z,_,q,C=(0,u.useIntersection)({rootMargin:\"200px\",disabled:!S}),E=r(C,2),M=E[0],U=E[1],Y=!S||U,P=g(x),R=g(O),W=g(j),D={visibility:Y?\"visible\":\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",padding:0,border:\"none\",margin:\"auto\",display:\"block\",width:0,height:0,minWidth:\"100%\",maxWidth:\"100%\",minHeight:\"100%\",maxHeight:\"100%\",objectFit:y,objectPosition:w};if(\"undefined\"!==typeof P&&\"undefined\"!==typeof R&&\"fill\"!==A){var H=R/P,I=isNaN(H)?\"100%\":\"\".concat(100*H,\"%\");\"responsive\"===A?(z={display:\"block\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={display:\"block\",boxSizing:\"border-box\",paddingTop:I}):\"intrinsic\"===A?(z={display:\"inline-block\",maxWidth:\"100%\",overflow:\"hidden\",position:\"relative\",boxSizing:\"border-box\",margin:0},_={boxSizing:\"border-box\",display:\"block\",maxWidth:\"100%\"},q='<svg width=\"'.concat(P,'\" height=\"').concat(R,'\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>')):\"fixed\"===A&&(z={overflow:\"hidden\",boxSizing:\"border-box\",display:\"inline-block\",position:\"relative\",width:P,height:R})}else\"undefined\"===typeof P&&\"undefined\"===typeof R&&\"fill\"===A&&(z={display:\"block\",overflow:\"hidden\",position:\"absolute\",top:0,left:0,bottom:0,right:0,boxSizing:\"border-box\",margin:0});var L={src:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"};Y&&(L=function(e){var t=e.src,n=e.unoptimized,r=e.layout,a=e.width,s=e.quality,c=e.sizes;if(n)return{src:t};var o=function(e,t){if(\"number\"!==typeof e||\"fill\"===t||\"responsive\"===t)return{widths:h,kind:\"w\"};return{widths:i(new Set([e,2*e,3*e].map((function(e){return p.find((function(t){return t>=e}))||p[p.length-1]})))),kind:\"x\"}}(a,r),l=o.widths,d=o.kind,u=l.length-1,m=l.map((function(e,n){return\"\".concat(v({src:t,quality:s,width:e}),\" \").concat(\"w\"===d?e:n+1).concat(d)})).join(\", \");c||\"w\"!==d||(c=l.map((function(e,t){return t===u?\"\".concat(e,\"px\"):\"(max-width: \".concat(e,\"px) \").concat(e,\"px\")})).join(\", \"));return{src:t=v({src:t,quality:s,width:l[u]}),sizes:c,srcSet:m}}({src:t,unoptimized:c,layout:A,width:P,quality:W,sizes:n}));k&&(z=void 0,_=void 0,D=void 0);return o.default.createElement(\"div\",{style:z},_?o.default.createElement(\"div\",{style:_},q?o.default.createElement(\"img\",{style:{maxWidth:\"100%\",display:\"block\"},alt:\"\",\"aria-hidden\":!0,role:\"presentation\",src:\"data:image/svg+xml;base64,\".concat((0,l.toBase64)(q))}):null):null,o.default.createElement(\"img\",Object.assign({},N,L,{decoding:\"async\",className:f,ref:M,style:D})))};var s=a(n(\"8OQS\")),c=a(n(\"pVnL\")),o=a(n(\"q1tI\")),l=n(\"dEHY\"),d=n(\"UWYU\"),u=n(\"vNVm\");var m=new Map([[\"imgix\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,a=[\"auto=format\",\"fit=max\",\"w=\"+r],s=\"\";i&&a.push(\"q=\"+i);a.length&&(s=\"?\"+a.join(\"&\"));return\"\".concat(t).concat(O(n)).concat(s)}],[\"cloudinary\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality,a=[\"f_auto\",\"c_limit\",\"w_\"+r],s=\"\";i&&a.push(\"q_\"+i);a.length&&(s=a.join(\",\")+\"/\");return\"\".concat(t).concat(s).concat(O(n))}],[\"akamai\",function(e){var t=e.root,n=e.src,r=e.width;return\"\".concat(t).concat(O(n),\"?imwidth=\").concat(r)}],[\"default\",function(e){var t=e.root,n=e.src,r=e.width,i=e.quality;0;return\"\".concat(t,\"?url=\").concat(encodeURIComponent(n),\"&w=\").concat(r,\"&q=\").concat(i||75)}]]),b={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\"}||d.imageConfigDefault,h=b.deviceSizes,f=b.imageSizes,j=b.loader,x=b.path,p=(b.domains,[].concat(i(h),i(f)));function v(e){var t=m.get(j);if(t)return t((0,c.default)({root:x},e));throw new Error('Unknown \"loader\" found in \"next.config.js\". Expected: '.concat(d.VALID_LOADERS.join(\", \"),\". Received: \").concat(j))}function g(e){return\"number\"===typeof e?e:\"string\"===typeof e?parseInt(e,10):void 0}function O(e){return\"/\"===e[0]?e.slice(1):e}h.sort((function(e,t){return e-t})),p.sort((function(e,t){return e-t}))},ikY9:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return O}));var r=n(\"o0o1\"),i=n.n(r),a=n(\"HaE+\"),s=n(\"nKUr\"),c=n(\"vDqi\"),o=n.n(c),l=n(\"TSYQ\"),d=n.n(l),u=n(\"Wgwc\"),m=n.n(u),b=n(\"QgiU\"),h=n.n(b),f=n(\"YFqc\"),j=n.n(f),x=n(\"nOHt\"),p=n(\"q1tI\"),v=n(\"M0WP\"),g=n(\"BH0o\");function O(e){var t=e.post,n=e.revalidate,r=Object(v.c)().authenticated,c=Object(x.useRouter)(),l=\"/r/[sub]\"===c.pathname,u=function(){var e=Object(a.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r||c.push(\"/login\"),a===t.userVote&&(a=0),e.prev=2,e.next=5,o.a.post(\"/misc/vote\",{identifier:t.identifier,slug:t.slug,value:a});case 5:e.sent,n&&n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)(\"div\",{id:t.identifier,className:\"flex mb-4 bg-white rounded\",children:[Object(s.jsxs)(\"div\",{className:\"w-10 py-3 text-center bg-gray-200 rounded-l\",children:[Object(s.jsx)(\"div\",{onClick:function(){return u(1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-red-500\",children:Object(s.jsx)(\"i\",{className:d()(\"icon-arrow-up\",{\"text-red-500\":1===t.userVote})})}),Object(s.jsx)(\"p\",{children:t.voteScore}),Object(s.jsx)(\"div\",{onClick:function(){return u(-1)},className:\"w-6 mx-auto text-gray-400 rounded cursor-pointer hover:bg-gray-300 hover:text-blue-600\",children:Object(s.jsx)(\"i\",{className:d()(\"icon-arrow-down\",{\"text-blue-600\":-1===t.userVote})})})]}),Object(s.jsxs)(\"div\",{className:\"w-full p-2\",children:[Object(s.jsxs)(\"div\",{className:\"flex items-center \",children:[!l&&Object(s.jsxs)(p.Fragment,{children:[Object(s.jsx)(j.a,{href:\"/r/\".concat(t.subName),children:Object(s.jsx)(\"img\",{src:t.sub.imageUrl||\"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y\",className:\"w-6 h-6 mr-1 rounded-full cursor-pointer\"})}),Object(s.jsx)(j.a,{href:\"/r/\".concat(t.subName),children:Object(s.jsxs)(\"a\",{className:\"text-xs font-bold cursor-pointer hover:underline\",children:[\"/r/\",t.subName]})})]}),Object(s.jsxs)(\"p\",{className:\"text-xs text-gray-600\",children:[\". Posted by\",Object(s.jsx)(j.a,{href:\"/u/\".concat(t.username),children:Object(s.jsxs)(\"a\",{className:\"mx-1 hover:underline\",children:[\"/u/\",t.username]})}),Object(s.jsx)(j.a,{href:t.url,children:Object(s.jsx)(\"a\",{className:\"mx-1 hover:underline\",children:m()(t.createdAt).fromNow()})})]})]}),Object(s.jsx)(j.a,{href:t.url,children:Object(s.jsx)(\"a\",{className:\"my-1 text-lg font-medium\",children:t.title})}),null!==t.imageUrl&&Object(s.jsx)(\"img\",{src:t.imageUrl}),t.body&&Object(s.jsx)(\"p\",{className:\"my-1 text-sm\",children:t.body}),Object(s.jsxs)(\"div\",{className:\"flex\",children:[Object(s.jsx)(j.a,{href:t.url,children:Object(s.jsx)(\"a\",{children:Object(s.jsxs)(g.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-comment-alt fa-xs\"}),Object(s.jsxs)(\"span\",{className:\"font-bold\",children:[t.commentCount,\" Comments\"]})]})})}),Object(s.jsxs)(g.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-share fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Share\"})]}),Object(s.jsxs)(g.a,{children:[Object(s.jsx)(\"i\",{className:\"mr-1 fas fa-bookmark fa-xs\"}),Object(s.jsx)(\"span\",{className:\"font-bold\",children:\"Save\"})]})]})]})]},t.identifier)}m.a.extend(h.a)},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},rREq:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(\"nKUr\"),i=n(\"Wgwc\"),a=n.n(i),s=n(\"YFqc\"),c=n.n(s),o=n(\"M0WP\");function l(e){var t=e.sub,n=Object(o.c)().authenticated;return Object(r.jsx)(\"div\",{className:\"w-40 ml-6 md:w-80\",children:Object(r.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(r.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(r.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"About Community\"})}),Object(r.jsxs)(\"div\",{className:\"p-3\",children:[Object(r.jsx)(\"p\",{className:\"mb-3 text-md\",children:t.description}),Object(r.jsxs)(\"div\",{className:\"flex mb-3 text-sm font-medium\",children:[Object(r.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(r.jsx)(\"p\",{children:\"5.2k\"}),Object(r.jsx)(\"p\",{children:\"members\"})]}),Object(r.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(r.jsx)(\"p\",{children:\"150\"}),Object(r.jsx)(\"p\",{children:\"Online\"})]})]}),Object(r.jsxs)(\"p\",{className:\"my-3\",children:[Object(r.jsx)(\"i\",{className:\"mr-2 fas fa-birthday-cake\"}),\"Created \",a()(t.createdAt).format(\"D MMM YYYY\")]}),n&&Object(r.jsx)(c.a,{href:\"/r/\".concat(t.name,\"/submit\"),children:Object(r.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Post\"})})]})]})})}}},[[\"OZLW\",0,2,1,3,4,5]]]);","extractedComments":[]}