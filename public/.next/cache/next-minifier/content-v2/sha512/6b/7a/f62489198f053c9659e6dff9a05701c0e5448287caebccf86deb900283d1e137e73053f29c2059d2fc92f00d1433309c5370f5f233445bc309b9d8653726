{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{ddSO:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/r/[sub]/submit\",function(){return n(\"jxjh\")}])},jxjh:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return p})),n.d(t,\"default\",(function(){return h}));var s=n(\"o0o1\"),c=n.n(s),a=n(\"HaE+\"),r=n(\"nKUr\"),i=n(\"vDqi\"),l=n.n(i),d=n(\"8Kt/\"),u=n.n(d),o=n(\"nOHt\"),b=n(\"q1tI\"),j=n(\"VtrM\"),m=n(\"rREq\"),p=!0;function h(){var e=Object(o.useRouter)(),t=Object(b.createRef)(),n=e.query.sub,s=Object(j.b)(n?\"/subs/\".concat(n):null),i=s.data;s.error&&e.push(\"/\");var d=Object(b.useState)(\"\"),p=d[0],h=d[1],x=Object(b.useState)(\"\"),O=x[0],f=x[1],v=Object(b.useState)(null),N=v[0],w=v[1],g=function(){var t=Object(a.a)(c.a.mark((function t(n){var s,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(s=new FormData).append(\"file\",N),s.append(\"title\",p),s.append(\"body\",O),s.append(\"sub\",i.name),t.prev=6,t.next=9,l.a.post(\"/posts\",s,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 9:a=t.sent,r=a.data,e.push(\"/r/\".concat(i.name,\"/\").concat(r.identifier,\"/\").concat(r.slug)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.log(t.t0);case 17:case\"end\":return t.stop()}}),t,null,[[6,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(\"div\",{className:\"container flex pt-5\",children:[Object(r.jsx)(u.a,{children:Object(r.jsx)(\"title\",{children:\"Submit to TIO\"})}),Object(r.jsxs)(\"div\",{className:\"w-160\",children:[Object(r.jsx)(\"input\",{type:\"file\",hidden:!0,ref:t,onChange:function(e){var t=e.target.files[0];w(t)}}),Object(r.jsxs)(\"div\",{className:\"p-4 bg-white rounded\",children:[Object(r.jsxs)(\"h1\",{className:\"mb-3 text-lg\",children:[\"Submit a post to /r/\",n]}),Object(r.jsxs)(\"form\",{onSubmit:g,children:[Object(r.jsxs)(\"div\",{className:\"relative mb-2\",children:[Object(r.jsx)(\"input\",{type:\"text\",className:\"w-full px-3 py-3 border border-gray-300 rounded focus:outline-none focus:border-gray-600\",placeholder:\"Title\",maxLength:300,value:p,onChange:function(e){return h(e.target.value)}}),Object(r.jsxs)(\"div\",{className:\"absolute mb-2 text-sm text-gray-500 select-none\",style:{top:11,right:10},children:[p.trim().length,\" / 300\"]})]}),Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(\"span\",{onClick:function(){return e=\"file\",t.current.name=e,void t.current.click();var e},className:\"mb-2 fa fa-plus hover:bg-gray-200\"}),Object(r.jsx)(\"span\",{className:\"m-2\",children:\"Add Photo\"})]}),Object(r.jsx)(\"img\",{src:N||\"\"}),Object(r.jsx)(\"textarea\",{className:\"w-full p-3 border border-gray-300 rounded focus:outline-none focus:border-gray-600\",value:O,placeholder:\"Text (optional)\",rows:4,onChange:function(e){return f(e.target.value)}}),Object(r.jsx)(\"div\",{className:\"flex justify-end\",children:Object(r.jsx)(\"button\",{className:\"px-3 py-1 blue button\",type:\"submit\",disabled:0===p.trim().length,children:\"Submit\"})})]})]})]}),i&&Object(r.jsx)(m.a,{sub:i})]})}},rREq:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var s=n(\"nKUr\"),c=n(\"Wgwc\"),a=n.n(c),r=n(\"YFqc\"),i=n.n(r),l=n(\"M0WP\");function d(e){var t=e.sub,n=Object(l.c)().authenticated;return Object(s.jsx)(\"div\",{className:\"w-40 ml-6 md:w-80\",children:Object(s.jsxs)(\"div\",{className:\"bg-white rounded\",children:[Object(s.jsx)(\"div\",{className:\"p-3 bg-blue-500 rounded-t\",children:Object(s.jsx)(\"p\",{className:\"font-semibold text-white\",children:\"About Community\"})}),Object(s.jsxs)(\"div\",{className:\"p-3\",children:[Object(s.jsx)(\"p\",{className:\"mb-3 text-md\",children:t.description}),Object(s.jsxs)(\"div\",{className:\"flex mb-3 text-sm font-medium\",children:[Object(s.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(s.jsx)(\"p\",{children:\"5.2k\"}),Object(s.jsx)(\"p\",{children:\"members\"})]}),Object(s.jsxs)(\"div\",{className:\"w-1/2\",children:[Object(s.jsx)(\"p\",{children:\"150\"}),Object(s.jsx)(\"p\",{children:\"Online\"})]})]}),Object(s.jsxs)(\"p\",{className:\"my-3\",children:[Object(s.jsx)(\"i\",{className:\"mr-2 fas fa-birthday-cake\"}),\"Created \",a()(t.createdAt).format(\"D MMM YYYY\")]}),n&&Object(s.jsx)(i.a,{href:\"/r/\".concat(t.name,\"/submit\"),children:Object(s.jsx)(\"a\",{className:\"w-full py-1 text-sm blue button\",children:\"Create Post\"})})]})]})})}}},[[\"ddSO\",0,2,1,3,4,5]]]);","extractedComments":[]}