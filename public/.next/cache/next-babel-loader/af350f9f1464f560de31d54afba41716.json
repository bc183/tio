{"ast":null,"code":"import _toConsumableArray from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './sash.css';\nimport { dispose, Disposable, DisposableStore } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { Emitter } from '../../../common/event.js';\nimport { getElementsByTagName, EventHelper, createStyleSheet, addDisposableListener, append, $ } from '../../dom.js';\nimport { domEvent } from '../../event.js';\nvar DEBUG = false;\nexport var OrthogonalEdge;\n\n(function (OrthogonalEdge) {\n  OrthogonalEdge[\"North\"] = \"north\";\n  OrthogonalEdge[\"South\"] = \"south\";\n  OrthogonalEdge[\"East\"] = \"east\";\n  OrthogonalEdge[\"West\"] = \"west\";\n})(OrthogonalEdge || (OrthogonalEdge = {}));\n\nvar globalSize = 4;\nvar onDidChangeGlobalSize = new Emitter();\nexport var Sash = /*#__PURE__*/function (_Disposable) {\n  _inherits(Sash, _Disposable);\n\n  var _super = _createSuper(Sash);\n\n  function Sash(container, layoutProvider, options) {\n    var _this;\n\n    _classCallCheck(this, Sash);\n\n    _this = _super.call(this);\n    _this._state = 3\n    /* Enabled */\n    ;\n    _this._onDidEnablementChange = _this._register(new Emitter());\n    _this.onDidEnablementChange = _this._onDidEnablementChange.event;\n    _this._onDidStart = _this._register(new Emitter());\n    _this.onDidStart = _this._onDidStart.event;\n    _this._onDidChange = _this._register(new Emitter());\n    _this.onDidChange = _this._onDidChange.event;\n    _this._onDidReset = _this._register(new Emitter());\n    _this.onDidReset = _this._onDidReset.event;\n    _this._onDidEnd = _this._register(new Emitter());\n    _this.onDidEnd = _this._onDidEnd.event;\n    _this.linkedSash = undefined;\n    _this.orthogonalStartSashDisposables = _this._register(new DisposableStore());\n    _this.orthogonalEndSashDisposables = _this._register(new DisposableStore());\n    _this.el = append(container, $('.monaco-sash'));\n\n    if (options.orthogonalEdge) {\n      _this.el.classList.add(\"orthogonal-edge-\".concat(options.orthogonalEdge));\n    }\n\n    if (isMacintosh) {\n      _this.el.classList.add('mac');\n    }\n\n    _this._register(domEvent(_this.el, 'mousedown')(_this.onMouseDown, _assertThisInitialized(_this)));\n\n    _this._register(domEvent(_this.el, 'dblclick')(_this.onMouseDoubleClick, _assertThisInitialized(_this)));\n\n    _this._register(Gesture.addTarget(_this.el));\n\n    _this._register(domEvent(_this.el, EventType.Start)(_this.onTouchStart, _assertThisInitialized(_this)));\n\n    if (typeof options.size === 'number') {\n      _this.size = options.size;\n\n      if (options.orientation === 0\n      /* VERTICAL */\n      ) {\n          _this.el.style.width = \"\".concat(_this.size, \"px\");\n        } else {\n        _this.el.style.height = \"\".concat(_this.size, \"px\");\n      }\n    } else {\n      _this.size = globalSize;\n\n      _this._register(onDidChangeGlobalSize.event(function (size) {\n        _this.size = size;\n\n        _this.layout();\n      }));\n    }\n\n    _this.hidden = false;\n    _this.layoutProvider = layoutProvider;\n    _this.orthogonalStartSash = options.orthogonalStartSash;\n    _this.orthogonalEndSash = options.orthogonalEndSash;\n    _this.orientation = options.orientation || 0\n    /* VERTICAL */\n    ;\n\n    if (_this.orientation === 1\n    /* HORIZONTAL */\n    ) {\n        _this.el.classList.add('horizontal');\n\n        _this.el.classList.remove('vertical');\n      } else {\n      _this.el.classList.remove('horizontal');\n\n      _this.el.classList.add('vertical');\n    }\n\n    _this.el.classList.toggle('debug', DEBUG);\n\n    _this.layout();\n\n    return _this;\n  }\n\n  _createClass(Sash, [{\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      var _this2 = this;\n\n      EventHelper.stop(e, false);\n      var isMultisashResize = false;\n\n      if (!e.__orthogonalSashEvent) {\n        var orthogonalSash = this.getOrthogonalSash(e);\n\n        if (orthogonalSash) {\n          isMultisashResize = true;\n          e.__orthogonalSashEvent = true;\n          orthogonalSash.onMouseDown(e);\n        }\n      }\n\n      if (this.linkedSash && !e.__linkedSashEvent) {\n        e.__linkedSashEvent = true;\n        this.linkedSash.onMouseDown(e);\n      }\n\n      if (!this.state) {\n        return;\n      } // Select both iframes and webviews; internally Electron nests an iframe\n      // in its <webview> component, but this isn't queryable.\n\n\n      var iframes = [].concat(_toConsumableArray(getElementsByTagName('iframe')), _toConsumableArray(getElementsByTagName('webview')));\n\n      var _iterator = _createForOfIteratorHelper(iframes),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var iframe = _step.value;\n          iframe.style.pointerEvents = 'none'; // disable mouse events on iframes as long as we drag the sash\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var mouseDownEvent = new StandardMouseEvent(e);\n      var startX = mouseDownEvent.posx;\n      var startY = mouseDownEvent.posy;\n      var altKey = mouseDownEvent.altKey;\n      var startEvent = {\n        startX: startX,\n        currentX: startX,\n        startY: startY,\n        currentY: startY,\n        altKey: altKey\n      };\n      this.el.classList.add('active');\n\n      this._onDidStart.fire(startEvent); // fix https://github.com/microsoft/vscode/issues/21675\n\n\n      var style = createStyleSheet(this.el);\n\n      var updateStyle = function updateStyle() {\n        var cursor = '';\n\n        if (isMultisashResize) {\n          cursor = 'all-scroll';\n        } else if (_this2.orientation === 1\n        /* HORIZONTAL */\n        ) {\n            if (_this2.state === 1\n            /* Minimum */\n            ) {\n                cursor = 's-resize';\n              } else if (_this2.state === 2\n            /* Maximum */\n            ) {\n                cursor = 'n-resize';\n              } else {\n              cursor = isMacintosh ? 'row-resize' : 'ns-resize';\n            }\n          } else {\n          if (_this2.state === 1\n          /* Minimum */\n          ) {\n              cursor = 'e-resize';\n            } else if (_this2.state === 2\n          /* Maximum */\n          ) {\n              cursor = 'w-resize';\n            } else {\n            cursor = isMacintosh ? 'col-resize' : 'ew-resize';\n          }\n        }\n\n        style.textContent = \"* { cursor: \".concat(cursor, \" !important; }\");\n      };\n\n      var disposables = new DisposableStore();\n      updateStyle();\n\n      if (!isMultisashResize) {\n        this.onDidEnablementChange(updateStyle, null, disposables);\n      }\n\n      var onMouseMove = function onMouseMove(e) {\n        EventHelper.stop(e, false);\n        var mouseMoveEvent = new StandardMouseEvent(e);\n        var event = {\n          startX: startX,\n          currentX: mouseMoveEvent.posx,\n          startY: startY,\n          currentY: mouseMoveEvent.posy,\n          altKey: altKey\n        };\n\n        _this2._onDidChange.fire(event);\n      };\n\n      var onMouseUp = function onMouseUp(e) {\n        EventHelper.stop(e, false);\n\n        _this2.el.removeChild(style);\n\n        _this2.el.classList.remove('active');\n\n        _this2._onDidEnd.fire();\n\n        disposables.dispose();\n\n        var _iterator2 = _createForOfIteratorHelper(iframes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var iframe = _step2.value;\n            iframe.style.pointerEvents = 'auto';\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      };\n\n      domEvent(window, 'mousemove')(onMouseMove, null, disposables);\n      domEvent(window, 'mouseup')(onMouseUp, null, disposables);\n    }\n  }, {\n    key: \"onMouseDoubleClick\",\n    value: function onMouseDoubleClick(e) {\n      var orthogonalSash = this.getOrthogonalSash(e);\n\n      if (orthogonalSash) {\n        orthogonalSash._onDidReset.fire();\n      }\n\n      if (this.linkedSash) {\n        this.linkedSash._onDidReset.fire();\n      }\n\n      this._onDidReset.fire();\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(event) {\n      var _this3 = this;\n\n      EventHelper.stop(event);\n      var listeners = [];\n      var startX = event.pageX;\n      var startY = event.pageY;\n      var altKey = event.altKey;\n\n      this._onDidStart.fire({\n        startX: startX,\n        currentX: startX,\n        startY: startY,\n        currentY: startY,\n        altKey: altKey\n      });\n\n      listeners.push(addDisposableListener(this.el, EventType.Change, function (event) {\n        if (types.isNumber(event.pageX) && types.isNumber(event.pageY)) {\n          _this3._onDidChange.fire({\n            startX: startX,\n            currentX: event.pageX,\n            startY: startY,\n            currentY: event.pageY,\n            altKey: altKey\n          });\n        }\n      }));\n      listeners.push(addDisposableListener(this.el, EventType.End, function (event) {\n        _this3._onDidEnd.fire();\n\n        dispose(listeners);\n      }));\n    }\n  }, {\n    key: \"layout\",\n    value: function layout() {\n      if (this.orientation === 0\n      /* VERTICAL */\n      ) {\n          var verticalProvider = this.layoutProvider;\n          this.el.style.left = verticalProvider.getVerticalSashLeft(this) - this.size / 2 + 'px';\n\n          if (verticalProvider.getVerticalSashTop) {\n            this.el.style.top = verticalProvider.getVerticalSashTop(this) + 'px';\n          }\n\n          if (verticalProvider.getVerticalSashHeight) {\n            this.el.style.height = verticalProvider.getVerticalSashHeight(this) + 'px';\n          }\n        } else {\n        var horizontalProvider = this.layoutProvider;\n        this.el.style.top = horizontalProvider.getHorizontalSashTop(this) - this.size / 2 + 'px';\n\n        if (horizontalProvider.getHorizontalSashLeft) {\n          this.el.style.left = horizontalProvider.getHorizontalSashLeft(this) + 'px';\n        }\n\n        if (horizontalProvider.getHorizontalSashWidth) {\n          this.el.style.width = horizontalProvider.getHorizontalSashWidth(this) + 'px';\n        }\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.hidden = true;\n      this.el.style.display = 'none';\n      this.el.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: \"onOrthogonalStartSashEnablementChange\",\n    value: function onOrthogonalStartSashEnablementChange(state) {\n      this.el.classList.toggle('orthogonal-start', state !== 0\n      /* Disabled */\n      );\n    }\n  }, {\n    key: \"onOrthogonalEndSashEnablementChange\",\n    value: function onOrthogonalEndSashEnablementChange(state) {\n      this.el.classList.toggle('orthogonal-end', state !== 0\n      /* Disabled */\n      );\n    }\n  }, {\n    key: \"getOrthogonalSash\",\n    value: function getOrthogonalSash(e) {\n      if (this.orientation === 0\n      /* VERTICAL */\n      ) {\n          if (e.offsetY <= this.size) {\n            return this.orthogonalStartSash;\n          } else if (e.offsetY >= this.el.clientHeight - this.size) {\n            return this.orthogonalEndSash;\n          }\n        } else {\n        if (e.offsetX <= this.size) {\n          return this.orthogonalStartSash;\n        } else if (e.offsetX >= this.el.clientWidth - this.size) {\n          return this.orthogonalEndSash;\n        }\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(Sash.prototype), \"dispose\", this).call(this);\n\n      this.el.remove();\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    },\n    set: function set(state) {\n      if (this._state === state) {\n        return;\n      }\n\n      this.el.classList.toggle('disabled', state === 0\n      /* Disabled */\n      );\n      this.el.classList.toggle('minimum', state === 1\n      /* Minimum */\n      );\n      this.el.classList.toggle('maximum', state === 2\n      /* Maximum */\n      );\n      this._state = state;\n\n      this._onDidEnablementChange.fire(state);\n    }\n  }, {\n    key: \"orthogonalStartSash\",\n    get: function get() {\n      return this._orthogonalStartSash;\n    },\n    set: function set(sash) {\n      this.orthogonalStartSashDisposables.clear();\n\n      if (sash) {\n        this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange, this));\n        this.onOrthogonalStartSashEnablementChange(sash.state);\n      } else {\n        this.onOrthogonalStartSashEnablementChange(0\n        /* Disabled */\n        );\n      }\n\n      this._orthogonalStartSash = sash;\n    }\n  }, {\n    key: \"orthogonalEndSash\",\n    get: function get() {\n      return this._orthogonalEndSash;\n    },\n    set: function set(sash) {\n      this.orthogonalEndSashDisposables.clear();\n\n      if (sash) {\n        this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange, this));\n        this.onOrthogonalEndSashEnablementChange(sash.state);\n      } else {\n        this.onOrthogonalEndSashEnablementChange(0\n        /* Disabled */\n        );\n      }\n\n      this._orthogonalEndSash = sash;\n    }\n  }]);\n\n  return Sash;\n}(Disposable);","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js"],"names":["dispose","Disposable","DisposableStore","isMacintosh","types","EventType","Gesture","StandardMouseEvent","Emitter","getElementsByTagName","EventHelper","createStyleSheet","addDisposableListener","append","$","domEvent","DEBUG","OrthogonalEdge","globalSize","onDidChangeGlobalSize","Sash","container","layoutProvider","options","_state","_onDidEnablementChange","_register","onDidEnablementChange","event","_onDidStart","onDidStart","_onDidChange","onDidChange","_onDidReset","onDidReset","_onDidEnd","onDidEnd","linkedSash","undefined","orthogonalStartSashDisposables","orthogonalEndSashDisposables","el","orthogonalEdge","classList","add","onMouseDown","onMouseDoubleClick","addTarget","Start","onTouchStart","size","orientation","style","width","height","layout","hidden","orthogonalStartSash","orthogonalEndSash","remove","toggle","e","stop","isMultisashResize","__orthogonalSashEvent","orthogonalSash","getOrthogonalSash","__linkedSashEvent","state","iframes","iframe","pointerEvents","mouseDownEvent","startX","posx","startY","posy","altKey","startEvent","currentX","currentY","fire","updateStyle","cursor","textContent","disposables","onMouseMove","mouseMoveEvent","onMouseUp","removeChild","window","listeners","pageX","pageY","push","Change","isNumber","End","verticalProvider","left","getVerticalSashLeft","getVerticalSashTop","top","getVerticalSashHeight","horizontalProvider","getHorizontalSashTop","getHorizontalSashLeft","getHorizontalSashWidth","display","setAttribute","offsetY","clientHeight","offsetX","clientWidth","_orthogonalStartSash","sash","clear","onOrthogonalStartSashEnablementChange","_orthogonalEndSash","onOrthogonalEndSashEnablementChange"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './sash.css';\r\nimport { dispose, Disposable, DisposableStore } from '../../../common/lifecycle.js';\r\nimport { isMacintosh } from '../../../common/platform.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { EventType, Gesture } from '../../touch.js';\r\nimport { StandardMouseEvent } from '../../mouseEvent.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { getElementsByTagName, EventHelper, createStyleSheet, addDisposableListener, append, $ } from '../../dom.js';\r\nimport { domEvent } from '../../event.js';\r\nconst DEBUG = false;\r\nexport var OrthogonalEdge;\r\n(function (OrthogonalEdge) {\r\n    OrthogonalEdge[\"North\"] = \"north\";\r\n    OrthogonalEdge[\"South\"] = \"south\";\r\n    OrthogonalEdge[\"East\"] = \"east\";\r\n    OrthogonalEdge[\"West\"] = \"west\";\r\n})(OrthogonalEdge || (OrthogonalEdge = {}));\r\nlet globalSize = 4;\r\nconst onDidChangeGlobalSize = new Emitter();\r\nexport class Sash extends Disposable {\r\n    constructor(container, layoutProvider, options) {\r\n        super();\r\n        this._state = 3 /* Enabled */;\r\n        this._onDidEnablementChange = this._register(new Emitter());\r\n        this.onDidEnablementChange = this._onDidEnablementChange.event;\r\n        this._onDidStart = this._register(new Emitter());\r\n        this.onDidStart = this._onDidStart.event;\r\n        this._onDidChange = this._register(new Emitter());\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._onDidReset = this._register(new Emitter());\r\n        this.onDidReset = this._onDidReset.event;\r\n        this._onDidEnd = this._register(new Emitter());\r\n        this.onDidEnd = this._onDidEnd.event;\r\n        this.linkedSash = undefined;\r\n        this.orthogonalStartSashDisposables = this._register(new DisposableStore());\r\n        this.orthogonalEndSashDisposables = this._register(new DisposableStore());\r\n        this.el = append(container, $('.monaco-sash'));\r\n        if (options.orthogonalEdge) {\r\n            this.el.classList.add(`orthogonal-edge-${options.orthogonalEdge}`);\r\n        }\r\n        if (isMacintosh) {\r\n            this.el.classList.add('mac');\r\n        }\r\n        this._register(domEvent(this.el, 'mousedown')(this.onMouseDown, this));\r\n        this._register(domEvent(this.el, 'dblclick')(this.onMouseDoubleClick, this));\r\n        this._register(Gesture.addTarget(this.el));\r\n        this._register(domEvent(this.el, EventType.Start)(this.onTouchStart, this));\r\n        if (typeof options.size === 'number') {\r\n            this.size = options.size;\r\n            if (options.orientation === 0 /* VERTICAL */) {\r\n                this.el.style.width = `${this.size}px`;\r\n            }\r\n            else {\r\n                this.el.style.height = `${this.size}px`;\r\n            }\r\n        }\r\n        else {\r\n            this.size = globalSize;\r\n            this._register(onDidChangeGlobalSize.event(size => {\r\n                this.size = size;\r\n                this.layout();\r\n            }));\r\n        }\r\n        this.hidden = false;\r\n        this.layoutProvider = layoutProvider;\r\n        this.orthogonalStartSash = options.orthogonalStartSash;\r\n        this.orthogonalEndSash = options.orthogonalEndSash;\r\n        this.orientation = options.orientation || 0 /* VERTICAL */;\r\n        if (this.orientation === 1 /* HORIZONTAL */) {\r\n            this.el.classList.add('horizontal');\r\n            this.el.classList.remove('vertical');\r\n        }\r\n        else {\r\n            this.el.classList.remove('horizontal');\r\n            this.el.classList.add('vertical');\r\n        }\r\n        this.el.classList.toggle('debug', DEBUG);\r\n        this.layout();\r\n    }\r\n    get state() { return this._state; }\r\n    set state(state) {\r\n        if (this._state === state) {\r\n            return;\r\n        }\r\n        this.el.classList.toggle('disabled', state === 0 /* Disabled */);\r\n        this.el.classList.toggle('minimum', state === 1 /* Minimum */);\r\n        this.el.classList.toggle('maximum', state === 2 /* Maximum */);\r\n        this._state = state;\r\n        this._onDidEnablementChange.fire(state);\r\n    }\r\n    get orthogonalStartSash() { return this._orthogonalStartSash; }\r\n    set orthogonalStartSash(sash) {\r\n        this.orthogonalStartSashDisposables.clear();\r\n        if (sash) {\r\n            this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange, this));\r\n            this.onOrthogonalStartSashEnablementChange(sash.state);\r\n        }\r\n        else {\r\n            this.onOrthogonalStartSashEnablementChange(0 /* Disabled */);\r\n        }\r\n        this._orthogonalStartSash = sash;\r\n    }\r\n    get orthogonalEndSash() { return this._orthogonalEndSash; }\r\n    set orthogonalEndSash(sash) {\r\n        this.orthogonalEndSashDisposables.clear();\r\n        if (sash) {\r\n            this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange, this));\r\n            this.onOrthogonalEndSashEnablementChange(sash.state);\r\n        }\r\n        else {\r\n            this.onOrthogonalEndSashEnablementChange(0 /* Disabled */);\r\n        }\r\n        this._orthogonalEndSash = sash;\r\n    }\r\n    onMouseDown(e) {\r\n        EventHelper.stop(e, false);\r\n        let isMultisashResize = false;\r\n        if (!e.__orthogonalSashEvent) {\r\n            const orthogonalSash = this.getOrthogonalSash(e);\r\n            if (orthogonalSash) {\r\n                isMultisashResize = true;\r\n                e.__orthogonalSashEvent = true;\r\n                orthogonalSash.onMouseDown(e);\r\n            }\r\n        }\r\n        if (this.linkedSash && !e.__linkedSashEvent) {\r\n            e.__linkedSashEvent = true;\r\n            this.linkedSash.onMouseDown(e);\r\n        }\r\n        if (!this.state) {\r\n            return;\r\n        }\r\n        // Select both iframes and webviews; internally Electron nests an iframe\r\n        // in its <webview> component, but this isn't queryable.\r\n        const iframes = [\r\n            ...getElementsByTagName('iframe'),\r\n            ...getElementsByTagName('webview'),\r\n        ];\r\n        for (const iframe of iframes) {\r\n            iframe.style.pointerEvents = 'none'; // disable mouse events on iframes as long as we drag the sash\r\n        }\r\n        const mouseDownEvent = new StandardMouseEvent(e);\r\n        const startX = mouseDownEvent.posx;\r\n        const startY = mouseDownEvent.posy;\r\n        const altKey = mouseDownEvent.altKey;\r\n        const startEvent = { startX, currentX: startX, startY, currentY: startY, altKey };\r\n        this.el.classList.add('active');\r\n        this._onDidStart.fire(startEvent);\r\n        // fix https://github.com/microsoft/vscode/issues/21675\r\n        const style = createStyleSheet(this.el);\r\n        const updateStyle = () => {\r\n            let cursor = '';\r\n            if (isMultisashResize) {\r\n                cursor = 'all-scroll';\r\n            }\r\n            else if (this.orientation === 1 /* HORIZONTAL */) {\r\n                if (this.state === 1 /* Minimum */) {\r\n                    cursor = 's-resize';\r\n                }\r\n                else if (this.state === 2 /* Maximum */) {\r\n                    cursor = 'n-resize';\r\n                }\r\n                else {\r\n                    cursor = isMacintosh ? 'row-resize' : 'ns-resize';\r\n                }\r\n            }\r\n            else {\r\n                if (this.state === 1 /* Minimum */) {\r\n                    cursor = 'e-resize';\r\n                }\r\n                else if (this.state === 2 /* Maximum */) {\r\n                    cursor = 'w-resize';\r\n                }\r\n                else {\r\n                    cursor = isMacintosh ? 'col-resize' : 'ew-resize';\r\n                }\r\n            }\r\n            style.textContent = `* { cursor: ${cursor} !important; }`;\r\n        };\r\n        const disposables = new DisposableStore();\r\n        updateStyle();\r\n        if (!isMultisashResize) {\r\n            this.onDidEnablementChange(updateStyle, null, disposables);\r\n        }\r\n        const onMouseMove = (e) => {\r\n            EventHelper.stop(e, false);\r\n            const mouseMoveEvent = new StandardMouseEvent(e);\r\n            const event = { startX, currentX: mouseMoveEvent.posx, startY, currentY: mouseMoveEvent.posy, altKey };\r\n            this._onDidChange.fire(event);\r\n        };\r\n        const onMouseUp = (e) => {\r\n            EventHelper.stop(e, false);\r\n            this.el.removeChild(style);\r\n            this.el.classList.remove('active');\r\n            this._onDidEnd.fire();\r\n            disposables.dispose();\r\n            for (const iframe of iframes) {\r\n                iframe.style.pointerEvents = 'auto';\r\n            }\r\n        };\r\n        domEvent(window, 'mousemove')(onMouseMove, null, disposables);\r\n        domEvent(window, 'mouseup')(onMouseUp, null, disposables);\r\n    }\r\n    onMouseDoubleClick(e) {\r\n        const orthogonalSash = this.getOrthogonalSash(e);\r\n        if (orthogonalSash) {\r\n            orthogonalSash._onDidReset.fire();\r\n        }\r\n        if (this.linkedSash) {\r\n            this.linkedSash._onDidReset.fire();\r\n        }\r\n        this._onDidReset.fire();\r\n    }\r\n    onTouchStart(event) {\r\n        EventHelper.stop(event);\r\n        const listeners = [];\r\n        const startX = event.pageX;\r\n        const startY = event.pageY;\r\n        const altKey = event.altKey;\r\n        this._onDidStart.fire({\r\n            startX: startX,\r\n            currentX: startX,\r\n            startY: startY,\r\n            currentY: startY,\r\n            altKey\r\n        });\r\n        listeners.push(addDisposableListener(this.el, EventType.Change, (event) => {\r\n            if (types.isNumber(event.pageX) && types.isNumber(event.pageY)) {\r\n                this._onDidChange.fire({\r\n                    startX: startX,\r\n                    currentX: event.pageX,\r\n                    startY: startY,\r\n                    currentY: event.pageY,\r\n                    altKey\r\n                });\r\n            }\r\n        }));\r\n        listeners.push(addDisposableListener(this.el, EventType.End, (event) => {\r\n            this._onDidEnd.fire();\r\n            dispose(listeners);\r\n        }));\r\n    }\r\n    layout() {\r\n        if (this.orientation === 0 /* VERTICAL */) {\r\n            const verticalProvider = this.layoutProvider;\r\n            this.el.style.left = verticalProvider.getVerticalSashLeft(this) - (this.size / 2) + 'px';\r\n            if (verticalProvider.getVerticalSashTop) {\r\n                this.el.style.top = verticalProvider.getVerticalSashTop(this) + 'px';\r\n            }\r\n            if (verticalProvider.getVerticalSashHeight) {\r\n                this.el.style.height = verticalProvider.getVerticalSashHeight(this) + 'px';\r\n            }\r\n        }\r\n        else {\r\n            const horizontalProvider = this.layoutProvider;\r\n            this.el.style.top = horizontalProvider.getHorizontalSashTop(this) - (this.size / 2) + 'px';\r\n            if (horizontalProvider.getHorizontalSashLeft) {\r\n                this.el.style.left = horizontalProvider.getHorizontalSashLeft(this) + 'px';\r\n            }\r\n            if (horizontalProvider.getHorizontalSashWidth) {\r\n                this.el.style.width = horizontalProvider.getHorizontalSashWidth(this) + 'px';\r\n            }\r\n        }\r\n    }\r\n    hide() {\r\n        this.hidden = true;\r\n        this.el.style.display = 'none';\r\n        this.el.setAttribute('aria-hidden', 'true');\r\n    }\r\n    onOrthogonalStartSashEnablementChange(state) {\r\n        this.el.classList.toggle('orthogonal-start', state !== 0 /* Disabled */);\r\n    }\r\n    onOrthogonalEndSashEnablementChange(state) {\r\n        this.el.classList.toggle('orthogonal-end', state !== 0 /* Disabled */);\r\n    }\r\n    getOrthogonalSash(e) {\r\n        if (this.orientation === 0 /* VERTICAL */) {\r\n            if (e.offsetY <= this.size) {\r\n                return this.orthogonalStartSash;\r\n            }\r\n            else if (e.offsetY >= this.el.clientHeight - this.size) {\r\n                return this.orthogonalEndSash;\r\n            }\r\n        }\r\n        else {\r\n            if (e.offsetX <= this.size) {\r\n                return this.orthogonalStartSash;\r\n            }\r\n            else if (e.offsetX >= this.el.clientWidth - this.size) {\r\n                return this.orthogonalEndSash;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.el.remove();\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}