{"ast":null,"code":"import _toConsumableArray from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Registry } from '../../registry/common/platform.js';\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nexport var DefaultQuickAccessFilterValue;\n\n(function (DefaultQuickAccessFilterValue) {\n  /**\r\n   * Keep the value as it is given to quick access.\r\n   */\n  DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n  /**\r\n   * Use the value that was used last time something was accepted from the picker.\r\n   */\n\n  DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\n\nexport var Extensions = {\n  Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport var QuickAccessRegistry = /*#__PURE__*/function () {\n  function QuickAccessRegistry() {\n    _classCallCheck(this, QuickAccessRegistry);\n\n    this.providers = [];\n    this.defaultProvider = undefined;\n  }\n\n  _createClass(QuickAccessRegistry, [{\n    key: \"registerQuickAccessProvider\",\n    value: function registerQuickAccessProvider(provider) {\n      var _this = this;\n\n      // Extract the default provider when no prefix is present\n      if (provider.prefix.length === 0) {\n        this.defaultProvider = provider;\n      } else {\n        this.providers.push(provider);\n      } // sort the providers by decreasing prefix length, such that longer\n      // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n\n\n      this.providers.sort(function (providerA, providerB) {\n        return providerB.prefix.length - providerA.prefix.length;\n      });\n      return toDisposable(function () {\n        _this.providers.splice(_this.providers.indexOf(provider), 1);\n\n        if (_this.defaultProvider === provider) {\n          _this.defaultProvider = undefined;\n        }\n      });\n    }\n  }, {\n    key: \"getQuickAccessProviders\",\n    value: function getQuickAccessProviders() {\n      return coalesce([this.defaultProvider].concat(_toConsumableArray(this.providers)));\n    }\n  }, {\n    key: \"getQuickAccessProvider\",\n    value: function getQuickAccessProvider(prefix) {\n      var result = prefix ? this.providers.find(function (provider) {\n        return prefix.startsWith(provider.prefix);\n      }) || undefined : undefined;\n      return result || this.defaultProvider;\n    }\n  }]);\n\n  return QuickAccessRegistry;\n}();\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js"],"names":["Registry","coalesce","toDisposable","DefaultQuickAccessFilterValue","Extensions","Quickaccess","QuickAccessRegistry","providers","defaultProvider","undefined","provider","prefix","length","push","sort","providerA","providerB","splice","indexOf","result","find","startsWith","add"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA,SAASA,QAAT,QAAyB,mCAAzB;AACA,SAASC,QAAT,QAAyB,gCAAzB;AACA,SAASC,YAAT,QAA6B,mCAA7B;AACA,OAAO,IAAIC,6BAAJ;;AACP,CAAC,UAAUA,6BAAV,EAAyC;AACtC;AACJ;AACA;AACIA,EAAAA,6BAA6B,CAACA,6BAA6B,CAAC,UAAD,CAA7B,GAA4C,CAA7C,CAA7B,GAA+E,UAA/E;AACA;AACJ;AACA;;AACIA,EAAAA,6BAA6B,CAACA,6BAA6B,CAAC,MAAD,CAA7B,GAAwC,CAAzC,CAA7B,GAA2E,MAA3E;AACH,CATD,EASGA,6BAA6B,KAAKA,6BAA6B,GAAG,EAArC,CAThC;;AAUA,OAAO,IAAMC,UAAU,GAAG;AACtBC,EAAAA,WAAW,EAAE;AADS,CAAnB;AAGP,WAAaC,mBAAb;AACI,iCAAc;AAAA;;AACV,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,eAAL,GAAuBC,SAAvB;AACH;;AAJL;AAAA;AAAA,gDAKgCC,QALhC,EAK0C;AAAA;;AAClC;AACA,UAAIA,QAAQ,CAACC,MAAT,CAAgBC,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,aAAKJ,eAAL,GAAuBE,QAAvB;AACH,OAFD,MAGK;AACD,aAAKH,SAAL,CAAeM,IAAf,CAAoBH,QAApB;AACH,OAPiC,CAQlC;AACA;;;AACA,WAAKH,SAAL,CAAeO,IAAf,CAAoB,UAACC,SAAD,EAAYC,SAAZ;AAAA,eAA0BA,SAAS,CAACL,MAAV,CAAiBC,MAAjB,GAA0BG,SAAS,CAACJ,MAAV,CAAiBC,MAArE;AAAA,OAApB;AACA,aAAOV,YAAY,CAAC,YAAM;AACtB,QAAA,KAAI,CAACK,SAAL,CAAeU,MAAf,CAAsB,KAAI,CAACV,SAAL,CAAeW,OAAf,CAAuBR,QAAvB,CAAtB,EAAwD,CAAxD;;AACA,YAAI,KAAI,CAACF,eAAL,KAAyBE,QAA7B,EAAuC;AACnC,UAAA,KAAI,CAACF,eAAL,GAAuBC,SAAvB;AACH;AACJ,OALkB,CAAnB;AAMH;AAtBL;AAAA;AAAA,8CAuB8B;AACtB,aAAOR,QAAQ,EAAE,KAAKO,eAAP,4BAA2B,KAAKD,SAAhC,GAAf;AACH;AAzBL;AAAA;AAAA,2CA0B2BI,MA1B3B,EA0BmC;AAC3B,UAAMQ,MAAM,GAAGR,MAAM,GAAI,KAAKJ,SAAL,CAAea,IAAf,CAAoB,UAAAV,QAAQ;AAAA,eAAIC,MAAM,CAACU,UAAP,CAAkBX,QAAQ,CAACC,MAA3B,CAAJ;AAAA,OAA5B,KAAuEF,SAA3E,GAAwFA,SAA7G;AACA,aAAOU,MAAM,IAAI,KAAKX,eAAtB;AACH;AA7BL;;AAAA;AAAA;AA+BAR,QAAQ,CAACsB,GAAT,CAAalB,UAAU,CAACC,WAAxB,EAAqC,IAAIC,mBAAJ,EAArC","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Registry } from '../../registry/common/platform.js';\r\nimport { coalesce } from '../../../base/common/arrays.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nexport var DefaultQuickAccessFilterValue;\r\n(function (DefaultQuickAccessFilterValue) {\r\n    /**\r\n     * Keep the value as it is given to quick access.\r\n     */\r\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\r\n    /**\r\n     * Use the value that was used last time something was accepted from the picker.\r\n     */\r\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\r\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\r\nexport const Extensions = {\r\n    Quickaccess: 'workbench.contributions.quickaccess'\r\n};\r\nexport class QuickAccessRegistry {\r\n    constructor() {\r\n        this.providers = [];\r\n        this.defaultProvider = undefined;\r\n    }\r\n    registerQuickAccessProvider(provider) {\r\n        // Extract the default provider when no prefix is present\r\n        if (provider.prefix.length === 0) {\r\n            this.defaultProvider = provider;\r\n        }\r\n        else {\r\n            this.providers.push(provider);\r\n        }\r\n        // sort the providers by decreasing prefix length, such that longer\r\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\r\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\r\n        return toDisposable(() => {\r\n            this.providers.splice(this.providers.indexOf(provider), 1);\r\n            if (this.defaultProvider === provider) {\r\n                this.defaultProvider = undefined;\r\n            }\r\n        });\r\n    }\r\n    getQuickAccessProviders() {\r\n        return coalesce([this.defaultProvider, ...this.providers]);\r\n    }\r\n    getQuickAccessProvider(prefix) {\r\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\r\n        return result || this.defaultProvider;\r\n    }\r\n}\r\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\r\n"]},"metadata":{},"sourceType":"module"}