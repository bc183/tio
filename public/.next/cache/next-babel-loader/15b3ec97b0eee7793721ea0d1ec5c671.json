{"ast":null,"code":"import _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../base/browser/dom.js';\nimport { GlobalMouseMoveMonitor } from '../../base/browser/globalMouseMoveMonitor.js';\nimport { StandardMouseEvent } from '../../base/browser/mouseEvent.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\n/**\r\n * Coordinates relative to the whole document (e.g. mouse event's pageX and pageY)\r\n */\n\nexport var PageCoordinates = /*#__PURE__*/function () {\n  function PageCoordinates(x, y) {\n    _classCallCheck(this, PageCoordinates);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(PageCoordinates, [{\n    key: \"toClientCoordinates\",\n    value: function toClientCoordinates() {\n      return new ClientCoordinates(this.x - dom.StandardWindow.scrollX, this.y - dom.StandardWindow.scrollY);\n    }\n  }]);\n\n  return PageCoordinates;\n}();\n/**\r\n * Coordinates within the application's client area (i.e. origin is document's scroll position).\r\n *\r\n * For example, clicking in the top-left corner of the client area will\r\n * always result in a mouse event with a client.x value of 0, regardless\r\n * of whether the page is scrolled horizontally.\r\n */\n\nexport var ClientCoordinates = /*#__PURE__*/function () {\n  function ClientCoordinates(clientX, clientY) {\n    _classCallCheck(this, ClientCoordinates);\n\n    this.clientX = clientX;\n    this.clientY = clientY;\n  }\n\n  _createClass(ClientCoordinates, [{\n    key: \"toPageCoordinates\",\n    value: function toPageCoordinates() {\n      return new PageCoordinates(this.clientX + dom.StandardWindow.scrollX, this.clientY + dom.StandardWindow.scrollY);\n    }\n  }]);\n\n  return ClientCoordinates;\n}();\n/**\r\n * The position of the editor in the page.\r\n */\n\nexport var EditorPagePosition = function EditorPagePosition(x, y, width, height) {\n  _classCallCheck(this, EditorPagePosition);\n\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n};\nexport function createEditorPagePosition(editorViewDomNode) {\n  var editorPos = dom.getDomNodePagePosition(editorViewDomNode);\n  return new EditorPagePosition(editorPos.left, editorPos.top, editorPos.width, editorPos.height);\n}\nexport var EditorMouseEvent = /*#__PURE__*/function (_StandardMouseEvent) {\n  _inherits(EditorMouseEvent, _StandardMouseEvent);\n\n  var _super = _createSuper(EditorMouseEvent);\n\n  function EditorMouseEvent(e, editorViewDomNode) {\n    var _this;\n\n    _classCallCheck(this, EditorMouseEvent);\n\n    _this = _super.call(this, e);\n    _this.pos = new PageCoordinates(_this.posx, _this.posy);\n    _this.editorPos = createEditorPagePosition(editorViewDomNode);\n    return _this;\n  }\n\n  return EditorMouseEvent;\n}(StandardMouseEvent);\nexport var EditorMouseEventFactory = /*#__PURE__*/function () {\n  function EditorMouseEventFactory(editorViewDomNode) {\n    _classCallCheck(this, EditorMouseEventFactory);\n\n    this._editorViewDomNode = editorViewDomNode;\n  }\n\n  _createClass(EditorMouseEventFactory, [{\n    key: \"_create\",\n    value: function _create(e) {\n      return new EditorMouseEvent(e, this._editorViewDomNode);\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(target, callback) {\n      var _this2 = this;\n\n      return dom.addDisposableListener(target, 'contextmenu', function (e) {\n        callback(_this2._create(e));\n      });\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp(target, callback) {\n      var _this3 = this;\n\n      return dom.addDisposableListener(target, 'mouseup', function (e) {\n        callback(_this3._create(e));\n      });\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(target, callback) {\n      var _this4 = this;\n\n      return dom.addDisposableListener(target, 'mousedown', function (e) {\n        callback(_this4._create(e));\n      });\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(target, callback) {\n      var _this5 = this;\n\n      return dom.addDisposableNonBubblingMouseOutListener(target, function (e) {\n        callback(_this5._create(e));\n      });\n    }\n  }, {\n    key: \"onMouseMoveThrottled\",\n    value: function onMouseMoveThrottled(target, callback, merger, minimumTimeMs) {\n      var _this6 = this;\n\n      var myMerger = function myMerger(lastEvent, currentEvent) {\n        return merger(lastEvent, _this6._create(currentEvent));\n      };\n\n      return dom.addDisposableThrottledListener(target, 'mousemove', callback, myMerger, minimumTimeMs);\n    }\n  }]);\n\n  return EditorMouseEventFactory;\n}();\nexport var EditorPointerEventFactory = /*#__PURE__*/function () {\n  function EditorPointerEventFactory(editorViewDomNode) {\n    _classCallCheck(this, EditorPointerEventFactory);\n\n    this._editorViewDomNode = editorViewDomNode;\n  }\n\n  _createClass(EditorPointerEventFactory, [{\n    key: \"_create\",\n    value: function _create(e) {\n      return new EditorMouseEvent(e, this._editorViewDomNode);\n    }\n  }, {\n    key: \"onPointerUp\",\n    value: function onPointerUp(target, callback) {\n      var _this7 = this;\n\n      return dom.addDisposableListener(target, 'pointerup', function (e) {\n        callback(_this7._create(e));\n      });\n    }\n  }, {\n    key: \"onPointerDown\",\n    value: function onPointerDown(target, callback) {\n      var _this8 = this;\n\n      return dom.addDisposableListener(target, 'pointerdown', function (e) {\n        callback(_this8._create(e));\n      });\n    }\n  }, {\n    key: \"onPointerLeave\",\n    value: function onPointerLeave(target, callback) {\n      var _this9 = this;\n\n      return dom.addDisposableNonBubblingPointerOutListener(target, function (e) {\n        callback(_this9._create(e));\n      });\n    }\n  }, {\n    key: \"onPointerMoveThrottled\",\n    value: function onPointerMoveThrottled(target, callback, merger, minimumTimeMs) {\n      var _this10 = this;\n\n      var myMerger = function myMerger(lastEvent, currentEvent) {\n        return merger(lastEvent, _this10._create(currentEvent));\n      };\n\n      return dom.addDisposableThrottledListener(target, 'pointermove', callback, myMerger, minimumTimeMs);\n    }\n  }]);\n\n  return EditorPointerEventFactory;\n}();\nexport var GlobalEditorMouseMoveMonitor = /*#__PURE__*/function (_Disposable) {\n  _inherits(GlobalEditorMouseMoveMonitor, _Disposable);\n\n  var _super2 = _createSuper(GlobalEditorMouseMoveMonitor);\n\n  function GlobalEditorMouseMoveMonitor(editorViewDomNode) {\n    var _this11;\n\n    _classCallCheck(this, GlobalEditorMouseMoveMonitor);\n\n    _this11 = _super2.call(this);\n    _this11._editorViewDomNode = editorViewDomNode;\n    _this11._globalMouseMoveMonitor = _this11._register(new GlobalMouseMoveMonitor());\n    _this11._keydownListener = null;\n    return _this11;\n  }\n\n  _createClass(GlobalEditorMouseMoveMonitor, [{\n    key: \"startMonitoring\",\n    value: function startMonitoring(initialElement, initialButtons, merger, mouseMoveCallback, onStopCallback) {\n      var _this12 = this;\n\n      // Add a <<capture>> keydown event listener that will cancel the monitoring\n      // if something other than a modifier key is pressed\n      this._keydownListener = dom.addStandardDisposableListener(document, 'keydown', function (e) {\n        var kb = e.toKeybinding();\n\n        if (kb.isModifierKey()) {\n          // Allow modifier keys\n          return;\n        }\n\n        _this12._globalMouseMoveMonitor.stopMonitoring(true, e.browserEvent);\n      }, true);\n\n      var myMerger = function myMerger(lastEvent, currentEvent) {\n        return merger(lastEvent, new EditorMouseEvent(currentEvent, _this12._editorViewDomNode));\n      };\n\n      this._globalMouseMoveMonitor.startMonitoring(initialElement, initialButtons, myMerger, mouseMoveCallback, function (e) {\n        _this12._keydownListener.dispose();\n\n        onStopCallback(e);\n      });\n    }\n  }]);\n\n  return GlobalEditorMouseMoveMonitor;\n}(Disposable);","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/editor/browser/editorDom.js"],"names":["dom","GlobalMouseMoveMonitor","StandardMouseEvent","Disposable","PageCoordinates","x","y","ClientCoordinates","StandardWindow","scrollX","scrollY","clientX","clientY","EditorPagePosition","width","height","createEditorPagePosition","editorViewDomNode","editorPos","getDomNodePagePosition","left","top","EditorMouseEvent","e","pos","posx","posy","EditorMouseEventFactory","_editorViewDomNode","target","callback","addDisposableListener","_create","addDisposableNonBubblingMouseOutListener","merger","minimumTimeMs","myMerger","lastEvent","currentEvent","addDisposableThrottledListener","EditorPointerEventFactory","addDisposableNonBubblingPointerOutListener","GlobalEditorMouseMoveMonitor","_globalMouseMoveMonitor","_register","_keydownListener","initialElement","initialButtons","mouseMoveCallback","onStopCallback","addStandardDisposableListener","document","kb","toKeybinding","isModifierKey","stopMonitoring","browserEvent","startMonitoring","dispose"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as dom from '../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor } from '../../base/browser/globalMouseMoveMonitor.js';\r\nimport { StandardMouseEvent } from '../../base/browser/mouseEvent.js';\r\nimport { Disposable } from '../../base/common/lifecycle.js';\r\n/**\r\n * Coordinates relative to the whole document (e.g. mouse event's pageX and pageY)\r\n */\r\nexport class PageCoordinates {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    toClientCoordinates() {\r\n        return new ClientCoordinates(this.x - dom.StandardWindow.scrollX, this.y - dom.StandardWindow.scrollY);\r\n    }\r\n}\r\n/**\r\n * Coordinates within the application's client area (i.e. origin is document's scroll position).\r\n *\r\n * For example, clicking in the top-left corner of the client area will\r\n * always result in a mouse event with a client.x value of 0, regardless\r\n * of whether the page is scrolled horizontally.\r\n */\r\nexport class ClientCoordinates {\r\n    constructor(clientX, clientY) {\r\n        this.clientX = clientX;\r\n        this.clientY = clientY;\r\n    }\r\n    toPageCoordinates() {\r\n        return new PageCoordinates(this.clientX + dom.StandardWindow.scrollX, this.clientY + dom.StandardWindow.scrollY);\r\n    }\r\n}\r\n/**\r\n * The position of the editor in the page.\r\n */\r\nexport class EditorPagePosition {\r\n    constructor(x, y, width, height) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n}\r\nexport function createEditorPagePosition(editorViewDomNode) {\r\n    const editorPos = dom.getDomNodePagePosition(editorViewDomNode);\r\n    return new EditorPagePosition(editorPos.left, editorPos.top, editorPos.width, editorPos.height);\r\n}\r\nexport class EditorMouseEvent extends StandardMouseEvent {\r\n    constructor(e, editorViewDomNode) {\r\n        super(e);\r\n        this.pos = new PageCoordinates(this.posx, this.posy);\r\n        this.editorPos = createEditorPagePosition(editorViewDomNode);\r\n    }\r\n}\r\nexport class EditorMouseEventFactory {\r\n    constructor(editorViewDomNode) {\r\n        this._editorViewDomNode = editorViewDomNode;\r\n    }\r\n    _create(e) {\r\n        return new EditorMouseEvent(e, this._editorViewDomNode);\r\n    }\r\n    onContextMenu(target, callback) {\r\n        return dom.addDisposableListener(target, 'contextmenu', (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onMouseUp(target, callback) {\r\n        return dom.addDisposableListener(target, 'mouseup', (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onMouseDown(target, callback) {\r\n        return dom.addDisposableListener(target, 'mousedown', (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onMouseLeave(target, callback) {\r\n        return dom.addDisposableNonBubblingMouseOutListener(target, (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onMouseMoveThrottled(target, callback, merger, minimumTimeMs) {\r\n        const myMerger = (lastEvent, currentEvent) => {\r\n            return merger(lastEvent, this._create(currentEvent));\r\n        };\r\n        return dom.addDisposableThrottledListener(target, 'mousemove', callback, myMerger, minimumTimeMs);\r\n    }\r\n}\r\nexport class EditorPointerEventFactory {\r\n    constructor(editorViewDomNode) {\r\n        this._editorViewDomNode = editorViewDomNode;\r\n    }\r\n    _create(e) {\r\n        return new EditorMouseEvent(e, this._editorViewDomNode);\r\n    }\r\n    onPointerUp(target, callback) {\r\n        return dom.addDisposableListener(target, 'pointerup', (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onPointerDown(target, callback) {\r\n        return dom.addDisposableListener(target, 'pointerdown', (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onPointerLeave(target, callback) {\r\n        return dom.addDisposableNonBubblingPointerOutListener(target, (e) => {\r\n            callback(this._create(e));\r\n        });\r\n    }\r\n    onPointerMoveThrottled(target, callback, merger, minimumTimeMs) {\r\n        const myMerger = (lastEvent, currentEvent) => {\r\n            return merger(lastEvent, this._create(currentEvent));\r\n        };\r\n        return dom.addDisposableThrottledListener(target, 'pointermove', callback, myMerger, minimumTimeMs);\r\n    }\r\n}\r\nexport class GlobalEditorMouseMoveMonitor extends Disposable {\r\n    constructor(editorViewDomNode) {\r\n        super();\r\n        this._editorViewDomNode = editorViewDomNode;\r\n        this._globalMouseMoveMonitor = this._register(new GlobalMouseMoveMonitor());\r\n        this._keydownListener = null;\r\n    }\r\n    startMonitoring(initialElement, initialButtons, merger, mouseMoveCallback, onStopCallback) {\r\n        // Add a <<capture>> keydown event listener that will cancel the monitoring\r\n        // if something other than a modifier key is pressed\r\n        this._keydownListener = dom.addStandardDisposableListener(document, 'keydown', (e) => {\r\n            const kb = e.toKeybinding();\r\n            if (kb.isModifierKey()) {\r\n                // Allow modifier keys\r\n                return;\r\n            }\r\n            this._globalMouseMoveMonitor.stopMonitoring(true, e.browserEvent);\r\n        }, true);\r\n        const myMerger = (lastEvent, currentEvent) => {\r\n            return merger(lastEvent, new EditorMouseEvent(currentEvent, this._editorViewDomNode));\r\n        };\r\n        this._globalMouseMoveMonitor.startMonitoring(initialElement, initialButtons, myMerger, mouseMoveCallback, (e) => {\r\n            this._keydownListener.dispose();\r\n            onStopCallback(e);\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}