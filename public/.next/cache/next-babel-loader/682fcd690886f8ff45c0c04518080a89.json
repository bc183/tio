{"ast":null,"code":"import _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './overlayWidgets.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { PartFingerprints, ViewPart } from '../../view/viewPart.js';\nexport var ViewOverlayWidgets = /*#__PURE__*/function (_ViewPart) {\n  _inherits(ViewOverlayWidgets, _ViewPart);\n\n  var _super = _createSuper(ViewOverlayWidgets);\n\n  function ViewOverlayWidgets(context) {\n    var _this;\n\n    _classCallCheck(this, ViewOverlayWidgets);\n\n    _this = _super.call(this, context);\n    var options = _this._context.configuration.options;\n    var layoutInfo = options.get(124\n    /* layoutInfo */\n    );\n    _this._widgets = {};\n    _this._verticalScrollbarWidth = layoutInfo.verticalScrollbarWidth;\n    _this._minimapWidth = layoutInfo.minimap.minimapWidth;\n    _this._horizontalScrollbarHeight = layoutInfo.horizontalScrollbarHeight;\n    _this._editorHeight = layoutInfo.height;\n    _this._editorWidth = layoutInfo.width;\n    _this._domNode = createFastDomNode(document.createElement('div'));\n    PartFingerprints.write(_this._domNode, 4\n    /* OverlayWidgets */\n    );\n\n    _this._domNode.setClassName('overlayWidgets');\n\n    return _this;\n  }\n\n  _createClass(ViewOverlayWidgets, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(ViewOverlayWidgets.prototype), \"dispose\", this).call(this);\n\n      this._widgets = {};\n    }\n  }, {\n    key: \"getDomNode\",\n    value: function getDomNode() {\n      return this._domNode;\n    } // ---- begin view event handlers\n\n  }, {\n    key: \"onConfigurationChanged\",\n    value: function onConfigurationChanged(e) {\n      var options = this._context.configuration.options;\n      var layoutInfo = options.get(124\n      /* layoutInfo */\n      );\n      this._verticalScrollbarWidth = layoutInfo.verticalScrollbarWidth;\n      this._minimapWidth = layoutInfo.minimap.minimapWidth;\n      this._horizontalScrollbarHeight = layoutInfo.horizontalScrollbarHeight;\n      this._editorHeight = layoutInfo.height;\n      this._editorWidth = layoutInfo.width;\n      return true;\n    } // ---- end view event handlers\n\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      var domNode = createFastDomNode(widget.getDomNode());\n      this._widgets[widget.getId()] = {\n        widget: widget,\n        preference: null,\n        domNode: domNode\n      }; // This is sync because a widget wants to be in the dom\n\n      domNode.setPosition('absolute');\n      domNode.setAttribute('widgetId', widget.getId());\n\n      this._domNode.appendChild(domNode);\n\n      this.setShouldRender();\n    }\n  }, {\n    key: \"setWidgetPosition\",\n    value: function setWidgetPosition(widget, preference) {\n      var widgetData = this._widgets[widget.getId()];\n\n      if (widgetData.preference === preference) {\n        return false;\n      }\n\n      widgetData.preference = preference;\n      this.setShouldRender();\n      return true;\n    }\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      var widgetId = widget.getId();\n\n      if (this._widgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._widgets[widgetId];\n        var domNode = widgetData.domNode.domNode;\n        delete this._widgets[widgetId];\n        domNode.parentNode.removeChild(domNode);\n        this.setShouldRender();\n      }\n    }\n  }, {\n    key: \"_renderWidget\",\n    value: function _renderWidget(widgetData) {\n      var domNode = widgetData.domNode;\n\n      if (widgetData.preference === null) {\n        domNode.unsetTop();\n        return;\n      }\n\n      if (widgetData.preference === 0\n      /* TOP_RIGHT_CORNER */\n      ) {\n          domNode.setTop(0);\n          domNode.setRight(2 * this._verticalScrollbarWidth + this._minimapWidth);\n        } else if (widgetData.preference === 1\n      /* BOTTOM_RIGHT_CORNER */\n      ) {\n          var widgetHeight = domNode.domNode.clientHeight;\n          domNode.setTop(this._editorHeight - widgetHeight - 2 * this._horizontalScrollbarHeight);\n          domNode.setRight(2 * this._verticalScrollbarWidth + this._minimapWidth);\n        } else if (widgetData.preference === 2\n      /* TOP_CENTER */\n      ) {\n          domNode.setTop(0);\n          domNode.domNode.style.right = '50%';\n        }\n    }\n  }, {\n    key: \"prepareRender\",\n    value: function prepareRender(ctx) {// Nothing to read\n    }\n  }, {\n    key: \"render\",\n    value: function render(ctx) {\n      this._domNode.setWidth(this._editorWidth);\n\n      var keys = Object.keys(this._widgets);\n\n      for (var i = 0, len = keys.length; i < len; i++) {\n        var widgetId = keys[i];\n\n        this._renderWidget(this._widgets[widgetId]);\n      }\n    }\n  }]);\n\n  return ViewOverlayWidgets;\n}(ViewPart);","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/overlayWidgets/overlayWidgets.js"],"names":["createFastDomNode","PartFingerprints","ViewPart","ViewOverlayWidgets","context","options","_context","configuration","layoutInfo","get","_widgets","_verticalScrollbarWidth","verticalScrollbarWidth","_minimapWidth","minimap","minimapWidth","_horizontalScrollbarHeight","horizontalScrollbarHeight","_editorHeight","height","_editorWidth","width","_domNode","document","createElement","write","setClassName","e","widget","domNode","getDomNode","getId","preference","setPosition","setAttribute","appendChild","setShouldRender","widgetData","widgetId","hasOwnProperty","parentNode","removeChild","unsetTop","setTop","setRight","widgetHeight","clientHeight","style","right","ctx","setWidth","keys","Object","i","len","length","_renderWidget"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,OAAO,sBAAP;AACA,SAASA,iBAAT,QAAkC,yCAAlC;AACA,SAASC,gBAAT,EAA2BC,QAA3B,QAA2C,wBAA3C;AACA,WAAaC,kBAAb;AAAA;;AAAA;;AACI,8BAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,8BAAMA,OAAN;AACA,QAAMC,OAAO,GAAG,MAAKC,QAAL,CAAcC,aAAd,CAA4BF,OAA5C;AACA,QAAMG,UAAU,GAAGH,OAAO,CAACI,GAAR,CAAY;AAAI;AAAhB,KAAnB;AACA,UAAKC,QAAL,GAAgB,EAAhB;AACA,UAAKC,uBAAL,GAA+BH,UAAU,CAACI,sBAA1C;AACA,UAAKC,aAAL,GAAqBL,UAAU,CAACM,OAAX,CAAmBC,YAAxC;AACA,UAAKC,0BAAL,GAAkCR,UAAU,CAACS,yBAA7C;AACA,UAAKC,aAAL,GAAqBV,UAAU,CAACW,MAAhC;AACA,UAAKC,YAAL,GAAoBZ,UAAU,CAACa,KAA/B;AACA,UAAKC,QAAL,GAAgBtB,iBAAiB,CAACuB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAjC;AACAvB,IAAAA,gBAAgB,CAACwB,KAAjB,CAAuB,MAAKH,QAA5B,EAAsC;AAAE;AAAxC;;AACA,UAAKA,QAAL,CAAcI,YAAd,CAA2B,gBAA3B;;AAZiB;AAapB;;AAdL;AAAA;AAAA,8BAec;AACN;;AACA,WAAKhB,QAAL,GAAgB,EAAhB;AACH;AAlBL;AAAA;AAAA,iCAmBiB;AACT,aAAO,KAAKY,QAAZ;AACH,KArBL,CAsBI;;AAtBJ;AAAA;AAAA,2CAuB2BK,CAvB3B,EAuB8B;AACtB,UAAMtB,OAAO,GAAG,KAAKC,QAAL,CAAcC,aAAd,CAA4BF,OAA5C;AACA,UAAMG,UAAU,GAAGH,OAAO,CAACI,GAAR,CAAY;AAAI;AAAhB,OAAnB;AACA,WAAKE,uBAAL,GAA+BH,UAAU,CAACI,sBAA1C;AACA,WAAKC,aAAL,GAAqBL,UAAU,CAACM,OAAX,CAAmBC,YAAxC;AACA,WAAKC,0BAAL,GAAkCR,UAAU,CAACS,yBAA7C;AACA,WAAKC,aAAL,GAAqBV,UAAU,CAACW,MAAhC;AACA,WAAKC,YAAL,GAAoBZ,UAAU,CAACa,KAA/B;AACA,aAAO,IAAP;AACH,KAhCL,CAiCI;;AAjCJ;AAAA;AAAA,8BAkCcO,MAlCd,EAkCsB;AACd,UAAMC,OAAO,GAAG7B,iBAAiB,CAAC4B,MAAM,CAACE,UAAP,EAAD,CAAjC;AACA,WAAKpB,QAAL,CAAckB,MAAM,CAACG,KAAP,EAAd,IAAgC;AAC5BH,QAAAA,MAAM,EAAEA,MADoB;AAE5BI,QAAAA,UAAU,EAAE,IAFgB;AAG5BH,QAAAA,OAAO,EAAEA;AAHmB,OAAhC,CAFc,CAOd;;AACAA,MAAAA,OAAO,CAACI,WAAR,CAAoB,UAApB;AACAJ,MAAAA,OAAO,CAACK,YAAR,CAAqB,UAArB,EAAiCN,MAAM,CAACG,KAAP,EAAjC;;AACA,WAAKT,QAAL,CAAca,WAAd,CAA0BN,OAA1B;;AACA,WAAKO,eAAL;AACH;AA9CL;AAAA;AAAA,sCA+CsBR,MA/CtB,EA+C8BI,UA/C9B,EA+C0C;AAClC,UAAMK,UAAU,GAAG,KAAK3B,QAAL,CAAckB,MAAM,CAACG,KAAP,EAAd,CAAnB;;AACA,UAAIM,UAAU,CAACL,UAAX,KAA0BA,UAA9B,EAA0C;AACtC,eAAO,KAAP;AACH;;AACDK,MAAAA,UAAU,CAACL,UAAX,GAAwBA,UAAxB;AACA,WAAKI,eAAL;AACA,aAAO,IAAP;AACH;AAvDL;AAAA;AAAA,iCAwDiBR,MAxDjB,EAwDyB;AACjB,UAAMU,QAAQ,GAAGV,MAAM,CAACG,KAAP,EAAjB;;AACA,UAAI,KAAKrB,QAAL,CAAc6B,cAAd,CAA6BD,QAA7B,CAAJ,EAA4C;AACxC,YAAMD,UAAU,GAAG,KAAK3B,QAAL,CAAc4B,QAAd,CAAnB;AACA,YAAMT,OAAO,GAAGQ,UAAU,CAACR,OAAX,CAAmBA,OAAnC;AACA,eAAO,KAAKnB,QAAL,CAAc4B,QAAd,CAAP;AACAT,QAAAA,OAAO,CAACW,UAAR,CAAmBC,WAAnB,CAA+BZ,OAA/B;AACA,aAAKO,eAAL;AACH;AACJ;AAjEL;AAAA;AAAA,kCAkEkBC,UAlElB,EAkE8B;AACtB,UAAMR,OAAO,GAAGQ,UAAU,CAACR,OAA3B;;AACA,UAAIQ,UAAU,CAACL,UAAX,KAA0B,IAA9B,EAAoC;AAChCH,QAAAA,OAAO,CAACa,QAAR;AACA;AACH;;AACD,UAAIL,UAAU,CAACL,UAAX,KAA0B;AAAE;AAAhC,QAAwD;AACpDH,UAAAA,OAAO,CAACc,MAAR,CAAe,CAAf;AACAd,UAAAA,OAAO,CAACe,QAAR,CAAkB,IAAI,KAAKjC,uBAAV,GAAqC,KAAKE,aAA3D;AACH,SAHD,MAIK,IAAIwB,UAAU,CAACL,UAAX,KAA0B;AAAE;AAAhC,QAA2D;AAC5D,cAAMa,YAAY,GAAGhB,OAAO,CAACA,OAAR,CAAgBiB,YAArC;AACAjB,UAAAA,OAAO,CAACc,MAAR,CAAgB,KAAKzB,aAAL,GAAqB2B,YAArB,GAAoC,IAAI,KAAK7B,0BAA7D;AACAa,UAAAA,OAAO,CAACe,QAAR,CAAkB,IAAI,KAAKjC,uBAAV,GAAqC,KAAKE,aAA3D;AACH,SAJI,MAKA,IAAIwB,UAAU,CAACL,UAAX,KAA0B;AAAE;AAAhC,QAAkD;AACnDH,UAAAA,OAAO,CAACc,MAAR,CAAe,CAAf;AACAd,UAAAA,OAAO,CAACA,OAAR,CAAgBkB,KAAhB,CAAsBC,KAAtB,GAA8B,KAA9B;AACH;AACJ;AArFL;AAAA;AAAA,kCAsFkBC,GAtFlB,EAsFuB,CACf;AACH;AAxFL;AAAA;AAAA,2BAyFWA,GAzFX,EAyFgB;AACR,WAAK3B,QAAL,CAAc4B,QAAd,CAAuB,KAAK9B,YAA5B;;AACA,UAAM+B,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY,KAAKzC,QAAjB,CAAb;;AACA,WAAK,IAAI2C,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGH,IAAI,CAACI,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;AAC7C,YAAMf,QAAQ,GAAGa,IAAI,CAACE,CAAD,CAArB;;AACA,aAAKG,aAAL,CAAmB,KAAK9C,QAAL,CAAc4B,QAAd,CAAnB;AACH;AACJ;AAhGL;;AAAA;AAAA,EAAwCpC,QAAxC","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './overlayWidgets.css';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { PartFingerprints, ViewPart } from '../../view/viewPart.js';\r\nexport class ViewOverlayWidgets extends ViewPart {\r\n    constructor(context) {\r\n        super(context);\r\n        const options = this._context.configuration.options;\r\n        const layoutInfo = options.get(124 /* layoutInfo */);\r\n        this._widgets = {};\r\n        this._verticalScrollbarWidth = layoutInfo.verticalScrollbarWidth;\r\n        this._minimapWidth = layoutInfo.minimap.minimapWidth;\r\n        this._horizontalScrollbarHeight = layoutInfo.horizontalScrollbarHeight;\r\n        this._editorHeight = layoutInfo.height;\r\n        this._editorWidth = layoutInfo.width;\r\n        this._domNode = createFastDomNode(document.createElement('div'));\r\n        PartFingerprints.write(this._domNode, 4 /* OverlayWidgets */);\r\n        this._domNode.setClassName('overlayWidgets');\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this._widgets = {};\r\n    }\r\n    getDomNode() {\r\n        return this._domNode;\r\n    }\r\n    // ---- begin view event handlers\r\n    onConfigurationChanged(e) {\r\n        const options = this._context.configuration.options;\r\n        const layoutInfo = options.get(124 /* layoutInfo */);\r\n        this._verticalScrollbarWidth = layoutInfo.verticalScrollbarWidth;\r\n        this._minimapWidth = layoutInfo.minimap.minimapWidth;\r\n        this._horizontalScrollbarHeight = layoutInfo.horizontalScrollbarHeight;\r\n        this._editorHeight = layoutInfo.height;\r\n        this._editorWidth = layoutInfo.width;\r\n        return true;\r\n    }\r\n    // ---- end view event handlers\r\n    addWidget(widget) {\r\n        const domNode = createFastDomNode(widget.getDomNode());\r\n        this._widgets[widget.getId()] = {\r\n            widget: widget,\r\n            preference: null,\r\n            domNode: domNode\r\n        };\r\n        // This is sync because a widget wants to be in the dom\r\n        domNode.setPosition('absolute');\r\n        domNode.setAttribute('widgetId', widget.getId());\r\n        this._domNode.appendChild(domNode);\r\n        this.setShouldRender();\r\n    }\r\n    setWidgetPosition(widget, preference) {\r\n        const widgetData = this._widgets[widget.getId()];\r\n        if (widgetData.preference === preference) {\r\n            return false;\r\n        }\r\n        widgetData.preference = preference;\r\n        this.setShouldRender();\r\n        return true;\r\n    }\r\n    removeWidget(widget) {\r\n        const widgetId = widget.getId();\r\n        if (this._widgets.hasOwnProperty(widgetId)) {\r\n            const widgetData = this._widgets[widgetId];\r\n            const domNode = widgetData.domNode.domNode;\r\n            delete this._widgets[widgetId];\r\n            domNode.parentNode.removeChild(domNode);\r\n            this.setShouldRender();\r\n        }\r\n    }\r\n    _renderWidget(widgetData) {\r\n        const domNode = widgetData.domNode;\r\n        if (widgetData.preference === null) {\r\n            domNode.unsetTop();\r\n            return;\r\n        }\r\n        if (widgetData.preference === 0 /* TOP_RIGHT_CORNER */) {\r\n            domNode.setTop(0);\r\n            domNode.setRight((2 * this._verticalScrollbarWidth) + this._minimapWidth);\r\n        }\r\n        else if (widgetData.preference === 1 /* BOTTOM_RIGHT_CORNER */) {\r\n            const widgetHeight = domNode.domNode.clientHeight;\r\n            domNode.setTop((this._editorHeight - widgetHeight - 2 * this._horizontalScrollbarHeight));\r\n            domNode.setRight((2 * this._verticalScrollbarWidth) + this._minimapWidth);\r\n        }\r\n        else if (widgetData.preference === 2 /* TOP_CENTER */) {\r\n            domNode.setTop(0);\r\n            domNode.domNode.style.right = '50%';\r\n        }\r\n    }\r\n    prepareRender(ctx) {\r\n        // Nothing to read\r\n    }\r\n    render(ctx) {\r\n        this._domNode.setWidth(this._editorWidth);\r\n        const keys = Object.keys(this._widgets);\r\n        for (let i = 0, len = keys.length; i < len; i++) {\r\n            const widgetId = keys[i];\r\n            this._renderWidget(this._widgets[widgetId]);\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}