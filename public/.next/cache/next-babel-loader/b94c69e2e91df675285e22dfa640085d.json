{"ast":null,"code":"import _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../common/event.js';\n\nvar WindowManager = /*#__PURE__*/function () {\n  function WindowManager() {\n    _classCallCheck(this, WindowManager);\n\n    // --- Zoom Level\n    this._zoomLevel = 0;\n    this._lastZoomLevelChangeTime = 0;\n    this._onDidChangeZoomLevel = new Emitter();\n    this.onDidChangeZoomLevel = this._onDidChangeZoomLevel.event; // --- Zoom Factor\n\n    this._zoomFactor = 1;\n  }\n\n  _createClass(WindowManager, [{\n    key: \"getZoomLevel\",\n    value: function getZoomLevel() {\n      return this._zoomLevel;\n    }\n  }, {\n    key: \"getTimeSinceLastZoomLevelChanged\",\n    value: function getTimeSinceLastZoomLevelChanged() {\n      return Date.now() - this._lastZoomLevelChangeTime;\n    }\n  }, {\n    key: \"getZoomFactor\",\n    value: function getZoomFactor() {\n      return this._zoomFactor;\n    } // --- Pixel Ratio\n\n  }, {\n    key: \"getPixelRatio\",\n    value: function getPixelRatio() {\n      var ctx = document.createElement('canvas').getContext('2d');\n      var dpr = window.devicePixelRatio || 1;\n      var bsr = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n      return dpr / bsr;\n    }\n  }]);\n\n  return WindowManager;\n}();\n\nWindowManager.INSTANCE = new WindowManager();\nexport function getZoomLevel() {\n  return WindowManager.INSTANCE.getZoomLevel();\n}\n/** Returns the time (in ms) since the zoom level was changed */\n\nexport function getTimeSinceLastZoomLevelChanged() {\n  return WindowManager.INSTANCE.getTimeSinceLastZoomLevelChanged();\n}\nexport function onDidChangeZoomLevel(callback) {\n  return WindowManager.INSTANCE.onDidChangeZoomLevel(callback);\n}\n/** The zoom scale for an index, e.g. 1, 1.2, 1.4 */\n\nexport function getZoomFactor() {\n  return WindowManager.INSTANCE.getZoomFactor();\n}\nexport function getPixelRatio() {\n  return WindowManager.INSTANCE.getPixelRatio();\n}\nvar userAgent = navigator.userAgent;\nexport var isEdgeLegacy = userAgent.indexOf('Edge/') >= 0;\nexport var isFirefox = userAgent.indexOf('Firefox') >= 0;\nexport var isWebKit = userAgent.indexOf('AppleWebKit') >= 0;\nexport var isChrome = userAgent.indexOf('Chrome') >= 0;\nexport var isSafari = !isChrome && userAgent.indexOf('Safari') >= 0;\nexport var isWebkitWebView = !isChrome && !isSafari && isWebKit;\nexport var isIPad = userAgent.indexOf('iPad') >= 0 || isSafari && navigator.maxTouchPoints > 0;\nexport var isEdgeLegacyWebView = isEdgeLegacy && userAgent.indexOf('WebView/') >= 0;\nexport var isElectron = userAgent.indexOf('Electron/') >= 0;\nexport var isStandalone = window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/base/browser/browser.js"],"names":["Emitter","WindowManager","_zoomLevel","_lastZoomLevelChangeTime","_onDidChangeZoomLevel","onDidChangeZoomLevel","event","_zoomFactor","Date","now","ctx","document","createElement","getContext","dpr","window","devicePixelRatio","bsr","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","INSTANCE","getZoomLevel","getTimeSinceLastZoomLevelChanged","callback","getZoomFactor","getPixelRatio","userAgent","navigator","isEdgeLegacy","indexOf","isFirefox","isWebKit","isChrome","isSafari","isWebkitWebView","isIPad","maxTouchPoints","isEdgeLegacyWebView","isElectron","isStandalone","matchMedia","matches"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../common/event.js';\r\nclass WindowManager {\r\n    constructor() {\r\n        // --- Zoom Level\r\n        this._zoomLevel = 0;\r\n        this._lastZoomLevelChangeTime = 0;\r\n        this._onDidChangeZoomLevel = new Emitter();\r\n        this.onDidChangeZoomLevel = this._onDidChangeZoomLevel.event;\r\n        // --- Zoom Factor\r\n        this._zoomFactor = 1;\r\n    }\r\n    getZoomLevel() {\r\n        return this._zoomLevel;\r\n    }\r\n    getTimeSinceLastZoomLevelChanged() {\r\n        return Date.now() - this._lastZoomLevelChangeTime;\r\n    }\r\n    getZoomFactor() {\r\n        return this._zoomFactor;\r\n    }\r\n    // --- Pixel Ratio\r\n    getPixelRatio() {\r\n        let ctx = document.createElement('canvas').getContext('2d');\r\n        let dpr = window.devicePixelRatio || 1;\r\n        let bsr = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1;\r\n        return dpr / bsr;\r\n    }\r\n}\r\nWindowManager.INSTANCE = new WindowManager();\r\nexport function getZoomLevel() {\r\n    return WindowManager.INSTANCE.getZoomLevel();\r\n}\r\n/** Returns the time (in ms) since the zoom level was changed */\r\nexport function getTimeSinceLastZoomLevelChanged() {\r\n    return WindowManager.INSTANCE.getTimeSinceLastZoomLevelChanged();\r\n}\r\nexport function onDidChangeZoomLevel(callback) {\r\n    return WindowManager.INSTANCE.onDidChangeZoomLevel(callback);\r\n}\r\n/** The zoom scale for an index, e.g. 1, 1.2, 1.4 */\r\nexport function getZoomFactor() {\r\n    return WindowManager.INSTANCE.getZoomFactor();\r\n}\r\nexport function getPixelRatio() {\r\n    return WindowManager.INSTANCE.getPixelRatio();\r\n}\r\nconst userAgent = navigator.userAgent;\r\nexport const isEdgeLegacy = (userAgent.indexOf('Edge/') >= 0);\r\nexport const isFirefox = (userAgent.indexOf('Firefox') >= 0);\r\nexport const isWebKit = (userAgent.indexOf('AppleWebKit') >= 0);\r\nexport const isChrome = (userAgent.indexOf('Chrome') >= 0);\r\nexport const isSafari = (!isChrome && (userAgent.indexOf('Safari') >= 0));\r\nexport const isWebkitWebView = (!isChrome && !isSafari && isWebKit);\r\nexport const isIPad = (userAgent.indexOf('iPad') >= 0 || (isSafari && navigator.maxTouchPoints > 0));\r\nexport const isEdgeLegacyWebView = isEdgeLegacy && (userAgent.indexOf('WebView/') >= 0);\r\nexport const isElectron = (userAgent.indexOf('Electron/') >= 0);\r\nexport const isStandalone = (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);\r\n"]},"metadata":{},"sourceType":"module"}