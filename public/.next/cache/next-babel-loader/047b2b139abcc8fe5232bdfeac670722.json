{"ast":null,"code":"import _toConsumableArray from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './button.css';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { Gesture, EventType as TouchEventType } from '../../touch.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { addDisposableListener, EventType, EventHelper, trackFocus, reset, removeTabIndexAndUpdateFocus } from '../../dom.js';\nvar defaultOptions = {\n  buttonBackground: Color.fromHex('#0E639C'),\n  buttonHoverBackground: Color.fromHex('#006BB3'),\n  buttonForeground: Color.white\n};\nexport var Button = /*#__PURE__*/function (_Disposable) {\n  _inherits(Button, _Disposable);\n\n  var _super = _createSuper(Button);\n\n  function Button(container, options) {\n    var _this;\n\n    _classCallCheck(this, Button);\n\n    _this = _super.call(this);\n    _this._onDidClick = _this._register(new Emitter());\n    _this.options = options || Object.create(null);\n    mixin(_this.options, defaultOptions, false);\n    _this.buttonForeground = _this.options.buttonForeground;\n    _this.buttonBackground = _this.options.buttonBackground;\n    _this.buttonHoverBackground = _this.options.buttonHoverBackground;\n    _this.buttonSecondaryForeground = _this.options.buttonSecondaryForeground;\n    _this.buttonSecondaryBackground = _this.options.buttonSecondaryBackground;\n    _this.buttonSecondaryHoverBackground = _this.options.buttonSecondaryHoverBackground;\n    _this.buttonBorder = _this.options.buttonBorder;\n    _this._element = document.createElement('a');\n\n    _this._element.classList.add('monaco-button');\n\n    _this._element.tabIndex = 0;\n\n    _this._element.setAttribute('role', 'button');\n\n    container.appendChild(_this._element);\n\n    _this._register(Gesture.addTarget(_this._element));\n\n    [EventType.CLICK, TouchEventType.Tap].forEach(function (eventType) {\n      _this._register(addDisposableListener(_this._element, eventType, function (e) {\n        if (!_this.enabled) {\n          EventHelper.stop(e);\n          return;\n        }\n\n        _this._onDidClick.fire(e);\n      }));\n    });\n\n    _this._register(addDisposableListener(_this._element, EventType.KEY_DOWN, function (e) {\n      var event = new StandardKeyboardEvent(e);\n      var eventHandled = false;\n\n      if (_this.enabled && (event.equals(3\n      /* Enter */\n      ) || event.equals(10\n      /* Space */\n      ))) {\n        _this._onDidClick.fire(e);\n\n        eventHandled = true;\n      } else if (event.equals(9\n      /* Escape */\n      )) {\n        _this._element.blur();\n\n        eventHandled = true;\n      }\n\n      if (eventHandled) {\n        EventHelper.stop(event, true);\n      }\n    }));\n\n    _this._register(addDisposableListener(_this._element, EventType.MOUSE_OVER, function (e) {\n      if (!_this._element.classList.contains('disabled')) {\n        _this.setHoverBackground();\n      }\n    }));\n\n    _this._register(addDisposableListener(_this._element, EventType.MOUSE_OUT, function (e) {\n      _this.applyStyles(); // restore standard styles\n\n    })); // Also set hover background when button is focused for feedback\n\n\n    _this.focusTracker = _this._register(trackFocus(_this._element));\n\n    _this._register(_this.focusTracker.onDidFocus(function () {\n      return _this.setHoverBackground();\n    }));\n\n    _this._register(_this.focusTracker.onDidBlur(function () {\n      return _this.applyStyles();\n    })); // restore standard styles\n\n\n    _this.applyStyles();\n\n    return _this;\n  }\n\n  _createClass(Button, [{\n    key: \"setHoverBackground\",\n    value: function setHoverBackground() {\n      var hoverBackground;\n\n      if (this.options.secondary) {\n        hoverBackground = this.buttonSecondaryHoverBackground ? this.buttonSecondaryHoverBackground.toString() : null;\n      } else {\n        hoverBackground = this.buttonHoverBackground ? this.buttonHoverBackground.toString() : null;\n      }\n\n      if (hoverBackground) {\n        this._element.style.backgroundColor = hoverBackground;\n      }\n    }\n  }, {\n    key: \"style\",\n    value: function style(styles) {\n      this.buttonForeground = styles.buttonForeground;\n      this.buttonBackground = styles.buttonBackground;\n      this.buttonHoverBackground = styles.buttonHoverBackground;\n      this.buttonSecondaryForeground = styles.buttonSecondaryForeground;\n      this.buttonSecondaryBackground = styles.buttonSecondaryBackground;\n      this.buttonSecondaryHoverBackground = styles.buttonSecondaryHoverBackground;\n      this.buttonBorder = styles.buttonBorder;\n      this.applyStyles();\n    }\n  }, {\n    key: \"applyStyles\",\n    value: function applyStyles() {\n      if (this._element) {\n        var background, foreground;\n\n        if (this.options.secondary) {\n          foreground = this.buttonSecondaryForeground ? this.buttonSecondaryForeground.toString() : '';\n          background = this.buttonSecondaryBackground ? this.buttonSecondaryBackground.toString() : '';\n        } else {\n          foreground = this.buttonForeground ? this.buttonForeground.toString() : '';\n          background = this.buttonBackground ? this.buttonBackground.toString() : '';\n        }\n\n        var border = this.buttonBorder ? this.buttonBorder.toString() : '';\n        this._element.style.color = foreground;\n        this._element.style.backgroundColor = background;\n        this._element.style.borderWidth = border ? '1px' : '';\n        this._element.style.borderStyle = border ? 'solid' : '';\n        this._element.style.borderColor = border;\n      }\n    }\n  }, {\n    key: \"onDidClick\",\n    get: function get() {\n      return this._onDidClick.event;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    }\n  }, {\n    key: \"label\",\n    set: function set(value) {\n      this._element.classList.add('monaco-text-button');\n\n      if (this.options.supportIcons) {\n        reset.apply(void 0, [this._element].concat(_toConsumableArray(renderLabelWithIcons(value))));\n      } else {\n        this._element.textContent = value;\n      }\n\n      if (typeof this.options.title === 'string') {\n        this._element.title = this.options.title;\n      } else if (this.options.title) {\n        this._element.title = value;\n      }\n    }\n  }, {\n    key: \"enabled\",\n    set: function set(value) {\n      if (value) {\n        this._element.classList.remove('disabled');\n\n        this._element.setAttribute('aria-disabled', String(false));\n\n        this._element.tabIndex = 0;\n      } else {\n        this._element.classList.add('disabled');\n\n        this._element.setAttribute('aria-disabled', String(true));\n\n        removeTabIndexAndUpdateFocus(this._element);\n      }\n    },\n    get: function get() {\n      return !this._element.classList.contains('disabled');\n    }\n  }]);\n\n  return Button;\n}(Disposable);","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/base/browser/ui/button/button.js"],"names":["StandardKeyboardEvent","Color","mixin","Emitter","Disposable","Gesture","EventType","TouchEventType","renderLabelWithIcons","addDisposableListener","EventHelper","trackFocus","reset","removeTabIndexAndUpdateFocus","defaultOptions","buttonBackground","fromHex","buttonHoverBackground","buttonForeground","white","Button","container","options","_onDidClick","_register","Object","create","buttonSecondaryForeground","buttonSecondaryBackground","buttonSecondaryHoverBackground","buttonBorder","_element","document","createElement","classList","add","tabIndex","setAttribute","appendChild","addTarget","CLICK","Tap","forEach","eventType","e","enabled","stop","fire","KEY_DOWN","event","eventHandled","equals","blur","MOUSE_OVER","contains","setHoverBackground","MOUSE_OUT","applyStyles","focusTracker","onDidFocus","onDidBlur","hoverBackground","secondary","toString","style","backgroundColor","styles","background","foreground","border","color","borderWidth","borderStyle","borderColor","value","supportIcons","textContent","title","remove","String"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './button.css';\r\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Gesture, EventType as TouchEventType } from '../../touch.js';\r\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\r\nimport { addDisposableListener, EventType, EventHelper, trackFocus, reset, removeTabIndexAndUpdateFocus } from '../../dom.js';\r\nconst defaultOptions = {\r\n    buttonBackground: Color.fromHex('#0E639C'),\r\n    buttonHoverBackground: Color.fromHex('#006BB3'),\r\n    buttonForeground: Color.white\r\n};\r\nexport class Button extends Disposable {\r\n    constructor(container, options) {\r\n        super();\r\n        this._onDidClick = this._register(new Emitter());\r\n        this.options = options || Object.create(null);\r\n        mixin(this.options, defaultOptions, false);\r\n        this.buttonForeground = this.options.buttonForeground;\r\n        this.buttonBackground = this.options.buttonBackground;\r\n        this.buttonHoverBackground = this.options.buttonHoverBackground;\r\n        this.buttonSecondaryForeground = this.options.buttonSecondaryForeground;\r\n        this.buttonSecondaryBackground = this.options.buttonSecondaryBackground;\r\n        this.buttonSecondaryHoverBackground = this.options.buttonSecondaryHoverBackground;\r\n        this.buttonBorder = this.options.buttonBorder;\r\n        this._element = document.createElement('a');\r\n        this._element.classList.add('monaco-button');\r\n        this._element.tabIndex = 0;\r\n        this._element.setAttribute('role', 'button');\r\n        container.appendChild(this._element);\r\n        this._register(Gesture.addTarget(this._element));\r\n        [EventType.CLICK, TouchEventType.Tap].forEach(eventType => {\r\n            this._register(addDisposableListener(this._element, eventType, e => {\r\n                if (!this.enabled) {\r\n                    EventHelper.stop(e);\r\n                    return;\r\n                }\r\n                this._onDidClick.fire(e);\r\n            }));\r\n        });\r\n        this._register(addDisposableListener(this._element, EventType.KEY_DOWN, e => {\r\n            const event = new StandardKeyboardEvent(e);\r\n            let eventHandled = false;\r\n            if (this.enabled && (event.equals(3 /* Enter */) || event.equals(10 /* Space */))) {\r\n                this._onDidClick.fire(e);\r\n                eventHandled = true;\r\n            }\r\n            else if (event.equals(9 /* Escape */)) {\r\n                this._element.blur();\r\n                eventHandled = true;\r\n            }\r\n            if (eventHandled) {\r\n                EventHelper.stop(event, true);\r\n            }\r\n        }));\r\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OVER, e => {\r\n            if (!this._element.classList.contains('disabled')) {\r\n                this.setHoverBackground();\r\n            }\r\n        }));\r\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OUT, e => {\r\n            this.applyStyles(); // restore standard styles\r\n        }));\r\n        // Also set hover background when button is focused for feedback\r\n        this.focusTracker = this._register(trackFocus(this._element));\r\n        this._register(this.focusTracker.onDidFocus(() => this.setHoverBackground()));\r\n        this._register(this.focusTracker.onDidBlur(() => this.applyStyles())); // restore standard styles\r\n        this.applyStyles();\r\n    }\r\n    get onDidClick() { return this._onDidClick.event; }\r\n    setHoverBackground() {\r\n        let hoverBackground;\r\n        if (this.options.secondary) {\r\n            hoverBackground = this.buttonSecondaryHoverBackground ? this.buttonSecondaryHoverBackground.toString() : null;\r\n        }\r\n        else {\r\n            hoverBackground = this.buttonHoverBackground ? this.buttonHoverBackground.toString() : null;\r\n        }\r\n        if (hoverBackground) {\r\n            this._element.style.backgroundColor = hoverBackground;\r\n        }\r\n    }\r\n    style(styles) {\r\n        this.buttonForeground = styles.buttonForeground;\r\n        this.buttonBackground = styles.buttonBackground;\r\n        this.buttonHoverBackground = styles.buttonHoverBackground;\r\n        this.buttonSecondaryForeground = styles.buttonSecondaryForeground;\r\n        this.buttonSecondaryBackground = styles.buttonSecondaryBackground;\r\n        this.buttonSecondaryHoverBackground = styles.buttonSecondaryHoverBackground;\r\n        this.buttonBorder = styles.buttonBorder;\r\n        this.applyStyles();\r\n    }\r\n    applyStyles() {\r\n        if (this._element) {\r\n            let background, foreground;\r\n            if (this.options.secondary) {\r\n                foreground = this.buttonSecondaryForeground ? this.buttonSecondaryForeground.toString() : '';\r\n                background = this.buttonSecondaryBackground ? this.buttonSecondaryBackground.toString() : '';\r\n            }\r\n            else {\r\n                foreground = this.buttonForeground ? this.buttonForeground.toString() : '';\r\n                background = this.buttonBackground ? this.buttonBackground.toString() : '';\r\n            }\r\n            const border = this.buttonBorder ? this.buttonBorder.toString() : '';\r\n            this._element.style.color = foreground;\r\n            this._element.style.backgroundColor = background;\r\n            this._element.style.borderWidth = border ? '1px' : '';\r\n            this._element.style.borderStyle = border ? 'solid' : '';\r\n            this._element.style.borderColor = border;\r\n        }\r\n    }\r\n    get element() {\r\n        return this._element;\r\n    }\r\n    set label(value) {\r\n        this._element.classList.add('monaco-text-button');\r\n        if (this.options.supportIcons) {\r\n            reset(this._element, ...renderLabelWithIcons(value));\r\n        }\r\n        else {\r\n            this._element.textContent = value;\r\n        }\r\n        if (typeof this.options.title === 'string') {\r\n            this._element.title = this.options.title;\r\n        }\r\n        else if (this.options.title) {\r\n            this._element.title = value;\r\n        }\r\n    }\r\n    set enabled(value) {\r\n        if (value) {\r\n            this._element.classList.remove('disabled');\r\n            this._element.setAttribute('aria-disabled', String(false));\r\n            this._element.tabIndex = 0;\r\n        }\r\n        else {\r\n            this._element.classList.add('disabled');\r\n            this._element.setAttribute('aria-disabled', String(true));\r\n            removeTabIndexAndUpdateFocus(this._element);\r\n        }\r\n    }\r\n    get enabled() {\r\n        return !this._element.classList.contains('disabled');\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}