{"ast":null,"code":"import _regeneratorRuntime from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport Axios from \"axios\";\nimport Head from \"next/head\";\nimport { useState } from \"react\";\nimport classNames from 'classnames';\nimport { useRouter } from \"next/router\";\nexport var __N_SSP = true;\nexport default function create() {\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      description = _useState3[0],\n      setDescription = _useState3[1];\n\n  var _useState4 = useState({}),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var router = useRouter();\n  var sub = router.query.sub;\n\n  var submitForm = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.prev = 1;\n              _context.next = 4;\n              return Axios.post('/subs', {\n                name: name,\n                title: title,\n                description: description,\n                subOfCommunity: sub\n              });\n\n            case 4:\n              res = _context.sent;\n              router.push(\"/r/\".concat(res.data.name));\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              setErrors(_context.t0.response.data);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function submitForm(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex bg-white\",\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Create a sub Community\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"h-screen bg-center bg-cover w-36\",\n      style: {\n        backgroundImage: \"url('/images/waterfall.jpg')\"\n      }\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex flex-col justify-center pl-6\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-98\",\n        children: [/*#__PURE__*/_jsxs(\"h1\", {\n          className: \"mb-2 text-lg font-medium\",\n          children: [\"Create a Sub Community for \", sub]\n        }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: submitForm,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"my-6\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"font-medium\",\n              children: \"Name\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-2 text-xs text-gray-500\",\n              children: \"Community name cannot be changed.\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: function onChange(e) {\n                return setName(e.target.value);\n              },\n              className: classNames(\"w-full p-3 border border-gray-200 rounded hover:border-gray-500\", {\n                'border-red-600': errors.name\n              })\n            }), /*#__PURE__*/_jsx(\"small\", {\n              className: \"font-medium text-red-600\",\n              children: errors.name\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"my-6\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"font-medium\",\n              children: \"Title\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-2 text-xs text-gray-500\",\n              children: \"Community title represents the topic of discussion and you can change it at any time.\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              value: title,\n              onChange: function onChange(e) {\n                return setTitle(e.target.value);\n              },\n              className: classNames(\"w-full p-3 border border-gray-200 rounded hover:border-gray-500\", {\n                'border-red-600': errors.title\n              })\n            }), /*#__PURE__*/_jsx(\"small\", {\n              className: \"font-medium text-red-600\",\n              children: errors.title\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"my-6\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"font-medium\",\n              children: \"Description\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-2 text-xs text-gray-500\",\n              children: \"Write a few lines about your community. It's optional.\"\n            }), /*#__PURE__*/_jsx(\"textarea\", {\n              value: description,\n              onChange: function onChange(e) {\n                return setDescription(e.target.value);\n              },\n              className: classNames(\"w-full p-3 border border-gray-200 rounded hover:border-gray-500\", {\n                'border-red-600': errors.description\n              })\n            }), /*#__PURE__*/_jsx(\"small\", {\n              className: \"font-medium text-red-600\",\n              children: errors.description\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsx(\"button\", {\n              className: \"px-4 py-1 text-sm font-semibold capitalize blue button\",\n              children: \"Create Community\"\n            })\n          })]\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}