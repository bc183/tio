{"ast":null,"code":"import _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './rulers.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { editorRuler } from '../../../common/view/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport var Rulers = /*#__PURE__*/function (_ViewPart) {\n  _inherits(Rulers, _ViewPart);\n\n  var _super = _createSuper(Rulers);\n\n  function Rulers(context) {\n    var _this;\n\n    _classCallCheck(this, Rulers);\n\n    _this = _super.call(this, context);\n    _this.domNode = createFastDomNode(document.createElement('div'));\n\n    _this.domNode.setAttribute('role', 'presentation');\n\n    _this.domNode.setAttribute('aria-hidden', 'true');\n\n    _this.domNode.setClassName('view-rulers');\n\n    _this._renderedRulers = [];\n    var options = _this._context.configuration.options;\n    _this._rulers = options.get(86\n    /* rulers */\n    );\n    _this._typicalHalfwidthCharacterWidth = options.get(38\n    /* fontInfo */\n    ).typicalHalfwidthCharacterWidth;\n    return _this;\n  }\n\n  _createClass(Rulers, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(Rulers.prototype), \"dispose\", this).call(this);\n    } // --- begin event handlers\n\n  }, {\n    key: \"onConfigurationChanged\",\n    value: function onConfigurationChanged(e) {\n      var options = this._context.configuration.options;\n      this._rulers = options.get(86\n      /* rulers */\n      );\n      this._typicalHalfwidthCharacterWidth = options.get(38\n      /* fontInfo */\n      ).typicalHalfwidthCharacterWidth;\n      return true;\n    }\n  }, {\n    key: \"onScrollChanged\",\n    value: function onScrollChanged(e) {\n      return e.scrollHeightChanged;\n    } // --- end event handlers\n\n  }, {\n    key: \"prepareRender\",\n    value: function prepareRender(ctx) {// Nothing to read\n    }\n  }, {\n    key: \"_ensureRulersCount\",\n    value: function _ensureRulersCount() {\n      var currentCount = this._renderedRulers.length;\n      var desiredCount = this._rulers.length;\n\n      if (currentCount === desiredCount) {\n        // Nothing to do\n        return;\n      }\n\n      if (currentCount < desiredCount) {\n        var _this$_context$model$ = this._context.model.getTextModelOptions(),\n            tabSize = _this$_context$model$.tabSize;\n\n        var rulerWidth = tabSize;\n        var addCount = desiredCount - currentCount;\n\n        while (addCount > 0) {\n          var node = createFastDomNode(document.createElement('div'));\n          node.setClassName('view-ruler');\n          node.setWidth(rulerWidth);\n          this.domNode.appendChild(node);\n\n          this._renderedRulers.push(node);\n\n          addCount--;\n        }\n\n        return;\n      }\n\n      var removeCount = currentCount - desiredCount;\n\n      while (removeCount > 0) {\n        var _node = this._renderedRulers.pop();\n\n        this.domNode.removeChild(_node);\n        removeCount--;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(ctx) {\n      this._ensureRulersCount();\n\n      for (var i = 0, len = this._rulers.length; i < len; i++) {\n        var node = this._renderedRulers[i];\n        var ruler = this._rulers[i];\n        node.setBoxShadow(ruler.color ? \"1px 0 0 0 \".concat(ruler.color, \" inset\") : \"\");\n        node.setHeight(Math.min(ctx.scrollHeight, 1000000));\n        node.setLeft(ruler.column * this._typicalHalfwidthCharacterWidth);\n      }\n    }\n  }]);\n\n  return Rulers;\n}(ViewPart);\nregisterThemingParticipant(function (theme, collector) {\n  var rulerColor = theme.getColor(editorRuler);\n\n  if (rulerColor) {\n    collector.addRule(\".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 \".concat(rulerColor, \" inset; }\"));\n  }\n});","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/rulers/rulers.js"],"names":["createFastDomNode","ViewPart","editorRuler","registerThemingParticipant","Rulers","context","domNode","document","createElement","setAttribute","setClassName","_renderedRulers","options","_context","configuration","_rulers","get","_typicalHalfwidthCharacterWidth","typicalHalfwidthCharacterWidth","e","scrollHeightChanged","ctx","currentCount","length","desiredCount","model","getTextModelOptions","tabSize","rulerWidth","addCount","node","setWidth","appendChild","push","removeCount","pop","removeChild","_ensureRulersCount","i","len","ruler","setBoxShadow","color","setHeight","Math","min","scrollHeight","setLeft","column","theme","collector","rulerColor","getColor","addRule"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './rulers.css';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { ViewPart } from '../../view/viewPart.js';\r\nimport { editorRuler } from '../../../common/view/editorColorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nexport class Rulers extends ViewPart {\r\n    constructor(context) {\r\n        super(context);\r\n        this.domNode = createFastDomNode(document.createElement('div'));\r\n        this.domNode.setAttribute('role', 'presentation');\r\n        this.domNode.setAttribute('aria-hidden', 'true');\r\n        this.domNode.setClassName('view-rulers');\r\n        this._renderedRulers = [];\r\n        const options = this._context.configuration.options;\r\n        this._rulers = options.get(86 /* rulers */);\r\n        this._typicalHalfwidthCharacterWidth = options.get(38 /* fontInfo */).typicalHalfwidthCharacterWidth;\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n    // --- begin event handlers\r\n    onConfigurationChanged(e) {\r\n        const options = this._context.configuration.options;\r\n        this._rulers = options.get(86 /* rulers */);\r\n        this._typicalHalfwidthCharacterWidth = options.get(38 /* fontInfo */).typicalHalfwidthCharacterWidth;\r\n        return true;\r\n    }\r\n    onScrollChanged(e) {\r\n        return e.scrollHeightChanged;\r\n    }\r\n    // --- end event handlers\r\n    prepareRender(ctx) {\r\n        // Nothing to read\r\n    }\r\n    _ensureRulersCount() {\r\n        const currentCount = this._renderedRulers.length;\r\n        const desiredCount = this._rulers.length;\r\n        if (currentCount === desiredCount) {\r\n            // Nothing to do\r\n            return;\r\n        }\r\n        if (currentCount < desiredCount) {\r\n            const { tabSize } = this._context.model.getTextModelOptions();\r\n            const rulerWidth = tabSize;\r\n            let addCount = desiredCount - currentCount;\r\n            while (addCount > 0) {\r\n                const node = createFastDomNode(document.createElement('div'));\r\n                node.setClassName('view-ruler');\r\n                node.setWidth(rulerWidth);\r\n                this.domNode.appendChild(node);\r\n                this._renderedRulers.push(node);\r\n                addCount--;\r\n            }\r\n            return;\r\n        }\r\n        let removeCount = currentCount - desiredCount;\r\n        while (removeCount > 0) {\r\n            const node = this._renderedRulers.pop();\r\n            this.domNode.removeChild(node);\r\n            removeCount--;\r\n        }\r\n    }\r\n    render(ctx) {\r\n        this._ensureRulersCount();\r\n        for (let i = 0, len = this._rulers.length; i < len; i++) {\r\n            const node = this._renderedRulers[i];\r\n            const ruler = this._rulers[i];\r\n            node.setBoxShadow(ruler.color ? `1px 0 0 0 ${ruler.color} inset` : ``);\r\n            node.setHeight(Math.min(ctx.scrollHeight, 1000000));\r\n            node.setLeft(ruler.column * this._typicalHalfwidthCharacterWidth);\r\n        }\r\n    }\r\n}\r\nregisterThemingParticipant((theme, collector) => {\r\n    const rulerColor = theme.getColor(editorRuler);\r\n    if (rulerColor) {\r\n        collector.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${rulerColor} inset; }`);\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}