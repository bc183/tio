{"ast":null,"code":"import _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { inputBackground, inputForeground, inputBorder, inputValidationInfoBackground, inputValidationInfoForeground, inputValidationInfoBorder, inputValidationWarningBackground, inputValidationWarningForeground, inputValidationWarningBorder, inputValidationErrorBackground, inputValidationErrorForeground, inputValidationErrorBorder, badgeBackground, badgeForeground, contrastBorder, buttonForeground, buttonBackground, buttonHoverBackground, progressBarBackground, widgetShadow, listFocusForeground, listFocusBackground, activeContrastBorder, pickerGroupBorder, pickerGroupForeground, quickInputForeground, quickInputBackground, quickInputTitleBackground } from '../../theme/common/colorRegistry.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { computeStyles as _computeStyles } from '../../theme/common/styler.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nimport { QuickInputController } from '../../../base/parts/quickinput/browser/quickInput.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { QuickAccessController } from './quickAccess.js';\n\nvar QuickInputService = /*#__PURE__*/function (_Themable) {\n  _inherits(QuickInputService, _Themable);\n\n  var _super = _createSuper(QuickInputService);\n\n  function QuickInputService(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\n    var _this;\n\n    _classCallCheck(this, QuickInputService);\n\n    _this = _super.call(this, themeService);\n    _this.instantiationService = instantiationService;\n    _this.contextKeyService = contextKeyService;\n    _this.accessibilityService = accessibilityService;\n    _this.layoutService = layoutService;\n    _this.contexts = new Map();\n    return _this;\n  }\n\n  _createClass(QuickInputService, [{\n    key: \"createController\",\n    value: function createController() {\n      var _this2 = this;\n\n      var host = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.layoutService;\n      var options = arguments.length > 1 ? arguments[1] : undefined;\n\n      var _a, _b;\n\n      var defaultOptions = {\n        idPrefix: 'quickInput_',\n        container: host.container,\n        ignoreFocusOut: function ignoreFocusOut() {\n          return false;\n        },\n        isScreenReaderOptimized: function isScreenReaderOptimized() {\n          return _this2.accessibilityService.isScreenReaderOptimized();\n        },\n        backKeybindingLabel: function backKeybindingLabel() {\n          return undefined;\n        },\n        setContextKey: function setContextKey(id) {\n          return _this2.setContextKey(id);\n        },\n        returnFocus: function returnFocus() {\n          return host.focus();\n        },\n        createList: function createList(user, container, delegate, renderers, options) {\n          return _this2.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options);\n        },\n        styles: this.computeStyles()\n      };\n\n      var controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n\n      controller.layout(host.dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0); // Layout changes\n\n      this._register(host.onLayout(function (dimension) {\n        var _a, _b;\n\n        return controller.layout(dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0);\n      })); // Context keys\n\n\n      this._register(controller.onShow(function () {\n        return _this2.resetContextKeys();\n      }));\n\n      this._register(controller.onHide(function () {\n        return _this2.resetContextKeys();\n      }));\n\n      return controller;\n    }\n  }, {\n    key: \"setContextKey\",\n    value: function setContextKey(id) {\n      var key;\n\n      if (id) {\n        key = this.contexts.get(id);\n\n        if (!key) {\n          key = new RawContextKey(id, false).bindTo(this.contextKeyService);\n          this.contexts.set(id, key);\n        }\n      }\n\n      if (key && key.get()) {\n        return; // already active context\n      }\n\n      this.resetContextKeys();\n\n      if (key) {\n        key.set(true);\n      }\n    }\n  }, {\n    key: \"resetContextKeys\",\n    value: function resetContextKeys() {\n      this.contexts.forEach(function (context) {\n        if (context.get()) {\n          context.reset();\n        }\n      });\n    }\n  }, {\n    key: \"pick\",\n    value: function pick(picks) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var token = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : CancellationToken.None;\n      return this.controller.pick(picks, options, token);\n    }\n  }, {\n    key: \"createQuickPick\",\n    value: function createQuickPick() {\n      return this.controller.createQuickPick();\n    }\n  }, {\n    key: \"updateStyles\",\n    value: function updateStyles() {\n      this.controller.applyStyles(this.computeStyles());\n    }\n  }, {\n    key: \"computeStyles\",\n    value: function computeStyles() {\n      return {\n        widget: Object.assign({}, _computeStyles(this.theme, {\n          quickInputBackground: quickInputBackground,\n          quickInputForeground: quickInputForeground,\n          quickInputTitleBackground: quickInputTitleBackground,\n          contrastBorder: contrastBorder,\n          widgetShadow: widgetShadow\n        })),\n        inputBox: _computeStyles(this.theme, {\n          inputForeground: inputForeground,\n          inputBackground: inputBackground,\n          inputBorder: inputBorder,\n          inputValidationInfoBackground: inputValidationInfoBackground,\n          inputValidationInfoForeground: inputValidationInfoForeground,\n          inputValidationInfoBorder: inputValidationInfoBorder,\n          inputValidationWarningBackground: inputValidationWarningBackground,\n          inputValidationWarningForeground: inputValidationWarningForeground,\n          inputValidationWarningBorder: inputValidationWarningBorder,\n          inputValidationErrorBackground: inputValidationErrorBackground,\n          inputValidationErrorForeground: inputValidationErrorForeground,\n          inputValidationErrorBorder: inputValidationErrorBorder\n        }),\n        countBadge: _computeStyles(this.theme, {\n          badgeBackground: badgeBackground,\n          badgeForeground: badgeForeground,\n          badgeBorder: contrastBorder\n        }),\n        button: _computeStyles(this.theme, {\n          buttonForeground: buttonForeground,\n          buttonBackground: buttonBackground,\n          buttonHoverBackground: buttonHoverBackground,\n          buttonBorder: contrastBorder\n        }),\n        progressBar: _computeStyles(this.theme, {\n          progressBarBackground: progressBarBackground\n        }),\n        list: _computeStyles(this.theme, {\n          listBackground: quickInputBackground,\n          // Look like focused when inactive.\n          listInactiveFocusForeground: listFocusForeground,\n          listInactiveFocusBackground: listFocusBackground,\n          listFocusOutline: activeContrastBorder,\n          listInactiveFocusOutline: activeContrastBorder,\n          pickerGroupBorder: pickerGroupBorder,\n          pickerGroupForeground: pickerGroupForeground\n        })\n      };\n    }\n  }, {\n    key: \"controller\",\n    get: function get() {\n      if (!this._controller) {\n        this._controller = this._register(this.createController());\n      }\n\n      return this._controller;\n    }\n  }, {\n    key: \"quickAccess\",\n    get: function get() {\n      if (!this._quickAccess) {\n        this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n      }\n\n      return this._quickAccess;\n    }\n  }]);\n\n  return QuickInputService;\n}(Themable);\n\nQuickInputService = __decorate([__param(0, IInstantiationService), __param(1, IContextKeyService), __param(2, IThemeService), __param(3, IAccessibilityService), __param(4, ILayoutService)], QuickInputService);\nexport { QuickInputService };","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ILayoutService","IInstantiationService","IThemeService","Themable","inputBackground","inputForeground","inputBorder","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationInfoBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationWarningBorder","inputValidationErrorBackground","inputValidationErrorForeground","inputValidationErrorBorder","badgeBackground","badgeForeground","contrastBorder","buttonForeground","buttonBackground","buttonHoverBackground","progressBarBackground","widgetShadow","listFocusForeground","listFocusBackground","activeContrastBorder","pickerGroupBorder","pickerGroupForeground","quickInputForeground","quickInputBackground","quickInputTitleBackground","CancellationToken","computeStyles","IContextKeyService","RawContextKey","IAccessibilityService","QuickInputController","WorkbenchList","QuickAccessController","QuickInputService","instantiationService","contextKeyService","themeService","accessibilityService","layoutService","contexts","Map","host","options","_a","_b","defaultOptions","idPrefix","container","ignoreFocusOut","isScreenReaderOptimized","backKeybindingLabel","undefined","setContextKey","id","returnFocus","focus","createList","user","delegate","renderers","createInstance","styles","controller","_register","assign","layout","dimension","offset","top","onLayout","onShow","resetContextKeys","onHide","get","bindTo","set","forEach","context","reset","picks","token","None","pick","createQuickPick","applyStyles","widget","theme","inputBox","countBadge","badgeBorder","button","buttonBorder","progressBar","list","listBackground","listInactiveFocusForeground","listInactiveFocusBackground","listFocusOutline","listInactiveFocusOutline","_controller","createController","_quickAccess"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\r\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\r\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\r\nimport { inputBackground, inputForeground, inputBorder, inputValidationInfoBackground, inputValidationInfoForeground, inputValidationInfoBorder, inputValidationWarningBackground, inputValidationWarningForeground, inputValidationWarningBorder, inputValidationErrorBackground, inputValidationErrorForeground, inputValidationErrorBorder, badgeBackground, badgeForeground, contrastBorder, buttonForeground, buttonBackground, buttonHoverBackground, progressBarBackground, widgetShadow, listFocusForeground, listFocusBackground, activeContrastBorder, pickerGroupBorder, pickerGroupForeground, quickInputForeground, quickInputBackground, quickInputTitleBackground } from '../../theme/common/colorRegistry.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { computeStyles } from '../../theme/common/styler.js';\r\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\r\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\r\nimport { QuickInputController } from '../../../base/parts/quickinput/browser/quickInput.js';\r\nimport { WorkbenchList } from '../../list/browser/listService.js';\r\nimport { QuickAccessController } from './quickAccess.js';\r\nlet QuickInputService = class QuickInputService extends Themable {\r\n    constructor(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\r\n        super(themeService);\r\n        this.instantiationService = instantiationService;\r\n        this.contextKeyService = contextKeyService;\r\n        this.accessibilityService = accessibilityService;\r\n        this.layoutService = layoutService;\r\n        this.contexts = new Map();\r\n    }\r\n    get controller() {\r\n        if (!this._controller) {\r\n            this._controller = this._register(this.createController());\r\n        }\r\n        return this._controller;\r\n    }\r\n    get quickAccess() {\r\n        if (!this._quickAccess) {\r\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\r\n        }\r\n        return this._quickAccess;\r\n    }\r\n    createController(host = this.layoutService, options) {\r\n        var _a, _b;\r\n        const defaultOptions = {\r\n            idPrefix: 'quickInput_',\r\n            container: host.container,\r\n            ignoreFocusOut: () => false,\r\n            isScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\r\n            backKeybindingLabel: () => undefined,\r\n            setContextKey: (id) => this.setContextKey(id),\r\n            returnFocus: () => host.focus(),\r\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\r\n            styles: this.computeStyles()\r\n        };\r\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\r\n        controller.layout(host.dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0);\r\n        // Layout changes\r\n        this._register(host.onLayout(dimension => { var _a, _b; return controller.layout(dimension, (_b = (_a = host.offset) === null || _a === void 0 ? void 0 : _a.top) !== null && _b !== void 0 ? _b : 0); }));\r\n        // Context keys\r\n        this._register(controller.onShow(() => this.resetContextKeys()));\r\n        this._register(controller.onHide(() => this.resetContextKeys()));\r\n        return controller;\r\n    }\r\n    setContextKey(id) {\r\n        let key;\r\n        if (id) {\r\n            key = this.contexts.get(id);\r\n            if (!key) {\r\n                key = new RawContextKey(id, false)\r\n                    .bindTo(this.contextKeyService);\r\n                this.contexts.set(id, key);\r\n            }\r\n        }\r\n        if (key && key.get()) {\r\n            return; // already active context\r\n        }\r\n        this.resetContextKeys();\r\n        if (key) {\r\n            key.set(true);\r\n        }\r\n    }\r\n    resetContextKeys() {\r\n        this.contexts.forEach(context => {\r\n            if (context.get()) {\r\n                context.reset();\r\n            }\r\n        });\r\n    }\r\n    pick(picks, options = {}, token = CancellationToken.None) {\r\n        return this.controller.pick(picks, options, token);\r\n    }\r\n    createQuickPick() {\r\n        return this.controller.createQuickPick();\r\n    }\r\n    updateStyles() {\r\n        this.controller.applyStyles(this.computeStyles());\r\n    }\r\n    computeStyles() {\r\n        return {\r\n            widget: Object.assign({}, computeStyles(this.theme, {\r\n                quickInputBackground,\r\n                quickInputForeground,\r\n                quickInputTitleBackground,\r\n                contrastBorder,\r\n                widgetShadow\r\n            })),\r\n            inputBox: computeStyles(this.theme, {\r\n                inputForeground,\r\n                inputBackground,\r\n                inputBorder,\r\n                inputValidationInfoBackground,\r\n                inputValidationInfoForeground,\r\n                inputValidationInfoBorder,\r\n                inputValidationWarningBackground,\r\n                inputValidationWarningForeground,\r\n                inputValidationWarningBorder,\r\n                inputValidationErrorBackground,\r\n                inputValidationErrorForeground,\r\n                inputValidationErrorBorder\r\n            }),\r\n            countBadge: computeStyles(this.theme, {\r\n                badgeBackground,\r\n                badgeForeground,\r\n                badgeBorder: contrastBorder\r\n            }),\r\n            button: computeStyles(this.theme, {\r\n                buttonForeground,\r\n                buttonBackground,\r\n                buttonHoverBackground,\r\n                buttonBorder: contrastBorder\r\n            }),\r\n            progressBar: computeStyles(this.theme, {\r\n                progressBarBackground\r\n            }),\r\n            list: computeStyles(this.theme, {\r\n                listBackground: quickInputBackground,\r\n                // Look like focused when inactive.\r\n                listInactiveFocusForeground: listFocusForeground,\r\n                listInactiveFocusBackground: listFocusBackground,\r\n                listFocusOutline: activeContrastBorder,\r\n                listInactiveFocusOutline: activeContrastBorder,\r\n                pickerGroupBorder,\r\n                pickerGroupForeground\r\n            })\r\n        };\r\n    }\r\n};\r\nQuickInputService = __decorate([\r\n    __param(0, IInstantiationService),\r\n    __param(1, IContextKeyService),\r\n    __param(2, IThemeService),\r\n    __param(3, IAccessibilityService),\r\n    __param(4, ILayoutService)\r\n], QuickInputService);\r\nexport { QuickInputService };\r\n"]},"metadata":{},"sourceType":"module"}