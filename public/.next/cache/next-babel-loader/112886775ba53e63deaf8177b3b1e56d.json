{"ast":null,"code":"import _toConsumableArray from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport './media/quickInput.css';\nimport * as dom from '../../../browser/dom.js';\nimport { dispose as _dispose } from '../../../common/lifecycle.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { range } from '../../../common/arrays.js';\nimport * as platform from '../../../common/platform.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../common/actions.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { localize } from '../../../../nls.js';\nvar $ = dom.$;\n\nvar ListElement = /*#__PURE__*/function () {\n  function ListElement(init) {\n    _classCallCheck(this, ListElement);\n\n    this.hidden = false;\n    this._onChecked = new Emitter();\n    this.onChecked = this._onChecked.event;\n    Object.assign(this, init);\n  }\n\n  _createClass(ListElement, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._onChecked.dispose();\n    }\n  }, {\n    key: \"checked\",\n    get: function get() {\n      return !!this._checked;\n    },\n    set: function set(value) {\n      if (value !== this._checked) {\n        this._checked = value;\n\n        this._onChecked.fire(value);\n      }\n    }\n  }]);\n\n  return ListElement;\n}();\n\nvar ListElementRenderer = /*#__PURE__*/function () {\n  function ListElementRenderer() {\n    _classCallCheck(this, ListElementRenderer);\n  }\n\n  _createClass(ListElementRenderer, [{\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      var data = Object.create(null);\n      data.toDisposeElement = [];\n      data.toDisposeTemplate = [];\n      data.entry = dom.append(container, $('.quick-input-list-entry')); // Checkbox\n\n      var label = dom.append(data.entry, $('label.quick-input-list-label'));\n      data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, function (e) {\n        if (!data.checkbox.offsetParent) {\n          // If checkbox not visible:\n          e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n        }\n      }));\n      data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n      data.checkbox.type = 'checkbox';\n      data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, function (e) {\n        data.element.checked = data.checkbox.checked;\n      })); // Rows\n\n      var rows = dom.append(label, $('.quick-input-list-rows'));\n      var row1 = dom.append(rows, $('.quick-input-list-row'));\n      var row2 = dom.append(rows, $('.quick-input-list-row')); // Label\n\n      data.label = new IconLabel(row1, {\n        supportHighlights: true,\n        supportDescriptionHighlights: true,\n        supportIcons: true\n      }); // Keybinding\n\n      var keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n      data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS); // Detail\n\n      var detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n      data.detail = new HighlightedLabel(detailContainer, true); // Separator\n\n      data.separator = dom.append(data.entry, $('.quick-input-list-separator')); // Actions\n\n      data.actionBar = new ActionBar(data.entry);\n      data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n      data.toDisposeTemplate.push(data.actionBar);\n      return data;\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(element, index, data) {\n      var _this = this;\n\n      data.toDisposeElement = _dispose(data.toDisposeElement);\n      data.element = element;\n      data.checkbox.checked = element.checked;\n      data.toDisposeElement.push(element.onChecked(function (checked) {\n        return data.checkbox.checked = checked;\n      }));\n      var labelHighlights = element.labelHighlights,\n          descriptionHighlights = element.descriptionHighlights,\n          detailHighlights = element.detailHighlights; // Label\n\n      var options = Object.create(null);\n      options.matches = labelHighlights || [];\n      options.descriptionTitle = element.saneDescription;\n      options.descriptionMatches = descriptionHighlights || [];\n      options.extraClasses = element.item.iconClasses;\n      options.italic = element.item.italic;\n      options.strikethrough = element.item.strikethrough;\n      data.label.setLabel(element.saneLabel, element.saneDescription, options); // Keybinding\n\n      data.keybinding.set(element.item.keybinding); // Meta\n\n      data.detail.set(element.saneDetail, detailHighlights); // Separator\n\n      if (element.separator && element.separator.label) {\n        data.separator.textContent = element.separator.label;\n        data.separator.style.display = '';\n      } else {\n        data.separator.style.display = 'none';\n      }\n\n      data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator); // Actions\n\n      data.actionBar.clear();\n      var buttons = element.item.buttons;\n\n      if (buttons && buttons.length) {\n        data.actionBar.push(buttons.map(function (button, index) {\n          var cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n\n          if (button.alwaysVisible) {\n            cssClasses = cssClasses ? \"\".concat(cssClasses, \" always-visible\") : 'always-visible';\n          }\n\n          var action = new Action(\"id-\".concat(index), '', cssClasses, true, function () {\n            return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      element.fireButtonTriggered({\n                        button: button,\n                        item: element.item\n                      });\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n          });\n          action.tooltip = button.tooltip || '';\n          return action;\n        }), {\n          icon: true,\n          label: false\n        });\n        data.entry.classList.add('has-actions');\n      } else {\n        data.entry.classList.remove('has-actions');\n      }\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(element, index, data) {\n      data.toDisposeElement = _dispose(data.toDisposeElement);\n    }\n  }, {\n    key: \"disposeTemplate\",\n    value: function disposeTemplate(data) {\n      data.toDisposeElement = _dispose(data.toDisposeElement);\n      data.toDisposeTemplate = _dispose(data.toDisposeTemplate);\n    }\n  }, {\n    key: \"templateId\",\n    get: function get() {\n      return ListElementRenderer.ID;\n    }\n  }]);\n\n  return ListElementRenderer;\n}();\n\nListElementRenderer.ID = 'listelement';\n\nvar ListElementDelegate = /*#__PURE__*/function () {\n  function ListElementDelegate() {\n    _classCallCheck(this, ListElementDelegate);\n  }\n\n  _createClass(ListElementDelegate, [{\n    key: \"getHeight\",\n    value: function getHeight(element) {\n      return element.saneDetail ? 44 : 22;\n    }\n  }, {\n    key: \"getTemplateId\",\n    value: function getTemplateId(element) {\n      return ListElementRenderer.ID;\n    }\n  }]);\n\n  return ListElementDelegate;\n}();\n\nexport var QuickInputListFocus;\n\n(function (QuickInputListFocus) {\n  QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n  QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n  QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n  QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n  QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n  QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n  QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\n\nexport var QuickInputList = /*#__PURE__*/function () {\n  function QuickInputList(parent, id, options) {\n    var _this2 = this;\n\n    _classCallCheck(this, QuickInputList);\n\n    this.parent = parent;\n    this.inputElements = [];\n    this.elements = [];\n    this.elementsToIndexes = new Map();\n    this.matchOnDescription = false;\n    this.matchOnDetail = false;\n    this.matchOnLabel = true;\n    this.matchOnMeta = true;\n    this.sortByLabel = true;\n    this._onChangedAllVisibleChecked = new Emitter();\n    this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n    this._onChangedCheckedCount = new Emitter();\n    this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n    this._onChangedVisibleCount = new Emitter();\n    this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n    this._onChangedCheckedElements = new Emitter();\n    this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n    this._onButtonTriggered = new Emitter();\n    this.onButtonTriggered = this._onButtonTriggered.event;\n    this._onKeyDown = new Emitter();\n    this.onKeyDown = this._onKeyDown.event;\n    this._onLeave = new Emitter();\n    this.onLeave = this._onLeave.event;\n    this._fireCheckedEvents = true;\n    this.elementDisposables = [];\n    this.disposables = [];\n    this.id = id;\n    this.container = dom.append(this.parent, $('.quick-input-list'));\n    var delegate = new ListElementDelegate();\n    var accessibilityProvider = new QuickInputAccessibilityProvider();\n    this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n      identityProvider: {\n        getId: function getId(element) {\n          return element.saneLabel;\n        }\n      },\n      setRowLineHeight: false,\n      multipleSelectionSupport: false,\n      horizontalScrolling: false,\n      accessibilityProvider: accessibilityProvider\n    });\n    this.list.getHTMLElement().id = id;\n    this.disposables.push(this.list);\n    this.disposables.push(this.list.onKeyDown(function (e) {\n      var event = new StandardKeyboardEvent(e);\n\n      switch (event.keyCode) {\n        case 10\n        /* Space */\n        :\n          _this2.toggleCheckbox();\n\n          break;\n\n        case 31\n        /* KEY_A */\n        :\n          if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n            _this2.list.setFocus(range(_this2.list.length));\n          }\n\n          break;\n\n        case 16\n        /* UpArrow */\n        :\n          var focus1 = _this2.list.getFocus();\n\n          if (focus1.length === 1 && focus1[0] === 0) {\n            _this2._onLeave.fire();\n          }\n\n          break;\n\n        case 18\n        /* DownArrow */\n        :\n          var focus2 = _this2.list.getFocus();\n\n          if (focus2.length === 1 && focus2[0] === _this2.list.length - 1) {\n            _this2._onLeave.fire();\n          }\n\n          break;\n      }\n\n      _this2._onKeyDown.fire(event);\n    }));\n    this.disposables.push(this.list.onMouseDown(function (e) {\n      if (e.browserEvent.button !== 2) {\n        // Works around / fixes #64350.\n        e.browserEvent.preventDefault();\n      }\n    }));\n    this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, function (e) {\n      if (e.x || e.y) {\n        // Avoid 'click' triggered by 'space' on checkbox.\n        _this2._onLeave.fire();\n      }\n    }));\n    this.disposables.push(this.list.onMouseMiddleClick(function (e) {\n      _this2._onLeave.fire();\n    }));\n    this.disposables.push(this.list.onContextMenu(function (e) {\n      if (typeof e.index === 'number') {\n        e.browserEvent.preventDefault(); // we want to treat a context menu event as\n        // a gesture to open the item at the index\n        // since we do not have any context menu\n        // this enables for example macOS to Ctrl-\n        // click on an item to open it.\n\n        _this2.list.setSelection([e.index]);\n      }\n    }));\n    this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n  }\n\n  _createClass(QuickInputList, [{\n    key: \"getAllVisibleChecked\",\n    value: function getAllVisibleChecked() {\n      return this.allVisibleChecked(this.elements, false);\n    }\n  }, {\n    key: \"allVisibleChecked\",\n    value: function allVisibleChecked(elements) {\n      var whenNoneVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      for (var i = 0, n = elements.length; i < n; i++) {\n        var element = elements[i];\n\n        if (!element.hidden) {\n          if (!element.checked) {\n            return false;\n          } else {\n            whenNoneVisible = true;\n          }\n        }\n      }\n\n      return whenNoneVisible;\n    }\n  }, {\n    key: \"getCheckedCount\",\n    value: function getCheckedCount() {\n      var count = 0;\n      var elements = this.elements;\n\n      for (var i = 0, n = elements.length; i < n; i++) {\n        if (elements[i].checked) {\n          count++;\n        }\n      }\n\n      return count;\n    }\n  }, {\n    key: \"getVisibleCount\",\n    value: function getVisibleCount() {\n      var count = 0;\n      var elements = this.elements;\n\n      for (var i = 0, n = elements.length; i < n; i++) {\n        if (!elements[i].hidden) {\n          count++;\n        }\n      }\n\n      return count;\n    }\n  }, {\n    key: \"setAllVisibleChecked\",\n    value: function setAllVisibleChecked(checked) {\n      try {\n        this._fireCheckedEvents = false;\n        this.elements.forEach(function (element) {\n          if (!element.hidden) {\n            element.checked = checked;\n          }\n        });\n      } finally {\n        this._fireCheckedEvents = true;\n        this.fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements(inputElements) {\n      var _this3 = this,\n          _this$elementDisposab,\n          _this$elementDisposab2;\n\n      this.elementDisposables = _dispose(this.elementDisposables);\n\n      var fireButtonTriggered = function fireButtonTriggered(event) {\n        return _this3.fireButtonTriggered(event);\n      };\n\n      this.inputElements = inputElements;\n      this.elements = inputElements.reduce(function (result, item, index) {\n        var _a, _b, _c;\n\n        if (item.type !== 'separator') {\n          var previous = index && inputElements[index - 1];\n          var saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n          var saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n          var saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n          var saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n          var saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail].map(function (s) {\n            return s && parseLabelWithIcons(s).text;\n          }).filter(function (s) {\n            return !!s;\n          }).join(', ');\n          result.push(new ListElement({\n            index: index,\n            item: item,\n            saneLabel: saneLabel,\n            saneMeta: saneMeta,\n            saneAriaLabel: saneAriaLabel,\n            saneDescription: saneDescription,\n            saneDetail: saneDetail,\n            labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n            descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n            detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n            checked: false,\n            separator: previous && previous.type === 'separator' ? previous : undefined,\n            fireButtonTriggered: fireButtonTriggered\n          }));\n        }\n\n        return result;\n      }, []);\n\n      (_this$elementDisposab = this.elementDisposables).push.apply(_this$elementDisposab, _toConsumableArray(this.elements));\n\n      (_this$elementDisposab2 = this.elementDisposables).push.apply(_this$elementDisposab2, _toConsumableArray(this.elements.map(function (element) {\n        return element.onChecked(function () {\n          return _this3.fireCheckedEvents();\n        });\n      })));\n\n      this.elementsToIndexes = this.elements.reduce(function (map, element, index) {\n        map.set(element.item, index);\n        return map;\n      }, new Map());\n      this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n\n      this.list.splice(0, this.list.length, this.elements);\n\n      this._onChangedVisibleCount.fire(this.elements.length);\n    }\n  }, {\n    key: \"getFocusedElements\",\n    value: function getFocusedElements() {\n      return this.list.getFocusedElements().map(function (e) {\n        return e.item;\n      });\n    }\n  }, {\n    key: \"setFocusedElements\",\n    value: function setFocusedElements(items) {\n      var _this4 = this;\n\n      this.list.setFocus(items.filter(function (item) {\n        return _this4.elementsToIndexes.has(item);\n      }).map(function (item) {\n        return _this4.elementsToIndexes.get(item);\n      }));\n\n      if (items.length > 0) {\n        var focused = this.list.getFocus()[0];\n\n        if (typeof focused === 'number') {\n          this.list.reveal(focused);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveDescendant\",\n    value: function getActiveDescendant() {\n      return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n  }, {\n    key: \"setSelectedElements\",\n    value: function setSelectedElements(items) {\n      var _this5 = this;\n\n      this.list.setSelection(items.filter(function (item) {\n        return _this5.elementsToIndexes.has(item);\n      }).map(function (item) {\n        return _this5.elementsToIndexes.get(item);\n      }));\n    }\n  }, {\n    key: \"getCheckedElements\",\n    value: function getCheckedElements() {\n      return this.elements.filter(function (e) {\n        return e.checked;\n      }).map(function (e) {\n        return e.item;\n      });\n    }\n  }, {\n    key: \"setCheckedElements\",\n    value: function setCheckedElements(items) {\n      try {\n        this._fireCheckedEvents = false;\n        var checked = new Set();\n\n        var _iterator = _createForOfIteratorHelper(items),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            checked.add(item);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(this.elements),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var element = _step2.value;\n            element.checked = checked.has(element.item);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } finally {\n        this._fireCheckedEvents = true;\n        this.fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(what) {\n      if (!this.list.length) {\n        return;\n      }\n\n      if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n        what = QuickInputListFocus.First;\n      }\n\n      if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n        what = QuickInputListFocus.Last;\n      }\n\n      if (what === QuickInputListFocus.Second && this.list.length < 2) {\n        what = QuickInputListFocus.First;\n      }\n\n      switch (what) {\n        case QuickInputListFocus.First:\n          this.list.focusFirst();\n          break;\n\n        case QuickInputListFocus.Second:\n          this.list.focusNth(1);\n          break;\n\n        case QuickInputListFocus.Last:\n          this.list.focusLast();\n          break;\n\n        case QuickInputListFocus.Next:\n          this.list.focusNext();\n          break;\n\n        case QuickInputListFocus.Previous:\n          this.list.focusPrevious();\n          break;\n\n        case QuickInputListFocus.NextPage:\n          this.list.focusNextPage();\n          break;\n\n        case QuickInputListFocus.PreviousPage:\n          this.list.focusPreviousPage();\n          break;\n      }\n\n      var focused = this.list.getFocus()[0];\n\n      if (typeof focused === 'number') {\n        this.list.reveal(focused);\n      }\n    }\n  }, {\n    key: \"clearFocus\",\n    value: function clearFocus() {\n      this.list.setFocus([]);\n    }\n  }, {\n    key: \"domFocus\",\n    value: function domFocus() {\n      this.list.domFocus();\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(maxHeight) {\n      this.list.getHTMLElement().style.maxHeight = maxHeight ? \"calc(\".concat(Math.floor(maxHeight / 44) * 44, \"px)\") : '';\n      this.list.layout();\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(query) {\n      var _this6 = this;\n\n      if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n        this.list.layout();\n        return false;\n      }\n\n      query = query.trim(); // Reset filtering\n\n      if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n        this.elements.forEach(function (element) {\n          element.labelHighlights = undefined;\n          element.descriptionHighlights = undefined;\n          element.detailHighlights = undefined;\n          element.hidden = false;\n          var previous = element.index && _this6.inputElements[element.index - 1];\n          element.separator = previous && previous.type === 'separator' ? previous : undefined;\n        });\n      } // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n      else {\n          this.elements.forEach(function (element) {\n            var labelHighlights = _this6.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n            var descriptionHighlights = _this6.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n            var detailHighlights = _this6.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n            var metaHighlights = _this6.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n\n            if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n              element.labelHighlights = labelHighlights;\n              element.descriptionHighlights = descriptionHighlights;\n              element.detailHighlights = detailHighlights;\n              element.hidden = false;\n            } else {\n              element.labelHighlights = undefined;\n              element.descriptionHighlights = undefined;\n              element.detailHighlights = undefined;\n              element.hidden = !element.item.alwaysShow;\n            }\n\n            element.separator = undefined;\n          });\n        }\n\n      var shownElements = this.elements.filter(function (element) {\n        return !element.hidden;\n      }); // Sort by value\n\n      if (this.sortByLabel && query) {\n        var normalizedSearchValue = query.toLowerCase();\n        shownElements.sort(function (a, b) {\n          return compareEntries(a, b, normalizedSearchValue);\n        });\n      }\n\n      this.elementsToIndexes = shownElements.reduce(function (map, element, index) {\n        map.set(element.item, index);\n        return map;\n      }, new Map());\n      this.list.splice(0, this.list.length, shownElements);\n      this.list.setFocus([]);\n      this.list.layout();\n\n      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n\n      this._onChangedVisibleCount.fire(shownElements.length);\n\n      return true;\n    }\n  }, {\n    key: \"toggleCheckbox\",\n    value: function toggleCheckbox() {\n      try {\n        this._fireCheckedEvents = false;\n        var elements = this.list.getFocusedElements();\n        var allChecked = this.allVisibleChecked(elements);\n\n        var _iterator3 = _createForOfIteratorHelper(elements),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var element = _step3.value;\n            element.checked = !allChecked;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      } finally {\n        this._fireCheckedEvents = true;\n        this.fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"display\",\n    value: function display(_display) {\n      this.container.style.display = _display ? '' : 'none';\n    }\n  }, {\n    key: \"isDisplayed\",\n    value: function isDisplayed() {\n      return this.container.style.display !== 'none';\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.elementDisposables = _dispose(this.elementDisposables);\n      this.disposables = _dispose(this.disposables);\n    }\n  }, {\n    key: \"fireCheckedEvents\",\n    value: function fireCheckedEvents() {\n      if (this._fireCheckedEvents) {\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n\n        this._onChangedCheckedCount.fire(this.getCheckedCount());\n\n        this._onChangedCheckedElements.fire(this.getCheckedElements());\n      }\n    }\n  }, {\n    key: \"fireButtonTriggered\",\n    value: function fireButtonTriggered(event) {\n      this._onButtonTriggered.fire(event);\n    }\n  }, {\n    key: \"style\",\n    value: function style(styles) {\n      this.list.style(styles);\n    }\n  }, {\n    key: \"onDidChangeFocus\",\n    get: function get() {\n      return Event.map(this.list.onDidChangeFocus, function (e) {\n        return e.elements.map(function (e) {\n          return e.item;\n        });\n      });\n    }\n  }, {\n    key: \"onDidChangeSelection\",\n    get: function get() {\n      return Event.map(this.list.onDidChangeSelection, function (e) {\n        return {\n          items: e.elements.map(function (e) {\n            return e.item;\n          }),\n          event: e.browserEvent\n        };\n      });\n    }\n  }, {\n    key: \"enabled\",\n    set: function set(value) {\n      this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n  }]);\n\n  return QuickInputList;\n}();\n\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeFocus\", null);\n\n__decorate([memoize], QuickInputList.prototype, \"onDidChangeSelection\", null);\n\nfunction compareEntries(elementA, elementB, lookFor) {\n  var labelHighlightsA = elementA.labelHighlights || [];\n  var labelHighlightsB = elementB.labelHighlights || [];\n\n  if (labelHighlightsA.length && !labelHighlightsB.length) {\n    return -1;\n  }\n\n  if (!labelHighlightsA.length && labelHighlightsB.length) {\n    return 1;\n  }\n\n  if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n    return 0;\n  }\n\n  return compareAnything(elementA.saneLabel, elementB.saneLabel, lookFor);\n}\n\nvar QuickInputAccessibilityProvider = /*#__PURE__*/function () {\n  function QuickInputAccessibilityProvider() {\n    _classCallCheck(this, QuickInputAccessibilityProvider);\n  }\n\n  _createClass(QuickInputAccessibilityProvider, [{\n    key: \"getWidgetAriaLabel\",\n    value: function getWidgetAriaLabel() {\n      return localize('quickInput', \"Quick Input\");\n    }\n  }, {\n    key: \"getAriaLabel\",\n    value: function getAriaLabel(element) {\n      return element.saneAriaLabel;\n    }\n  }, {\n    key: \"getWidgetRole\",\n    value: function getWidgetRole() {\n      return 'listbox';\n    }\n  }, {\n    key: \"getRole\",\n    value: function getRole() {\n      return 'option';\n    }\n  }]);\n\n  return QuickInputAccessibilityProvider;\n}();","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputList.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","dom","dispose","matchesFuzzyIconAware","parseLabelWithIcons","compareAnything","Emitter","Event","StandardKeyboardEvent","IconLabel","HighlightedLabel","memoize","range","platform","ActionBar","Action","getIconClass","withNullAsUndefined","KeybindingLabel","localize","$","ListElement","init","hidden","_onChecked","onChecked","event","assign","_checked","fire","ListElementRenderer","container","data","create","toDisposeElement","toDisposeTemplate","entry","append","label","push","addStandardDisposableListener","EventType","CLICK","checkbox","offsetParent","preventDefault","type","CHANGE","element","checked","rows","row1","row2","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","keybinding","OS","detailContainer","detail","separator","actionBar","domNode","classList","add","index","labelHighlights","descriptionHighlights","detailHighlights","options","matches","descriptionTitle","saneDescription","descriptionMatches","extraClasses","item","iconClasses","italic","strikethrough","setLabel","saneLabel","set","saneDetail","textContent","style","display","toggle","clear","buttons","map","button","cssClasses","iconClass","iconPath","undefined","alwaysVisible","action","fireButtonTriggered","tooltip","icon","remove","ID","ListElementDelegate","QuickInputListFocus","QuickInputList","parent","id","inputElements","elements","elementsToIndexes","Map","matchOnDescription","matchOnDetail","matchOnLabel","matchOnMeta","sortByLabel","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onKeyDown","onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","disposables","delegate","accessibilityProvider","QuickInputAccessibilityProvider","list","createList","identityProvider","getId","setRowLineHeight","multipleSelectionSupport","horizontalScrolling","getHTMLElement","keyCode","toggleCheckbox","isMacintosh","metaKey","ctrlKey","setFocus","focus1","getFocus","focus2","onMouseDown","browserEvent","addDisposableListener","x","y","onMouseMiddleClick","onContextMenu","setSelection","allVisibleChecked","whenNoneVisible","n","count","forEach","fireCheckedEvents","reduce","_a","_b","_c","previous","replace","saneMeta","meta","description","saneAriaLabel","ariaLabel","s","text","filter","join","highlights","splice","getFocusedElements","items","has","get","focused","reveal","getAttribute","Set","what","Next","First","Previous","Last","Second","focusFirst","focusNth","focusLast","focusNext","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","maxHeight","Math","floor","layout","query","trim","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","toLowerCase","sort","a","b","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","styles","onDidChangeFocus","onDidChangeSelection","pointerEvents","prototype","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport './media/quickInput.css';\r\nimport * as dom from '../../../browser/dom.js';\r\nimport { dispose } from '../../../common/lifecycle.js';\r\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\r\nimport { compareAnything } from '../../../common/comparers.js';\r\nimport { Emitter, Event } from '../../../common/event.js';\r\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\r\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\r\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\r\nimport { memoize } from '../../../common/decorators.js';\r\nimport { range } from '../../../common/arrays.js';\r\nimport * as platform from '../../../common/platform.js';\r\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\r\nimport { Action } from '../../../common/actions.js';\r\nimport { getIconClass } from './quickInputUtils.js';\r\nimport { withNullAsUndefined } from '../../../common/types.js';\r\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\r\nimport { localize } from '../../../../nls.js';\r\nconst $ = dom.$;\r\nclass ListElement {\r\n    constructor(init) {\r\n        this.hidden = false;\r\n        this._onChecked = new Emitter();\r\n        this.onChecked = this._onChecked.event;\r\n        Object.assign(this, init);\r\n    }\r\n    get checked() {\r\n        return !!this._checked;\r\n    }\r\n    set checked(value) {\r\n        if (value !== this._checked) {\r\n            this._checked = value;\r\n            this._onChecked.fire(value);\r\n        }\r\n    }\r\n    dispose() {\r\n        this._onChecked.dispose();\r\n    }\r\n}\r\nclass ListElementRenderer {\r\n    get templateId() {\r\n        return ListElementRenderer.ID;\r\n    }\r\n    renderTemplate(container) {\r\n        const data = Object.create(null);\r\n        data.toDisposeElement = [];\r\n        data.toDisposeTemplate = [];\r\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\r\n        // Checkbox\r\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\r\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\r\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\r\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\r\n            }\r\n        }));\r\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\r\n        data.checkbox.type = 'checkbox';\r\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\r\n            data.element.checked = data.checkbox.checked;\r\n        }));\r\n        // Rows\r\n        const rows = dom.append(label, $('.quick-input-list-rows'));\r\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\r\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\r\n        // Label\r\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\r\n        // Keybinding\r\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\r\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\r\n        // Detail\r\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\r\n        data.detail = new HighlightedLabel(detailContainer, true);\r\n        // Separator\r\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\r\n        // Actions\r\n        data.actionBar = new ActionBar(data.entry);\r\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\r\n        data.toDisposeTemplate.push(data.actionBar);\r\n        return data;\r\n    }\r\n    renderElement(element, index, data) {\r\n        data.toDisposeElement = dispose(data.toDisposeElement);\r\n        data.element = element;\r\n        data.checkbox.checked = element.checked;\r\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\r\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\r\n        // Label\r\n        const options = Object.create(null);\r\n        options.matches = labelHighlights || [];\r\n        options.descriptionTitle = element.saneDescription;\r\n        options.descriptionMatches = descriptionHighlights || [];\r\n        options.extraClasses = element.item.iconClasses;\r\n        options.italic = element.item.italic;\r\n        options.strikethrough = element.item.strikethrough;\r\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\r\n        // Keybinding\r\n        data.keybinding.set(element.item.keybinding);\r\n        // Meta\r\n        data.detail.set(element.saneDetail, detailHighlights);\r\n        // Separator\r\n        if (element.separator && element.separator.label) {\r\n            data.separator.textContent = element.separator.label;\r\n            data.separator.style.display = '';\r\n        }\r\n        else {\r\n            data.separator.style.display = 'none';\r\n        }\r\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\r\n        // Actions\r\n        data.actionBar.clear();\r\n        const buttons = element.item.buttons;\r\n        if (buttons && buttons.length) {\r\n            data.actionBar.push(buttons.map((button, index) => {\r\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\r\n                if (button.alwaysVisible) {\r\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\r\n                }\r\n                const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\r\n                    element.fireButtonTriggered({\r\n                        button,\r\n                        item: element.item\r\n                    });\r\n                }));\r\n                action.tooltip = button.tooltip || '';\r\n                return action;\r\n            }), { icon: true, label: false });\r\n            data.entry.classList.add('has-actions');\r\n        }\r\n        else {\r\n            data.entry.classList.remove('has-actions');\r\n        }\r\n    }\r\n    disposeElement(element, index, data) {\r\n        data.toDisposeElement = dispose(data.toDisposeElement);\r\n    }\r\n    disposeTemplate(data) {\r\n        data.toDisposeElement = dispose(data.toDisposeElement);\r\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\r\n    }\r\n}\r\nListElementRenderer.ID = 'listelement';\r\nclass ListElementDelegate {\r\n    getHeight(element) {\r\n        return element.saneDetail ? 44 : 22;\r\n    }\r\n    getTemplateId(element) {\r\n        return ListElementRenderer.ID;\r\n    }\r\n}\r\nexport var QuickInputListFocus;\r\n(function (QuickInputListFocus) {\r\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\r\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\r\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\r\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\r\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\r\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\r\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\r\n})(QuickInputListFocus || (QuickInputListFocus = {}));\r\nexport class QuickInputList {\r\n    constructor(parent, id, options) {\r\n        this.parent = parent;\r\n        this.inputElements = [];\r\n        this.elements = [];\r\n        this.elementsToIndexes = new Map();\r\n        this.matchOnDescription = false;\r\n        this.matchOnDetail = false;\r\n        this.matchOnLabel = true;\r\n        this.matchOnMeta = true;\r\n        this.sortByLabel = true;\r\n        this._onChangedAllVisibleChecked = new Emitter();\r\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\r\n        this._onChangedCheckedCount = new Emitter();\r\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\r\n        this._onChangedVisibleCount = new Emitter();\r\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\r\n        this._onChangedCheckedElements = new Emitter();\r\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\r\n        this._onButtonTriggered = new Emitter();\r\n        this.onButtonTriggered = this._onButtonTriggered.event;\r\n        this._onKeyDown = new Emitter();\r\n        this.onKeyDown = this._onKeyDown.event;\r\n        this._onLeave = new Emitter();\r\n        this.onLeave = this._onLeave.event;\r\n        this._fireCheckedEvents = true;\r\n        this.elementDisposables = [];\r\n        this.disposables = [];\r\n        this.id = id;\r\n        this.container = dom.append(this.parent, $('.quick-input-list'));\r\n        const delegate = new ListElementDelegate();\r\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\r\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\r\n            identityProvider: { getId: element => element.saneLabel },\r\n            setRowLineHeight: false,\r\n            multipleSelectionSupport: false,\r\n            horizontalScrolling: false,\r\n            accessibilityProvider\r\n        });\r\n        this.list.getHTMLElement().id = id;\r\n        this.disposables.push(this.list);\r\n        this.disposables.push(this.list.onKeyDown(e => {\r\n            const event = new StandardKeyboardEvent(e);\r\n            switch (event.keyCode) {\r\n                case 10 /* Space */:\r\n                    this.toggleCheckbox();\r\n                    break;\r\n                case 31 /* KEY_A */:\r\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\r\n                        this.list.setFocus(range(this.list.length));\r\n                    }\r\n                    break;\r\n                case 16 /* UpArrow */:\r\n                    const focus1 = this.list.getFocus();\r\n                    if (focus1.length === 1 && focus1[0] === 0) {\r\n                        this._onLeave.fire();\r\n                    }\r\n                    break;\r\n                case 18 /* DownArrow */:\r\n                    const focus2 = this.list.getFocus();\r\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\r\n                        this._onLeave.fire();\r\n                    }\r\n                    break;\r\n            }\r\n            this._onKeyDown.fire(event);\r\n        }));\r\n        this.disposables.push(this.list.onMouseDown(e => {\r\n            if (e.browserEvent.button !== 2) {\r\n                // Works around / fixes #64350.\r\n                e.browserEvent.preventDefault();\r\n            }\r\n        }));\r\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\r\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\r\n                this._onLeave.fire();\r\n            }\r\n        }));\r\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\r\n            this._onLeave.fire();\r\n        }));\r\n        this.disposables.push(this.list.onContextMenu(e => {\r\n            if (typeof e.index === 'number') {\r\n                e.browserEvent.preventDefault();\r\n                // we want to treat a context menu event as\r\n                // a gesture to open the item at the index\r\n                // since we do not have any context menu\r\n                // this enables for example macOS to Ctrl-\r\n                // click on an item to open it.\r\n                this.list.setSelection([e.index]);\r\n            }\r\n        }));\r\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\r\n    }\r\n    get onDidChangeFocus() {\r\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\r\n    }\r\n    get onDidChangeSelection() {\r\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\r\n    }\r\n    getAllVisibleChecked() {\r\n        return this.allVisibleChecked(this.elements, false);\r\n    }\r\n    allVisibleChecked(elements, whenNoneVisible = true) {\r\n        for (let i = 0, n = elements.length; i < n; i++) {\r\n            const element = elements[i];\r\n            if (!element.hidden) {\r\n                if (!element.checked) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    whenNoneVisible = true;\r\n                }\r\n            }\r\n        }\r\n        return whenNoneVisible;\r\n    }\r\n    getCheckedCount() {\r\n        let count = 0;\r\n        const elements = this.elements;\r\n        for (let i = 0, n = elements.length; i < n; i++) {\r\n            if (elements[i].checked) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n    getVisibleCount() {\r\n        let count = 0;\r\n        const elements = this.elements;\r\n        for (let i = 0, n = elements.length; i < n; i++) {\r\n            if (!elements[i].hidden) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n    setAllVisibleChecked(checked) {\r\n        try {\r\n            this._fireCheckedEvents = false;\r\n            this.elements.forEach(element => {\r\n                if (!element.hidden) {\r\n                    element.checked = checked;\r\n                }\r\n            });\r\n        }\r\n        finally {\r\n            this._fireCheckedEvents = true;\r\n            this.fireCheckedEvents();\r\n        }\r\n    }\r\n    setElements(inputElements) {\r\n        this.elementDisposables = dispose(this.elementDisposables);\r\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\r\n        this.inputElements = inputElements;\r\n        this.elements = inputElements.reduce((result, item, index) => {\r\n            var _a, _b, _c;\r\n            if (item.type !== 'separator') {\r\n                const previous = index && inputElements[index - 1];\r\n                const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\r\n                const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\r\n                const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\r\n                const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\r\n                const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\r\n                    .map(s => s && parseLabelWithIcons(s).text)\r\n                    .filter(s => !!s)\r\n                    .join(', ');\r\n                result.push(new ListElement({\r\n                    index,\r\n                    item,\r\n                    saneLabel,\r\n                    saneMeta,\r\n                    saneAriaLabel,\r\n                    saneDescription,\r\n                    saneDetail,\r\n                    labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\r\n                    descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\r\n                    detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\r\n                    checked: false,\r\n                    separator: previous && previous.type === 'separator' ? previous : undefined,\r\n                    fireButtonTriggered\r\n                }));\r\n            }\r\n            return result;\r\n        }, []);\r\n        this.elementDisposables.push(...this.elements);\r\n        this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\r\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\r\n            map.set(element.item, index);\r\n            return map;\r\n        }, new Map());\r\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\r\n        this.list.splice(0, this.list.length, this.elements);\r\n        this._onChangedVisibleCount.fire(this.elements.length);\r\n    }\r\n    getFocusedElements() {\r\n        return this.list.getFocusedElements()\r\n            .map(e => e.item);\r\n    }\r\n    setFocusedElements(items) {\r\n        this.list.setFocus(items\r\n            .filter(item => this.elementsToIndexes.has(item))\r\n            .map(item => this.elementsToIndexes.get(item)));\r\n        if (items.length > 0) {\r\n            const focused = this.list.getFocus()[0];\r\n            if (typeof focused === 'number') {\r\n                this.list.reveal(focused);\r\n            }\r\n        }\r\n    }\r\n    getActiveDescendant() {\r\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\r\n    }\r\n    setSelectedElements(items) {\r\n        this.list.setSelection(items\r\n            .filter(item => this.elementsToIndexes.has(item))\r\n            .map(item => this.elementsToIndexes.get(item)));\r\n    }\r\n    getCheckedElements() {\r\n        return this.elements.filter(e => e.checked)\r\n            .map(e => e.item);\r\n    }\r\n    setCheckedElements(items) {\r\n        try {\r\n            this._fireCheckedEvents = false;\r\n            const checked = new Set();\r\n            for (const item of items) {\r\n                checked.add(item);\r\n            }\r\n            for (const element of this.elements) {\r\n                element.checked = checked.has(element.item);\r\n            }\r\n        }\r\n        finally {\r\n            this._fireCheckedEvents = true;\r\n            this.fireCheckedEvents();\r\n        }\r\n    }\r\n    set enabled(value) {\r\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\r\n    }\r\n    focus(what) {\r\n        if (!this.list.length) {\r\n            return;\r\n        }\r\n        if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\r\n            what = QuickInputListFocus.First;\r\n        }\r\n        if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\r\n            what = QuickInputListFocus.Last;\r\n        }\r\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\r\n            what = QuickInputListFocus.First;\r\n        }\r\n        switch (what) {\r\n            case QuickInputListFocus.First:\r\n                this.list.focusFirst();\r\n                break;\r\n            case QuickInputListFocus.Second:\r\n                this.list.focusNth(1);\r\n                break;\r\n            case QuickInputListFocus.Last:\r\n                this.list.focusLast();\r\n                break;\r\n            case QuickInputListFocus.Next:\r\n                this.list.focusNext();\r\n                break;\r\n            case QuickInputListFocus.Previous:\r\n                this.list.focusPrevious();\r\n                break;\r\n            case QuickInputListFocus.NextPage:\r\n                this.list.focusNextPage();\r\n                break;\r\n            case QuickInputListFocus.PreviousPage:\r\n                this.list.focusPreviousPage();\r\n                break;\r\n        }\r\n        const focused = this.list.getFocus()[0];\r\n        if (typeof focused === 'number') {\r\n            this.list.reveal(focused);\r\n        }\r\n    }\r\n    clearFocus() {\r\n        this.list.setFocus([]);\r\n    }\r\n    domFocus() {\r\n        this.list.domFocus();\r\n    }\r\n    layout(maxHeight) {\r\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\r\n        this.list.layout();\r\n    }\r\n    filter(query) {\r\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\r\n            this.list.layout();\r\n            return false;\r\n        }\r\n        query = query.trim();\r\n        // Reset filtering\r\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\r\n            this.elements.forEach(element => {\r\n                element.labelHighlights = undefined;\r\n                element.descriptionHighlights = undefined;\r\n                element.detailHighlights = undefined;\r\n                element.hidden = false;\r\n                const previous = element.index && this.inputElements[element.index - 1];\r\n                element.separator = previous && previous.type === 'separator' ? previous : undefined;\r\n            });\r\n        }\r\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\r\n        else {\r\n            this.elements.forEach(element => {\r\n                const labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\r\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\r\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\r\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\r\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\r\n                    element.labelHighlights = labelHighlights;\r\n                    element.descriptionHighlights = descriptionHighlights;\r\n                    element.detailHighlights = detailHighlights;\r\n                    element.hidden = false;\r\n                }\r\n                else {\r\n                    element.labelHighlights = undefined;\r\n                    element.descriptionHighlights = undefined;\r\n                    element.detailHighlights = undefined;\r\n                    element.hidden = !element.item.alwaysShow;\r\n                }\r\n                element.separator = undefined;\r\n            });\r\n        }\r\n        const shownElements = this.elements.filter(element => !element.hidden);\r\n        // Sort by value\r\n        if (this.sortByLabel && query) {\r\n            const normalizedSearchValue = query.toLowerCase();\r\n            shownElements.sort((a, b) => {\r\n                return compareEntries(a, b, normalizedSearchValue);\r\n            });\r\n        }\r\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\r\n            map.set(element.item, index);\r\n            return map;\r\n        }, new Map());\r\n        this.list.splice(0, this.list.length, shownElements);\r\n        this.list.setFocus([]);\r\n        this.list.layout();\r\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\r\n        this._onChangedVisibleCount.fire(shownElements.length);\r\n        return true;\r\n    }\r\n    toggleCheckbox() {\r\n        try {\r\n            this._fireCheckedEvents = false;\r\n            const elements = this.list.getFocusedElements();\r\n            const allChecked = this.allVisibleChecked(elements);\r\n            for (const element of elements) {\r\n                element.checked = !allChecked;\r\n            }\r\n        }\r\n        finally {\r\n            this._fireCheckedEvents = true;\r\n            this.fireCheckedEvents();\r\n        }\r\n    }\r\n    display(display) {\r\n        this.container.style.display = display ? '' : 'none';\r\n    }\r\n    isDisplayed() {\r\n        return this.container.style.display !== 'none';\r\n    }\r\n    dispose() {\r\n        this.elementDisposables = dispose(this.elementDisposables);\r\n        this.disposables = dispose(this.disposables);\r\n    }\r\n    fireCheckedEvents() {\r\n        if (this._fireCheckedEvents) {\r\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\r\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\r\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\r\n        }\r\n    }\r\n    fireButtonTriggered(event) {\r\n        this._onButtonTriggered.fire(event);\r\n    }\r\n    style(styles) {\r\n        this.list.style(styles);\r\n    }\r\n}\r\n__decorate([\r\n    memoize\r\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\r\n__decorate([\r\n    memoize\r\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\r\nfunction compareEntries(elementA, elementB, lookFor) {\r\n    const labelHighlightsA = elementA.labelHighlights || [];\r\n    const labelHighlightsB = elementB.labelHighlights || [];\r\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\r\n        return -1;\r\n    }\r\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\r\n        return 1;\r\n    }\r\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\r\n        return 0;\r\n    }\r\n    return compareAnything(elementA.saneLabel, elementB.saneLabel, lookFor);\r\n}\r\nclass QuickInputAccessibilityProvider {\r\n    getWidgetAriaLabel() {\r\n        return localize('quickInput', \"Quick Input\");\r\n    }\r\n    getAriaLabel(element) {\r\n        return element.saneAriaLabel;\r\n    }\r\n    getWidgetRole() {\r\n        return 'listbox';\r\n    }\r\n    getRole() {\r\n        return 'option';\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}