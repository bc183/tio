{"ast":null,"code":"import _classCallCheck from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bar007/Desktop/projects/tio/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport './scrollDecoration.css';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { scrollbarShadow } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nexport var ScrollDecorationViewPart = /*#__PURE__*/function (_ViewPart) {\n  _inherits(ScrollDecorationViewPart, _ViewPart);\n\n  var _super = _createSuper(ScrollDecorationViewPart);\n\n  function ScrollDecorationViewPart(context) {\n    var _this;\n\n    _classCallCheck(this, ScrollDecorationViewPart);\n\n    _this = _super.call(this, context);\n    _this._scrollTop = 0;\n    _this._width = 0;\n\n    _this._updateWidth();\n\n    _this._shouldShow = false;\n    var options = _this._context.configuration.options;\n    var scrollbar = options.get(87\n    /* scrollbar */\n    );\n    _this._useShadows = scrollbar.useShadows;\n    _this._domNode = createFastDomNode(document.createElement('div'));\n\n    _this._domNode.setAttribute('role', 'presentation');\n\n    _this._domNode.setAttribute('aria-hidden', 'true');\n\n    return _this;\n  }\n\n  _createClass(ScrollDecorationViewPart, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(ScrollDecorationViewPart.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"_updateShouldShow\",\n    value: function _updateShouldShow() {\n      var newShouldShow = this._useShadows && this._scrollTop > 0;\n\n      if (this._shouldShow !== newShouldShow) {\n        this._shouldShow = newShouldShow;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getDomNode\",\n    value: function getDomNode() {\n      return this._domNode;\n    }\n  }, {\n    key: \"_updateWidth\",\n    value: function _updateWidth() {\n      var options = this._context.configuration.options;\n      var layoutInfo = options.get(124\n      /* layoutInfo */\n      );\n\n      if (layoutInfo.minimap.renderMinimap === 0 || layoutInfo.minimap.minimapWidth > 0 && layoutInfo.minimap.minimapLeft === 0) {\n        this._width = layoutInfo.width;\n      } else {\n        this._width = layoutInfo.width - layoutInfo.minimap.minimapWidth - layoutInfo.verticalScrollbarWidth;\n      }\n    } // --- begin event handlers\n\n  }, {\n    key: \"onConfigurationChanged\",\n    value: function onConfigurationChanged(e) {\n      var options = this._context.configuration.options;\n      var scrollbar = options.get(87\n      /* scrollbar */\n      );\n      this._useShadows = scrollbar.useShadows;\n\n      this._updateWidth();\n\n      this._updateShouldShow();\n\n      return true;\n    }\n  }, {\n    key: \"onScrollChanged\",\n    value: function onScrollChanged(e) {\n      this._scrollTop = e.scrollTop;\n      return this._updateShouldShow();\n    } // --- end event handlers\n\n  }, {\n    key: \"prepareRender\",\n    value: function prepareRender(ctx) {// Nothing to read\n    }\n  }, {\n    key: \"render\",\n    value: function render(ctx) {\n      this._domNode.setWidth(this._width);\n\n      this._domNode.setClassName(this._shouldShow ? 'scroll-decoration' : '');\n    }\n  }]);\n\n  return ScrollDecorationViewPart;\n}(ViewPart);\nregisterThemingParticipant(function (theme, collector) {\n  var shadow = theme.getColor(scrollbarShadow);\n\n  if (shadow) {\n    collector.addRule(\".monaco-editor .scroll-decoration { box-shadow: \".concat(shadow, \" 0 6px 6px -6px inset; }\"));\n  }\n});","map":{"version":3,"sources":["/home/bar007/Desktop/projects/tio/client/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/scrollDecoration/scrollDecoration.js"],"names":["createFastDomNode","ViewPart","scrollbarShadow","registerThemingParticipant","ScrollDecorationViewPart","context","_scrollTop","_width","_updateWidth","_shouldShow","options","_context","configuration","scrollbar","get","_useShadows","useShadows","_domNode","document","createElement","setAttribute","newShouldShow","layoutInfo","minimap","renderMinimap","minimapWidth","minimapLeft","width","verticalScrollbarWidth","e","_updateShouldShow","scrollTop","ctx","setWidth","setClassName","theme","collector","shadow","getColor","addRule"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './scrollDecoration.css';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { ViewPart } from '../../view/viewPart.js';\r\nimport { scrollbarShadow } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nexport class ScrollDecorationViewPart extends ViewPart {\r\n    constructor(context) {\r\n        super(context);\r\n        this._scrollTop = 0;\r\n        this._width = 0;\r\n        this._updateWidth();\r\n        this._shouldShow = false;\r\n        const options = this._context.configuration.options;\r\n        const scrollbar = options.get(87 /* scrollbar */);\r\n        this._useShadows = scrollbar.useShadows;\r\n        this._domNode = createFastDomNode(document.createElement('div'));\r\n        this._domNode.setAttribute('role', 'presentation');\r\n        this._domNode.setAttribute('aria-hidden', 'true');\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n    }\r\n    _updateShouldShow() {\r\n        const newShouldShow = (this._useShadows && this._scrollTop > 0);\r\n        if (this._shouldShow !== newShouldShow) {\r\n            this._shouldShow = newShouldShow;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    getDomNode() {\r\n        return this._domNode;\r\n    }\r\n    _updateWidth() {\r\n        const options = this._context.configuration.options;\r\n        const layoutInfo = options.get(124 /* layoutInfo */);\r\n        if (layoutInfo.minimap.renderMinimap === 0 || (layoutInfo.minimap.minimapWidth > 0 && layoutInfo.minimap.minimapLeft === 0)) {\r\n            this._width = layoutInfo.width;\r\n        }\r\n        else {\r\n            this._width = layoutInfo.width - layoutInfo.minimap.minimapWidth - layoutInfo.verticalScrollbarWidth;\r\n        }\r\n    }\r\n    // --- begin event handlers\r\n    onConfigurationChanged(e) {\r\n        const options = this._context.configuration.options;\r\n        const scrollbar = options.get(87 /* scrollbar */);\r\n        this._useShadows = scrollbar.useShadows;\r\n        this._updateWidth();\r\n        this._updateShouldShow();\r\n        return true;\r\n    }\r\n    onScrollChanged(e) {\r\n        this._scrollTop = e.scrollTop;\r\n        return this._updateShouldShow();\r\n    }\r\n    // --- end event handlers\r\n    prepareRender(ctx) {\r\n        // Nothing to read\r\n    }\r\n    render(ctx) {\r\n        this._domNode.setWidth(this._width);\r\n        this._domNode.setClassName(this._shouldShow ? 'scroll-decoration' : '');\r\n    }\r\n}\r\nregisterThemingParticipant((theme, collector) => {\r\n    const shadow = theme.getColor(scrollbarShadow);\r\n    if (shadow) {\r\n        collector.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${shadow} 0 6px 6px -6px inset; }`);\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}